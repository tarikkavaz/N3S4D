(self.webpackChunkbackend=self.webpackChunkbackend||[]).push([[8880],{68314:(O,U,s)=>{"use strict";s.d(U,{Z:()=>$});var t=s(67294),C=s(27821),M=s(45697),h=s.n(M),m=s(28702),i=s.n(m),R=s(41363),j=s.n(R),J=s(95489),n=s.n(J);const T={biginteger:R.Number,boolean:R.Boolean,collectionType:R.CollectionType,component:R.Component,contentType:R.CollectionType,date:R.Date,datetime:R.Date,decimal:R.Number,dynamiczone:R.DynamicZone,email:R.Email,enum:R.Enumeration,enumeration:R.Enumeration,file:R.Media,files:R.Media,float:R.Number,integer:R.Number,json:R.Json,JSON:R.Json,media:R.Media,number:R.Number,password:R.Password,relation:R.Relation,richtext:R.RichText,singleType:R.SingleType,string:R.Text,text:R.Text,time:R.Date,timestamp:R.Date,uid:R.Uid},Z=(0,C.default)(m.Box)`
  svg {
    height: 100%;
    width: 100%;
  }
`,B=({type:H,customField:u,...z})=>{const G=(0,J.useCustomFields)();let E=T[H];if(u){const{icon:K}=G.get(u);K&&(E=K)}return T[H]?t.createElement(Z,{height:(0,J.pxToRem)(24),width:(0,J.pxToRem)(32),shrink:0,...z,"aria-hidden":!0},t.createElement(m.Box,{as:E})):null};B.defaultProps={customField:null},B.propTypes={type:h().string.isRequired,customField:h().string};const $=B},7955:(O,U,s)=>{"use strict";s.d(U,{Z:()=>M});var t=s(67294);const M=(0,t.createContext)()},98422:(O,U,s)=>{"use strict";s.d(U,{Z:()=>M});var t=s(67294);const M=(0,t.createContext)()},13588:(O,U,s)=>{"use strict";s.d(U,{Z:()=>h});var t=s(67294),C=s(7955);const h=()=>(0,t.useContext)(C.Z)},26478:(O,U,s)=>{"use strict";s.d(U,{Z:()=>h});var t=s(67294),C=s(98422);const h=()=>(0,t.useContext)(C.Z)},67972:(O,U,s)=>{"use strict";s.r(U),s.d(U,{default:()=>hr});var t=s(67294),C=s(49656),M=s(15482),h=s(97132),m=s(95489),i=s(28702),R=s(57176),j=s(96124),J=s(45697),n=s.n(J),T=s(96486),Z=s(37424),B=s(35281),$=s(7955),H=s(26478),u=s(5002),z=s(85169),G=s(27361),E=s.n(G),K=s(18721),ee=s.n(K),re=s(36968),ye=s.n(re),Ie=s(7334),ve=s.n(Ie),me=s(13588),nt=s(11700),Ce=s.n(nt);const Qe=[{label:"All",children:[{label:"images (JPEG, PNG, GIF, SVG, TIFF, ICO, DVU)",value:"images"},{label:"videos (MPEG, MP4, Quicktime, WMV, AVI, FLV)",value:"videos"},{label:"audios (MP3, WAV, OGG)",value:"audios"},{label:"files (CSV, ZIP, PDF, Excel, JSON, ...)",value:"files"}]}],Be=({intlLabel:e,name:a,onChange:r,value:l})=>{const{formatMessage:o}=(0,h.useIntl)(),d=l===null||l.length===0?o({id:"global.none",defaultMessage:"None"}):[...l].sort().map(p=>Ce()(p)).join(", "),c=e.id?o({id:e.id,defaultMessage:e.defaultMessage}):a;return t.createElement(i.MultiSelectNested,{id:"select1",label:c,customizeContent:()=>d,onChange:p=>{p.length>0?r({target:{name:a,value:p,type:"allowed-types-select"}}):r({target:{name:a,value:null,type:"allowed-types-select"}})},options:Qe,value:l||[]})};Be.defaultProps={value:null},Be.propTypes={intlLabel:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired,values:n().object}).isRequired,name:n().string.isRequired,onChange:n().func.isRequired,value:n().oneOfType([n().object,n().array])};const Ue=Be,_e=e=>e.kind==="collectionType"&&(e.restrictRelationsTo===null||Array.isArray(e.restrictRelationsTo)&&e.restrictRelationsTo.length>0);var De=s(68314),$e=s(27821);const Gt=(0,$e.default)(i.Box)`
  width: 100%;
  height: 100%;
  border: 1px solid ${({theme:e})=>e.colors.neutral200};
  text-align: left;
  &:hover {
    background: ${({theme:e})=>e.colors.primary100};
    border: 1px solid ${({theme:e})=>e.colors.primary200};
  }
`,rt=({type:e})=>{const{formatMessage:a}=(0,h.useIntl)(),{onClickSelectField:r}=(0,H.Z)(),l=()=>{r({attributeType:e,step:e==="component"?"1":null})};return t.createElement(Gt,{padding:4,as:"button",hasRadius:!0,type:"button",onClick:l},t.createElement(i.Flex,null,t.createElement(De.Z,{type:e}),t.createElement(i.Box,{paddingLeft:4},t.createElement(i.Flex,null,t.createElement(i.Typography,{fontWeight:"bold"},a({id:(0,u.Z)(`attribute.${e}`),defaultMessage:e}))),t.createElement(i.Flex,null,t.createElement(i.Typography,{variant:"pi",textColor:"neutral600"},a({id:(0,u.Z)(`attribute.${e}.description`),defaultMessage:"A type for modeling data"}))))))};rt.defaultProps={type:"text"},rt.propTypes={type:n().string};const Dn=rt,Vt=e=>{const a=e%2===1;return{paddingLeft:a?2:0,paddingRight:a?0:2}},Ht=({attributes:e})=>t.createElement(i.KeyboardNavigable,{tagName:"button"},t.createElement(i.Stack,{spacing:8},e.map((a,r)=>t.createElement(i.Grid,{key:r,gap:0},a.map((l,o)=>{const{paddingLeft:d,paddingRight:c}=Vt(o);return t.createElement(i.GridItem,{key:l,col:6,style:{height:"100%"}},t.createElement(i.Box,{paddingLeft:d,paddingRight:c,paddingBottom:1,style:{height:"100%"}},t.createElement(Dn,{type:l})))})))));Ht.propTypes={attributes:n().array.isRequired};const Pn=Ht;var kn=s(80129),Bn=s.n(kn),be=s(41363);const Un=(0,$e.default)(i.Box)`
  background: ${({theme:e})=>`linear-gradient(180deg, rgba(234, 234, 239, 0) 0%, ${e.colors.neutral150} 100%)`};
  opacity: 0.33;
`,$n=()=>t.createElement(i.Flex,{wrap:"wrap",gap:4},[...Array(4)].map((e,a)=>t.createElement(Un,{key:`empty-card-${a}`,height:"138px",width:"375px",hasRadius:!0}))),jn=()=>{const{formatMessage:e}=(0,h.useIntl)();return t.createElement(i.Box,{position:"relative"},t.createElement($n,null),t.createElement(i.Box,{position:"absolute",top:6,width:"100%"},t.createElement(i.Flex,{alignItems:"center",justifyContent:"center",direction:"column"},t.createElement(i.Icon,{as:be.EmptyStateDocument,color:"",width:"160px",height:"88px"}),t.createElement(i.Box,{paddingTop:6,paddingBottom:4},t.createElement(i.Box,{textAlign:"center"},t.createElement(i.Typography,{variant:"delta",as:"p",textColor:"neutral600"},e({id:(0,u.Z)("modalForm.empty.heading"),defaultMessage:"Nothing in here yet."})),t.createElement(i.Box,{paddingTop:4},t.createElement(i.Typography,{variant:"delta",as:"p",textColor:"neutral600"},e({id:(0,u.Z)("modalForm.empty.sub-heading"),defaultMessage:"Find what you are looking for through a wide range of extensions."}))))),t.createElement(i.LinkButton,{to:`/marketplace?${Bn().stringify({categories:["Custom fields"]})}`,variant:"secondary",startIcon:t.createElement(be.Plus,null)},e({id:(0,u.Z)("modalForm.empty.button"),defaultMessage:"Add custom fields"})))))},Kt=({customFieldUid:e,customField:a})=>{const{type:r,intlLabel:l,intlDescription:o}=a,{formatMessage:d}=(0,h.useIntl)(),{onClickSelectCustomField:c}=(0,H.Z)(),p=()=>{c({attributeType:r,customFieldUid:e})};return t.createElement(Gt,{padding:4,as:"button",hasRadius:!0,type:"button",onClick:p},t.createElement(i.Flex,null,t.createElement(De.Z,{type:r,customField:e}),t.createElement(i.Box,{paddingLeft:4},t.createElement(i.Flex,null,t.createElement(i.Typography,{fontWeight:"bold"},d(l))),t.createElement(i.Flex,null,t.createElement(i.Typography,{variant:"pi",textColor:"neutral600"},d(o))))))};Kt.propTypes={customFieldUid:n().string.isRequired,customField:n().shape({type:n().string.isRequired,icon:n().func,intlLabel:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired}).isRequired,intlDescription:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired}).isRequired}).isRequired};const wn=Kt,Wn=()=>{const{formatMessage:e}=(0,h.useIntl)(),a=(0,m.useCustomFields)(),r=Object.entries(a.getAll());if(!r.length)return t.createElement(jn,null);const l=r.sort((o,d)=>o[1].name>d[1].name?1:-1);return t.createElement(i.KeyboardNavigable,{tagName:"button"},t.createElement(i.Stack,{spacing:3},t.createElement(i.Grid,{gap:0},l.map(([o,d],c)=>{const{paddingLeft:p,paddingRight:g}=Vt(c);return t.createElement(i.GridItem,{key:o,col:6,style:{height:"100%"}},t.createElement(i.Box,{paddingLeft:p,paddingRight:g,paddingBottom:1,style:{height:"100%"}},t.createElement(wn,{key:o,customFieldUid:o,customField:d})))})),t.createElement(i.Link,{href:"https://docs.strapi.io/developer-docs/latest/development/custom-fields.html",isExternal:!0},e({id:(0,u.Z)("modalForm.tabs.custom.howToLink"),defaultMessage:"How to add custom fields"}))))},Yt=({attributes:e,forTarget:a,kind:r})=>{const{formatMessage:l}=(0,h.useIntl)(),o=(0,u.Z)("modalForm.tabs.default"),d=(0,u.Z)("modalForm.tabs.custom"),c=a.includes("component")?"component":r,p=(0,u.Z)(`modalForm.sub-header.chooseAttribute.${c}`);return t.createElement(i.ModalBody,{padding:6},t.createElement(i.TabGroup,{label:l({id:(0,u.Z)("modalForm.tabs.label"),defaultMessage:"Default and Custom types tabs"}),id:"attribute-type-tabs",variant:"simple"},t.createElement(i.Flex,{justifyContent:"space-between"},t.createElement(i.Typography,{variant:"beta",as:"h2"},l({id:p,defaultMessage:"Select a field"})),t.createElement(i.Tabs,null,t.createElement(i.Tab,null,l({id:o,defaultMessage:"Default"})),t.createElement(i.Tab,null,l({id:d,defaultMessage:"Custom"})))),t.createElement(i.Box,{paddingBottom:6},t.createElement(i.Divider,null)),t.createElement(i.TabPanels,null,t.createElement(i.TabPanel,null,t.createElement(Pn,{attributes:e})),t.createElement(i.TabPanel,null,t.createElement(Wn,null)))))};Yt.propTypes={attributes:n().array.isRequired,forTarget:n().string.isRequired,kind:n().string.isRequired};const zn=Yt,ot=({description:e,disabled:a,intlLabel:r,isCreating:l,name:o,onChange:d,value:c})=>{const{formatMessage:p}=(0,h.useIntl)(),[g,y]=(0,t.useState)(!1),b=r.id?p({id:r.id,defaultMessage:r.defaultMessage},{...r.values}):o,f=e?p({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",A=()=>y(w=>!w),S=()=>{d({target:{name:o,value:!1}}),A()},P=({target:{checked:w}})=>{if(!w&&!l){A();return}d({target:{name:o,value:w}})};return t.createElement(t.Fragment,null,t.createElement(i.Checkbox,{checked:c,disabled:a,hint:f,name:o,onChange:P},b),t.createElement(m.ConfirmDialog,{isOpen:g,onToggleDialog:A,onConfirm:S,bodyText:{id:(0,u.Z)("popUpWarning.draft-publish.message"),defaultMessage:"If you disable the draft & publish, your drafts will be deleted."},leftButtonText:{id:"components.popUpWarning.button.cancel",defaultMessage:"No, cancel"},rightButtonText:{id:(0,u.Z)("popUpWarning.draft-publish.button.confirm"),defaultMessage:"Yes, disable"}}))};ot.defaultProps={description:null,disabled:!1,value:!1},ot.propTypes={description:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired,values:n().object}),disabled:n().bool,intlLabel:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired,values:n().object}).isRequired,isCreating:n().bool.isRequired,name:n().string.isRequired,onChange:n().func.isRequired,value:n().bool};const Gn=ot,st=({actionType:e,attributeName:a,attributeType:r,categoryName:l,contentTypeKind:o,dynamicZoneTarget:d,forTarget:c,modalType:p,targetUid:g,customFieldUid:y})=>{const{formatMessage:b}=(0,h.useIntl)(),{modifiedData:f}=(0,me.Z)();let A,S=[];const P=f?.[c]?.[g]||f?.[c]||null;let w=P?.schema.displayName;if(p==="contentType"&&(A=o),["component","editCategory"].includes(p)&&(A="component"),["component","contentType"].includes(p)){let F=(0,u.Z)(`modalForm.component.header-${e}`);return p==="contentType"&&(F=(0,u.Z)(`modalForm.${o}.header-create`)),e==="edit"&&(F=(0,u.Z)("modalForm.header-edit")),t.createElement(i.ModalHeader,null,t.createElement(i.Flex,null,t.createElement(i.Box,null,t.createElement(De.Z,{type:A})),t.createElement(i.Box,{paddingLeft:3},t.createElement(i.Typography,{fontWeight:"bold",textColor:"neutral800",as:"h2",id:"title"},b({id:F},{name:w})))))}S=[{label:w,info:{category:P?.category||null,name:P?.schema.displayName}}],p==="chooseAttribute"&&(A=["component","components"].includes(c)?"component":P.schema.kind),p==="addComponentToDynamicZone"&&(A="dynamiczone",S.push({label:d})),(p==="attribute"||p==="customField")&&(A=r,S.push({label:a})),p==="editCategory"&&(S=[{label:b({id:(0,u.Z)("modalForm.header.categories"),defaultMessage:"Categories"})},{label:l}]);const N=S.map(({label:F})=>F).join(",");return t.createElement(i.ModalHeader,null,t.createElement(i.Stack,{horizontal:!0,spacing:3},t.createElement(De.Z,{type:A,customField:y}),t.createElement(i.Breadcrumbs,{label:N},S.map((F,I)=>{const ne=Ce()(F.label);if(!ne)return null;const ae=`${F.label}.${I}`;if(F.info?.category){const pe=`${ne} (${Ce()(F.info.category)} - ${Ce()(F.info.name)})`;return t.createElement(i.Crumb,{key:ae},pe)}return t.createElement(i.Crumb,{key:ae},ne)}))))};st.defaultProps={actionType:null,attributeName:null,attributeType:null,categoryName:null,dynamicZoneTarget:null,forTarget:null,contentTypeKind:null,targetUid:null,customFieldUid:null},st.propTypes={actionType:n().string,attributeName:n().string,attributeType:n().string,categoryName:n().string,contentTypeKind:n().string,dynamicZoneTarget:n().string,forTarget:n().oneOf(["contentType","component","components"]),modalType:n().string.isRequired,targetUid:n().string,customFieldUid:n().string};const Vn=st,it=({categoryName:e,deleteCategory:a,deleteComponent:r,deleteContentType:l,isAttributeModal:o,isCustomFieldModal:d,isComponentAttribute:c,isComponentToDzModal:p,isContentTypeModal:g,isCreatingComponent:y,isCreatingComponentAttribute:b,isCreatingComponentInDz:f,isCreatingComponentWhileAddingAField:A,isCreatingContentType:S,isCreatingDz:P,isComponentModal:w,isDzAttribute:Q,isEditingAttribute:N,isEditingCategory:F,isInFirstComponentStep:I,onSubmitAddComponentAttribute:ne,onSubmitAddComponentToDz:ae,onSubmitCreateContentType:pe,onSubmitCreateComponent:W,onSubmitCreateDz:le,onSubmitEditAttribute:Ee,onSubmitEditCategory:Ye,onSubmitEditComponent:he,onSubmitEditContentType:We,onSubmitEditCustomFieldAttribute:oe,onSubmitEditDz:ze,onClickFinish:ce})=>{const{formatMessage:te}=(0,h.useIntl)();return p?f?t.createElement(i.Button,{variant:"secondary",type:"submit",onClick:L=>{L.preventDefault(),ae(L,!0)},startIcon:t.createElement(be.Plus,null)},te({id:(0,u.Z)("form.button.add-first-field-to-created-component"),defaultMessage:"Add first field to the component"})):t.createElement(i.Button,{variant:"default",type:"submit",onClick:L=>{L.preventDefault(),ae(L,!1)}},te({id:"global.finish",defaultMessage:"Finish"})):o&&Q&&!P?t.createElement(i.Button,{variant:"default",type:"submit",onClick:L=>{L.preventDefault(),ce(),ze(L,!1)}},te({id:"global.finish",defaultMessage:"Finish"})):o&&Q&&P?t.createElement(t.Fragment,null,t.createElement(i.Button,{variant:"secondary",type:"submit",onClick:L=>{L.preventDefault(),le(L,!0)},startIcon:t.createElement(be.Plus,null)},te({id:(0,u.Z)("form.button.add-components-to-dynamiczone"),defaultMessage:"Add components to the zone"}))):o&&c?I?t.createElement(i.Button,{variant:"secondary",type:"submit",onClick:L=>{L.preventDefault(),ne(L,!0)}},te(b?{id:(0,u.Z)("form.button.configure-component"),defaultMessage:"Configure the component"}:{id:(0,u.Z)("form.button.select-component"),defaultMessage:"Configure the component"})):t.createElement(t.Fragment,null,t.createElement(i.Button,{variant:"secondary",type:"submit",onClick:L=>{L.preventDefault(),ne(L,!0)},startIcon:t.createElement(be.Plus,null)},te(A?{id:(0,u.Z)("form.button.add-first-field-to-created-component"),defaultMessage:"Add first field to the component"}:{id:(0,u.Z)("form.button.add-field"),defaultMessage:"Add another field"})),t.createElement(i.Button,{variant:"default",type:"button",onClick:L=>{L.preventDefault(),ce(),ne(L,!1)}},te({id:"global.finish",defaultMessage:"Finish"}))):o&&!c&&!Q?t.createElement(t.Fragment,null,t.createElement(i.Button,{type:N?"button":"submit",variant:"secondary",onClick:L=>{L.preventDefault(),Ee(L,!0)},startIcon:t.createElement(be.Plus,null)},te({id:(0,u.Z)("form.button.add-field"),defaultMessage:"Add another field"})),t.createElement(i.Button,{type:N?"submit":"button",variant:"default",onClick:L=>{L.preventDefault(),ce(),Ee(L,!1)}},te({id:"global.finish",defaultMessage:"Finish"}))):g?t.createElement(t.Fragment,null,!S&&t.createElement(t.Fragment,null,t.createElement(i.Button,{type:"button",variant:"danger",onClick:L=>{L.preventDefault(),l()}},te({id:"global.delete",defaultMessage:"Delete"})),t.createElement(i.Button,{type:"submit",variant:"default",onClick:L=>{L.preventDefault(),We(L,!1)}},te({id:"global.finish",defaultMessage:"Finish"}))),S&&t.createElement(i.Button,{type:"submit",variant:"secondary",onClick:L=>{L.preventDefault(),pe(L,!0)}},te({id:"global.continue",defaultMessage:"Continue"}))):w?t.createElement(t.Fragment,null,!y&&t.createElement(t.Fragment,null,t.createElement(i.Button,{type:"button",variant:"danger",onClick:L=>{L.preventDefault(),r()}},te({id:"global.delete",defaultMessage:"Delete"})),t.createElement(i.Button,{type:"submit",variant:"default",onClick:L=>{L.preventDefault(),he(L,!1)}},te({id:"global.finish",defaultMessage:"Finish"}))),y&&t.createElement(i.Button,{type:"submit",variant:"secondary",onClick:L=>{L.preventDefault(),W(L,!0)}},te({id:"global.continue",defaultMessage:"Continue"}))):F?t.createElement(t.Fragment,null,t.createElement(i.Button,{type:"button",variant:"danger",onClick:L=>{L.preventDefault(),a(e)}},te({id:"global.delete",defaultMessage:"Delete"})),t.createElement(i.Button,{type:"submit",variant:"default",onClick:L=>{L.preventDefault(),Ye(L)}},te({id:"global.finish",defaultMessage:"finish"}))):d?t.createElement(t.Fragment,null,t.createElement(i.Button,{type:N?"button":"submit",variant:"secondary",onClick:L=>{L.preventDefault(),oe(L,!0)},startIcon:t.createElement(be.Plus,null)},te({id:(0,u.Z)("form.button.add-field"),defaultMessage:"Add another field"})),t.createElement(i.Button,{type:N?"submit":"button",variant:"default",onClick:L=>{L.preventDefault(),ce(),oe(L,!1)}},te({id:"global.finish",defaultMessage:"Finish"}))):null};it.defaultProps={categoryName:null,onClickFinish(){}},it.propTypes={categoryName:n().string,deleteCategory:n().func.isRequired,deleteComponent:n().func.isRequired,deleteContentType:n().func.isRequired,isAttributeModal:n().bool.isRequired,isCustomFieldModal:n().bool.isRequired,isComponentAttribute:n().bool.isRequired,isComponentModal:n().bool.isRequired,isComponentToDzModal:n().bool.isRequired,isContentTypeModal:n().bool.isRequired,isCreatingComponent:n().bool.isRequired,isCreatingComponentAttribute:n().bool.isRequired,isCreatingComponentInDz:n().bool.isRequired,isCreatingComponentWhileAddingAField:n().bool.isRequired,isCreatingContentType:n().bool.isRequired,isCreatingDz:n().bool.isRequired,isDzAttribute:n().bool.isRequired,isEditingAttribute:n().bool.isRequired,isEditingCategory:n().bool.isRequired,isInFirstComponentStep:n().bool.isRequired,onSubmitAddComponentAttribute:n().func.isRequired,onSubmitAddComponentToDz:n().func.isRequired,onSubmitCreateContentType:n().func.isRequired,onSubmitCreateComponent:n().func.isRequired,onSubmitCreateDz:n().func.isRequired,onSubmitEditAttribute:n().func.isRequired,onSubmitEditCategory:n().func.isRequired,onSubmitEditComponent:n().func.isRequired,onSubmitEditContentType:n().func.isRequired,onSubmitEditCustomFieldAttribute:n().func.isRequired,onSubmitEditDz:n().func.isRequired,onClickFinish:n().func};const Hn=it,Kn=({modalType:e,forTarget:a,kind:r,actionType:l,step:o})=>{switch(e){case"chooseAttribute":return(0,u.Z)(`modalForm.sub-header.chooseAttribute.${a.includes("component")?"component":r||"collectionType"}`);case"attribute":return(0,u.Z)(`modalForm.sub-header.attribute.${l}${o!=="null"&&o!==null&&l!=="edit"?".step":""}`);case"customField":return(0,u.Z)(`modalForm.sub-header.attribute.${l}`);case"addComponentToDynamicZone":return(0,u.Z)("modalForm.sub-header.addComponentToDynamicZone");default:return(0,u.Z)("configurations")}},lt=({actionType:e,modalType:a,forTarget:r,kind:l,step:o,attributeType:d,attributeName:c,customField:p})=>{const{formatMessage:g}=(0,h.useIntl)(),y=a==="customField"?p.intlLabel:{id:(0,u.Z)(`attribute.${d}`)};return t.createElement(i.Stack,{direction:"column",alignItems:"flex-start",paddingBottom:2,gap:1},t.createElement(i.Typography,{as:"h2",variant:"beta"},g({id:Kn({actionType:e,forTarget:r,kind:l,step:o,modalType:a}),defaultMessage:"Add new field"},{type:Ce()(g(y)),name:Ce()(c),step:o})),t.createElement(i.Typography,{variant:"pi",textColor:"neutral600"},g({id:(0,u.Z)(`attribute.${d}.description`),defaultMessage:"A type for modeling data"})))};lt.defaultProps={actionType:null,modalType:null,forTarget:null,kind:null,step:null,attributeType:null,attributeName:null,customField:null},lt.propTypes={actionType:n().string,modalType:n().string,forTarget:n().string,kind:n().string,step:n().string,attributeType:n().string,attributeName:n().string,customField:n().object};const Yn=lt,ut=({intlLabel:e,name:a,options:r,onChange:l,value:o})=>{const{formatMessage:d}=(0,h.useIntl)(),c=e.id?d({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):a,p=g=>{let y="";g==="true"&&(y=!0),g==="false"&&(y=!1),l({target:{name:a,value:y,type:"select-default-boolean"}})};return t.createElement(i.Select,{label:c,id:a,name:a,onChange:p,value:(o===null?"":o).toString()},r.map(({metadatas:{intlLabel:g,disabled:y,hidden:b},key:f,value:A})=>t.createElement(i.Option,{key:f,value:A,disabled:y,hidden:b},g.defaultMessage)))};ut.defaultProps={value:null},ut.propTypes={intlLabel:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired,values:n().object}).isRequired,name:n().string.isRequired,onChange:n().func.isRequired,options:n().arrayOf(n().shape({metadatas:n().shape({intlLabel:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired}).isRequired,disabled:n().bool,hidden:n().bool}).isRequired,key:n().oneOfType([n().string,n().number]).isRequired,value:n().oneOfType([n().string,n().number]).isRequired}).isRequired).isRequired,value:n().any};const Xn=ut,Jn=(0,$e.default)(i.Stack)`
  position: relative;
  align-items: stretch;

  label {
    border-radius: 4px;
    max-width: 50%;
    cursor: pointer;
    user-select: none;
    flex: 1;
    ${(0,i.inputFocusStyle)()}
  }

  input {
    position: absolute;
    opacity: 0;
  }

  .option {
    height: 100%;
    border-radius: 4px;
    border: 1px solid ${({theme:e})=>e.colors.neutral200};
    will-change: transform, opacity;
    background: ${({theme:e})=>e.colors.neutral0};

    .checkmark {
      position: relative;
      display: block;
      will-change: transform;
      background: ${({theme:e})=>e.colors.neutral0};
      width: ${({theme:e})=>e.spaces[5]};
      height: ${({theme:e})=>e.spaces[5]};
      border: solid 1px ${({theme:e})=>e.colors.neutral300};
      border-radius: 50%;

      &:before,
      &:after {
        content: '';
        display: block;
        border-radius: 50%;
        width: ${({theme:e})=>e.spaces[3]};
        height: ${({theme:e})=>e.spaces[3]};
        position: absolute;
        top: 3px;
        left: 3px;
      }

      &:after {
        transform: scale(0);
        transition: inherit;
        will-change: transform;
      }
    }
  }

  .container input:checked ~ div {
    background: ${({theme:e})=>e.colors.primary100};
    ${i.Typography} {
      color: ${({theme:e})=>e.colors.primary600};
    }
    border: 1px solid ${({theme:e})=>e.colors.primary200};
    .checkmark {
      border: solid 1px ${({theme:e})=>e.colors.primary600};
      &::after {
        background: ${({theme:e})=>e.colors.primary600};
        transform: scale(1);
      }
    }
  }
`,dt=({intlLabel:e,name:a,onChange:r,radios:l,value:o})=>{const{formatMessage:d}=(0,h.useIntl)();return t.createElement(i.Stack,{spacing:2},t.createElement(i.Typography,{variant:"pi",fontWeight:"bold",textColor:"neutral800",htmlFor:a,as:"label"},d(e)),t.createElement(Jn,{horizontal:!0,spacing:4,style:{alignItems:"stretch"}},l.map(c=>t.createElement("label",{htmlFor:c.value.toString(),key:c.value,className:"container"},t.createElement("input",{id:c.value.toString(),name:a,className:"option-input",checked:c.value===o,value:c.value,key:c.value,onChange:r,type:"radio"}),t.createElement(i.Box,{className:"option",padding:4},t.createElement(i.Flex,null,t.createElement(i.Box,{paddingRight:4},t.createElement("span",{className:"checkmark"})),t.createElement(i.Stack,{spacing:2},t.createElement(i.Typography,{fontWeight:"bold"},d(c.title)),t.createElement(i.Typography,{variant:"pi",textColor:"neutral600"},d(c.description)))))))))};dt.defaultProps={radios:[]},dt.propTypes={intlLabel:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired,values:n().object}).isRequired,name:n().string.isRequired,onChange:n().func.isRequired,radios:n().arrayOf(n().shape({title:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired}),description:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired}),value:n().any.isRequired})),value:n().oneOfType([n().string,n().bool]).isRequired};const ct=dt,Xt=({onChange:e,name:a,...r})=>{const l=o=>{const d=o.target.value!=="false";e({target:{name:a,value:d,type:"boolean-radio-group"}})};return t.createElement(ct,{...r,name:a,onChange:l})};Xt.propTypes={name:n().string.isRequired,onChange:n().func.isRequired};const Qn=Xt,mt=({error:e,intlLabel:a,modifiedData:r,name:l,onChange:o,value:d})=>{const{formatMessage:c}=(0,h.useIntl)(),[p,g]=(0,t.useState)(!!d||d===0),y=a.id?c({id:a.id,defaultMessage:a.defaultMessage},{...a.values}):l,b=r.type==="biginteger"?"text":"number",f=!r.type,A=e?c({id:e,defaultMessage:e}):"";return t.createElement(i.Stack,{spacing:2},t.createElement(i.Checkbox,{id:l,name:l,onValueChange:S=>{o({target:{name:l,value:S?b==="text"?"0":0:null}}),g(Q=>!Q)},value:p},y),p&&t.createElement(i.Box,{paddingLeft:6,style:{maxWidth:"200px"}},b==="text"?t.createElement(i.TextInput,{"aria-label":y,disabled:f,error:A,id:l,name:l,onChange:o,value:d===null?"":d}):t.createElement(i.NumberInput,{"aria-label":y,disabled:f,error:A,id:l,name:l,onValueChange:S=>{o({target:{name:l,value:S,type:b}})},value:d||0})))};mt.defaultProps={error:null,value:null},mt.propTypes={error:n().string,intlLabel:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired,values:n().object}).isRequired,modifiedData:n().object.isRequired,name:n().string.isRequired,onChange:n().func.isRequired,value:n().oneOfType([n().string,n().object,n().bool,n().number])};const _n=mt,Jt=({onChange:e,...a})=>{const r=(0,m.useNotification)(),l=o=>{r({type:"info",message:{id:(0,u.Z)("contentType.kind.change.warning"),defaultMessage:"You just changed the kind of a content type: API will be reset (routes, controllers, and services will be overwritten)."}}),e(o)};return t.createElement(ct,{...a,onChange:l})};Jt.propTypes={onChange:n().func.isRequired};const ea=Jt;var pt=s(1734),ie=s(59015);const gt=({oneThatIsCreatingARelationWithAnother:e,target:a})=>{const{contentTypes:r,sortedContentTypesList:l}=(0,me.Z)(),o=(0,Z.useDispatch)(),d=l.filter(_e),c=E()(r,[a,"plugin"],null),p=E()(r,[a,"schema","displayName"],"error");return t.createElement(i.SimpleMenu,{id:"label",label:`${p}
    ${c?`(from: ${c})`:""}`},d.map(({uid:g,title:y,restrictRelationsTo:b,plugin:f})=>{const A=()=>{const S=f?`${f}_${y}`:y;o({type:ie.aG,target:{value:g,oneThatIsCreatingARelationWithAnother:e,selectedContentTypeFriendlyName:S,targetContentTypeAllowedRelations:b}})};return t.createElement(i.MenuItem,{key:g,onClick:A},y,"\xA0",f&&t.createElement(t.Fragment,null,"(from: ",f,")"))}))};gt.defaultProps={target:null},gt.propTypes={oneThatIsCreatingARelationWithAnother:n().string.isRequired,target:n().string};const ta=gt,ft=({disabled:e,error:a,header:r,isMain:l,name:o,onChange:d,oneThatIsCreatingARelationWithAnother:c,target:p,value:g})=>t.createElement(i.Box,{background:"neutral100",hasRadius:!0,borderColor:"neutral200"},t.createElement(i.Flex,{paddingTop:l?4:1,paddingBottom:l?3:1,justifyContent:"center"},l?t.createElement(i.Typography,{variant:"pi",fontWeight:"bold",textColor:"neutral800"},r):t.createElement(ta,{target:p,oneThatIsCreatingARelationWithAnother:c})),t.createElement(i.Divider,{background:"neutral200"}),t.createElement(i.Box,{padding:4},t.createElement(m.GenericInput,{disabled:e,error:a?.id||null,intlLabel:{id:(0,u.Z)("form.attribute.item.defineRelation.fieldName"),defaultMessage:"Field name"},name:o,onChange:d,type:"text",value:g})));ft.defaultProps={disabled:!1,error:null,header:null,isMain:!1,onChange(){},oneThatIsCreatingARelationWithAnother:null,target:null,value:""},ft.propTypes={disabled:n().bool,error:n().object,header:n().string,isMain:n().bool,name:n().string.isRequired,onChange:n().func,oneThatIsCreatingARelationWithAnother:n().string,target:n().string,value:n().string};const Qt=ft;var na=s(39138),_t=s.n(na),aa=s(23450),yt=s.n(aa);const ra=(0,$e.default)(i.Box)`
  position: relative;
  width: 100%;
  &::before {
    content: '';
    position: absolute;
    top: calc(50% - 0px);
    height: 2px;
    width: 100%;
    background-color: ${({theme:e})=>e.colors.primary600};
    z-index: 0;
  }
`,oa=(0,$e.default)(i.Box)`
  background: ${({theme:e,isSelected:a})=>e.colors[a?"primary100":"neutral0"]};
  border: 1px solid
    ${({theme:e,isSelected:a})=>e.colors[a?"primary700":"neutral200"]};
  border-radius: ${({theme:e})=>e.borderRadius};
  z-index: 1;
  svg {
    width: 1.5rem;
    height: 100%;
    path {
      fill: ${({theme:e,isSelected:a})=>e.colors[a?"primary700":"neutral500"]};
    }
  }
  &:disabled {
    cursor: not-allowed;
  }
`,sa=(0,$e.default)(i.Flex)`
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
`,ia={oneWay:be.OneWay,oneToOne:be.OneToOne,oneToMany:be.OneToMany,manyToOne:be.ManyToOne,manyToMany:be.ManyToMany,manyWay:be.ManyWays},bt=({naturePickerType:e,oneThatIsCreatingARelationWithAnother:a,relationType:r,target:l})=>{const o=(0,Z.useDispatch)(),{formatMessage:d}=(0,h.useIntl)(),{contentTypes:c,modifiedData:p}=(0,me.Z)(),g=["oneWay","oneToOne","oneToMany","manyToOne","manyToMany","manyWay"],y=["oneWay","manyWay"],f=(e==="contentType"?E()(p,[e,"schema","kind"],""):e)==="collectionType"?g:y,A=r==="manyToOne",S=E()(c,[l,"schema","displayName"],"unknown"),P=A?S:a,w=A?a:S,Q=yt()(P,r==="manyToMany"?2:1),N=E()(c,[l,"schema","restrictRelationsTo"],null),F=yt()(w,["manyToMany","oneToMany","manyToOne","manyWay"].includes(r)?2:1);return r?t.createElement(i.Flex,{style:{flex:1}},t.createElement(ra,null,t.createElement(i.Flex,{paddingLeft:9,paddingRight:9,paddingTop:1,justifyContent:"center"},t.createElement(i.KeyboardNavigable,{tagName:"button"},t.createElement(i.Stack,{spacing:3,horizontal:!0},f.map(I=>{const ne=ia[I],ae=N===null||N.includes(I);return t.createElement(oa,{as:"button",isSelected:r===I,disabled:!ae,key:I,onClick:()=>{ae&&o({type:ie.QQ,target:{oneThatIsCreatingARelationWithAnother:a,targetContentType:l,value:I}})},padding:2,type:"button"},t.createElement(ne,{key:I}))}))))),t.createElement(sa,{justifyContent:"center"},t.createElement(i.Typography,null,_t()(Q,{length:24}),"\xA0"),t.createElement(i.Typography,{textColor:"primary600"},d({id:(0,u.Z)(`relation.${r}`)}),"\xA0"),t.createElement(i.Typography,null,_t()(F,{length:24})))):null};bt.defaultProps={relationType:null,target:null},bt.propTypes={naturePickerType:n().string.isRequired,oneThatIsCreatingARelationWithAnother:n().string.isRequired,relationType:n().string,target:n().string};const la=bt,en=({formErrors:e,mainBoxHeader:a,modifiedData:r,naturePickerType:l,onChange:o})=>{const d=(0,pt.Z)(r.relation,r.targetAttribute);return t.createElement(i.Flex,{style:{position:"relative"}},t.createElement(Qt,{isMain:!0,header:a,error:e?.name||null,name:"name",onChange:o,value:r?.name||""}),t.createElement(la,{naturePickerType:l,oneThatIsCreatingARelationWithAnother:a,relationType:d,target:r.target}),t.createElement(Qt,{disabled:["oneWay","manyWay"].includes(d),error:e?.targetAttribute||null,name:"targetAttribute",onChange:o,oneThatIsCreatingARelationWithAnother:a,target:r.target,value:r?.targetAttribute||""}))};en.propTypes={formErrors:n().object.isRequired,mainBoxHeader:n().string.isRequired,modifiedData:n().object.isRequired,naturePickerType:n().string.isRequired,onChange:n().func.isRequired};const ua=en;var tn=s(97406);const ht=({description:e,error:a,intlLabel:r,modifiedData:l,name:o,onChange:d,value:c})=>{const{formatMessage:p}=(0,h.useIntl)(),g=(0,t.useRef)(d),y=l?.displayName||"";(0,t.useEffect)(()=>{if(y){const S=(0,tn.Z)(y);try{const P=yt()(S,2);g.current({target:{name:o,value:P}})}catch{g.current({target:{name:o,value:S}})}}else g.current({target:{name:o,value:""}})},[y,o]);const b=a?p({id:a,defaultMessage:a}):"",f=e?p({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",A=p(r);return t.createElement(i.TextInput,{error:b,label:A,id:o,hint:f,name:o,onChange:d,value:c||""})};ht.defaultProps={description:null,error:null,value:null},ht.propTypes={description:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired,values:n().object}),error:n().string,intlLabel:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired,values:n().object}).isRequired,modifiedData:n().object.isRequired,name:n().string.isRequired,onChange:n().func.isRequired,value:n().string};const da=ht,Tt=({error:e,intlLabel:a,name:r,onChange:l,value:o})=>{const{formatMessage:d}=(0,h.useIntl)(),{allComponentsCategories:c}=(0,me.Z)(),[p,g]=(0,t.useState)(c),y=e?d({id:e,defaultMessage:e}):"",b=d(a),f=S=>{l({target:{name:r,value:S,type:"select-category"}})},A=S=>{g(P=>[...P,S]),f(S)};return t.createElement(i.CreatableCombobox,{error:y,id:r,label:b,name:r,onChange:f,onCreateOption:A,value:o},p.map(S=>t.createElement(i.ComboboxOption,{key:S,value:S},S)))};Tt.defaultProps={error:null,value:null},Tt.propTypes={error:n().string,intlLabel:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired,values:n().object}).isRequired,name:n().string.isRequired,onChange:n().func.isRequired,value:n().string};const ca=Tt,vt=({error:e,intlLabel:a,isAddingAComponentToAnotherComponent:r,isCreating:l,isCreatingComponentWhileAddingAField:o,componentToCreate:d,name:c,onChange:p,targetUid:g,forTarget:y,value:b})=>{const{formatMessage:f}=(0,h.useIntl)(),A=e?f({id:e,defaultMessage:e}):"",S=f(a),{componentsGroupedByCategory:P,componentsThatHaveOtherComponentInTheirAttributes:w}=(0,me.Z)(),Q=["component","components"].includes(y);let N=Object.entries(P).reduce((F,I)=>{const[ne,ae]=I,pe=ae.map(W=>({uid:W.uid,label:W.schema.displayName,categoryName:ne}));return[...F,...pe]},[]);return r&&(N=N.filter(F=>!w.includes(F.uid))),Q&&(N=N.filter(F=>F.uid!==g)),o&&(N=[{uid:b,label:d.displayName,categoryName:d.category}]),t.createElement(i.Select,{disabled:o||!l,error:A,label:S,id:c,name:c,onChange:F=>{p({target:{name:c,value:F,type:"select-category"}})},value:b||""},N.map(F=>t.createElement(i.Option,{key:F.uid,value:F.uid},`${F.categoryName} - ${F.label}`)))};vt.defaultProps={componentToCreate:null,error:null},vt.propTypes={componentToCreate:n().object,forTarget:n().string.isRequired,error:n().string,intlLabel:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired,values:n().object}).isRequired,isAddingAComponentToAnotherComponent:n().bool.isRequired,isCreating:n().bool.isRequired,isCreatingComponentWhileAddingAField:n().bool.isRequired,name:n().string.isRequired,onChange:n().func.isRequired,targetUid:n().string.isRequired,value:n().string.isRequired};const ma=vt,Ct=(e,a)=>e.find(({name:r})=>r===a),nn=({dynamicZoneTarget:e,intlLabel:a,name:r,onChange:l,value:o})=>{const{formatMessage:d}=(0,h.useIntl)(),{componentsGroupedByCategory:c,modifiedData:p}=(0,me.Z)(),y=(Ct(p.contentType.schema.attributes,e)||{}).components||[],b=Object.keys(c).reduce((S,P)=>{const w=c[P].filter(({uid:Q})=>!y.includes(Q));return w.length>0&&(S[P]=w),S},{}),f=Object.entries(b).reduce((S,P)=>{const[w,Q]=P,N={label:w,children:Q.map(({uid:F,schema:{displayName:I}})=>({label:I,value:F}))};return S.push(N),S},[]),A=d({id:(0,u.Z)("components.SelectComponents.displayed-value"),defaultMessage:"{number, plural, =0 {# components} one {# component} other {# components}} selected"},{number:o.length});return t.createElement(i.MultiSelectNested,{id:"select1",label:d(a),customizeContent:()=>A,name:r,onChange:S=>{l({target:{name:r,value:S,type:"select-components"}})},options:f,value:o||[]})};nn.propTypes={intlLabel:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired,values:n().object}).isRequired,dynamicZoneTarget:n().string.isRequired,name:n().string.isRequired,onChange:n().func.isRequired,value:n().array.isRequired};const pa=nn,Et=({intlLabel:e,error:a,modifiedData:r,name:l,onChange:o,options:d,value:c})=>{const{formatMessage:p}=(0,h.useIntl)(),g=p(e),y=a?p({id:a,defaultMessage:a}):"",b=f=>{o({target:{name:l,value:f,type:"select"}}),c&&r.default!==void 0&&r.default!==null&&o({target:{name:"default",value:null}})};return t.createElement(i.Select,{error:y,label:g,id:l,name:l,onChange:b,value:c||""},d.map(({metadatas:{intlLabel:f,disabled:A,hidden:S},key:P,value:w})=>t.createElement(i.Option,{key:P,value:w,disabled:A,hidden:S},p({id:f.id,defaultMessage:f.defaultMessage},f.values))))};Et.defaultProps={error:void 0,value:""},Et.propTypes={error:n().string,intlLabel:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired,values:n().object}).isRequired,modifiedData:n().object.isRequired,name:n().string.isRequired,onChange:n().func.isRequired,options:n().arrayOf(n().shape({metadatas:n().shape({intlLabel:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired}).isRequired,disabled:n().bool,hidden:n().bool}).isRequired,key:n().oneOfType([n().string,n().number]).isRequired,value:n().oneOfType([n().string,n().number]).isRequired}).isRequired).isRequired,value:n().string};const ga=Et,Mt=({intlLabel:e,error:a,modifiedData:r,name:l,onChange:o,options:d,value:c})=>{const{formatMessage:p}=(0,h.useIntl)(),g=p(e),y=a?p({id:a,defaultMessage:a}):"",b=f=>{o({target:{name:l,value:f,type:"select"}}),c&&(f==="biginteger"&&c!=="biginteger"&&(r.default!==void 0&&r.default!==null&&o({target:{name:"default",value:null}}),r.max!==void 0&&r.max!==null&&o({target:{name:"max",value:null}}),r.min!==void 0&&r.min!==null&&o({target:{name:"min",value:null}})),["decimal","float","integer"].includes(f)&&c==="biginteger"&&(r.default!==void 0&&r.default!==null&&o({target:{name:"default",value:null}}),r.max!==void 0&&r.max!==null&&o({target:{name:"max",value:null}}),r.min!==void 0&&r.min!==null&&o({target:{name:"min",value:null}})))};return t.createElement(i.Select,{error:y,label:g,id:l,name:l,onChange:b,value:c||""},d.map(({metadatas:{intlLabel:f,disabled:A,hidden:S},key:P,value:w})=>t.createElement(i.Option,{key:P,value:w,disabled:A,hidden:S},p(f))))};Mt.defaultProps={error:void 0,value:""},Mt.propTypes={error:n().string,intlLabel:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired,values:n().object}).isRequired,modifiedData:n().object.isRequired,name:n().string.isRequired,onChange:n().func.isRequired,options:n().arrayOf(n().shape({metadatas:n().shape({intlLabel:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired}).isRequired,disabled:n().bool,hidden:n().bool}).isRequired,key:n().oneOfType([n().string,n().number]).isRequired,value:n().oneOfType([n().string,n().number]).isRequired}).isRequired).isRequired,value:n().string};const fa=Mt,Rt=({description:e,error:a,intlLabel:r,modifiedData:l,name:o,onChange:d,value:c})=>{const{formatMessage:p}=(0,h.useIntl)(),g=(0,t.useRef)(d),y=l?.displayName||"";(0,t.useEffect)(()=>{y?g.current({target:{name:o,value:(0,tn.Z)(y)}}):g.current({target:{name:o,value:""}})},[y,o]);const b=a?p({id:a,defaultMessage:a}):"",f=e?p({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",A=p(r);return t.createElement(i.TextInput,{error:b,label:A,id:o,hint:f,name:o,onChange:d,value:c||""})};Rt.defaultProps={description:null,error:null,value:null},Rt.propTypes={description:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired,values:n().object}),error:n().string,intlLabel:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired,values:n().object}).isRequired,modifiedData:n().object.isRequired,name:n().string.isRequired,onChange:n().func.isRequired,value:n().string};const ya=Rt,an=({form:e,formErrors:a,genericInputProps:r,modifiedData:l,onChange:o})=>{const{formatMessage:d}=(0,h.useIntl)();return e.map((c,p)=>c.items.length===0?null:t.createElement(i.Box,{key:p},c.sectionTitle&&t.createElement(i.Box,{paddingBottom:4},t.createElement(i.Typography,{variant:"delta",as:"h3"},d(c.sectionTitle))),t.createElement(i.Grid,{gap:4},c.items.map((g,y)=>{const b=`${p}.${y}`,f=E()(l,g.name,""),A=Object.keys(a).find(P=>P===g.name),S=A?a[A].id:E()(a,[...g.name.split(".").filter(P=>P!=="componentToCreate"),"id"],null);return g.type==="pushRight"?t.createElement(i.GridItem,{col:g.size||6,key:g.name||b},t.createElement("div",null)):t.createElement(i.GridItem,{col:g.size||6,key:g.name||b},t.createElement(m.GenericInput,{...g,...r,error:S,onChange:o,value:f}))}))))};an.propTypes={form:n().arrayOf(n().object).isRequired,formErrors:n().object.isRequired,genericInputProps:n().object.isRequired,modifiedData:n().object.isRequired,onChange:n().func.isRequired};const rn=an,xt=({description:e,disabled:a,error:r,intlLabel:l,labelAction:o,name:d,onChange:c,placeholder:p,value:g})=>{const{formatMessage:y}=(0,h.useIntl)(),b=r?y({id:r,defaultMessage:r}):"",f=e?y({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",A=y(l),S=p?y({id:p.id,defaultMessage:p.defaultMessage},{...p.values}):"",P=Array.isArray(g)?g.join(`
`):"",w=Q=>{const N=Q.target.value.split(`
`);c({target:{name:d,value:N}})};return t.createElement(i.Textarea,{disabled:a,error:b,label:A,labelAction:o,id:d,hint:f,name:d,onChange:w,placeholder:S,value:P},P)};xt.defaultProps={description:null,disabled:!1,error:"",labelAction:void 0,placeholder:null,value:""},xt.propTypes={description:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired,values:n().object}),disabled:n().bool,error:n().string,intlLabel:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired,values:n().object}).isRequired,labelAction:n().element,name:n().string.isRequired,onChange:n().func.isRequired,placeholder:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired,values:n().object}),value:n().oneOfType([n().array,n().string])};const ba=xt,ha=(e,a)=>{const r=E()(e,["contentType","schema","kind"],"");return r==="singleType"||r===a.kind?!0:E()(e,["contentType","schema","attributes"],[]).filter(({relation:d,type:c,targetAttribute:p})=>{const g=(0,pt.Z)(d,p);return c==="relation"&&!["oneWay","manyWay"].includes(g)}).length===0},Ta=(e="",a,r)=>{const l=["text","email","richtext","password","number","enumeration","date","media","boolean","json","relation"],o=e==="contentType",d=r.includes(a),c=!o&&!d;return o?[[...l,"uid"],["component","dynamiczone"]]:c?[l,["component"]]:[l]},on=e=>e.reduce((a,r)=>{const l=r.items.reduce((o,d)=>(d.name&&o.push(d.name),o),[]);return[...a,...l]},[]);var x=s(53209),je=s(97392);const va={base:{sections:[{sectionTitle:null,items:[{autoFocus:!0,name:"name",type:"text",intlLabel:{id:"global.name",defaultMessage:"Name"},description:{id:(0,u.Z)("modalForm.editCategory.base.name.description"),defaultMessage:"No space is allowed for the name of the category"}}]}]}},sn=/^[A-Za-z][-_0-9A-Za-z]*$/,Ca=e=>{const a={name:x.Z_().matches(sn,m.translatedErrors.regex).test({name:"nameNotAllowed",message:m.translatedErrors.unique,test(r){return r?!e.includes((0,T.toLower)(r)):!1}}).required(m.translatedErrors.required)};return x.Ry(a)},Ea=(e,a,r)=>{const l={displayName:x.Z_().test({name:"nameAlreadyUsed",message:m.translatedErrors.unique,test(o){if(!o)return!1;const d=(0,je.N)(o,r);return!e.includes(d)}}).test({name:"nameNotAllowed",message:(0,u.Z)("error.contentTypeName.reserved-name"),test(o){return o?!a.includes((0,T.toLower)((0,T.trim)(o))):!1}}).required(m.translatedErrors.required),category:x.Z_().matches(sn,m.translatedErrors.regex).required(m.translatedErrors.required),icon:x.Z_()};return x.Ry(l)},At={intlLabel:{id:"global.type",defaultMessage:"Type"},name:"createComponent",type:"boolean-radio-group",size:12,radios:[{title:{id:(0,u.Z)("form.attribute.component.option.create"),defaultMessage:"Create a new component"},description:{id:(0,u.Z)("form.attribute.component.option.create.description"),defaultMessage:"A component is shared across types and components, it will be available and accessible everywhere."},value:!0},{title:{id:(0,u.Z)("form.attribute.component.option.reuse-existing"),defaultMessage:"Use an existing component"},description:{id:(0,u.Z)("form.attribute.component.option.reuse-existing.description"),defaultMessage:"Reuse a component already created to keep your data consistent across content-types."},value:!1}]},we={base(e=""){return[{sectionTitle:null,items:[{name:`${e}displayName`,type:"text",intlLabel:{id:(0,u.Z)("contentType.displayName.label"),defaultMessage:"Display Name"}},{name:`${e}category`,type:"select-category",intlLabel:{id:(0,u.Z)("modalForm.components.create-component.category.label"),defaultMessage:"Select a category or enter a name to create a new one"}}]}]},advanced(){return[]}},q={default:{name:"default",type:"text",intlLabel:{id:(0,u.Z)("form.attribute.settings.default"),defaultMessage:"Default value"}},max:{name:"max",type:"checkbox-with-number-field",intlLabel:{id:(0,u.Z)("form.attribute.item.maximum"),defaultMessage:"Maximum value"}},maxLength:{name:"maxLength",type:"checkbox-with-number-field",intlLabel:{id:(0,u.Z)("form.attribute.item.maximumLength"),defaultMessage:"Maximum length"}},min:{name:"min",type:"checkbox-with-number-field",intlLabel:{id:(0,u.Z)("form.attribute.item.minimum"),defaultMessage:"Minimum value"}},minLength:{name:"minLength",type:"checkbox-with-number-field",intlLabel:{id:(0,u.Z)("form.attribute.item.minimumLength"),defaultMessage:"Minimum length"}},private:{name:"private",type:"checkbox",intlLabel:{id:(0,u.Z)("form.attribute.item.privateField"),defaultMessage:"Private field"},description:{id:(0,u.Z)("form.attribute.item.privateField.description"),defaultMessage:"This field will not show up in the API response"}},regex:{intlLabel:{id:(0,u.Z)("form.attribute.item.text.regex"),defaultMessage:"RegExp pattern"},name:"regex",type:"text",description:{id:(0,u.Z)("form.attribute.item.text.regex.description"),defaultMessage:"The text of the regular expression"}},required:{name:"required",type:"checkbox",intlLabel:{id:(0,u.Z)("form.attribute.item.requiredField"),defaultMessage:"Required field"},description:{id:(0,u.Z)("form.attribute.item.requiredField.description"),defaultMessage:"You won't be able to create an entry if this field is empty"}},unique:{name:"unique",type:"checkbox",intlLabel:{id:(0,u.Z)("form.attribute.item.uniqueField"),defaultMessage:"Unique field"},description:{id:(0,u.Z)("form.attribute.item.uniqueField.description"),defaultMessage:"You won't be able to create an entry if there is an existing entry with identical content"}}},Ma={boolean(){return{sections:[{sectionTitle:null,items:[{autoFocus:!0,type:"select-default-boolean",intlLabel:{id:(0,u.Z)("form.attribute.settings.default"),defaultMessage:"Default value"},name:"default",options:[{value:"true",key:"true",metadatas:{intlLabel:{id:"true",defaultMessage:"true"}}},{value:"",key:"null",metadatas:{intlLabel:{id:"null",defaultMessage:"null"}}},{value:"false",key:"false",metadatas:{intlLabel:{id:"false",defaultMessage:"false"}}}]}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[q.required,q.private]}]}},component({repeatable:e},a){return a==="1"?{sections:we.advanced("componentToCreate")}:e?{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[q.required,q.private,q.max,q.min]}]}:{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[q.required,q.private]}]}},date({type:e}){return{sections:[{sectionTitle:null,items:[{...q.default,type:e||"date",value:null,withDefaultValue:!1,disabled:!e,autoFocus:!1}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[q.required,q.unique,q.private]}]}},dynamiczone(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[q.required,q.max,q.min]}]}},email(){return{sections:[{sectionTitle:null,items:[{...q.default,type:"email"}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[q.required,q.unique,q.maxLength,q.minLength,q.private]}]}},enumeration(e){return{sections:[{sectionTitle:null,items:[{name:"default",type:"select",intlLabel:{id:(0,u.Z)("form.attribute.settings.default"),defaultMessage:"Default value"},validations:{},options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"}}},...(e.enum||[]).filter((a,r)=>e.enum.indexOf(a)===r&&a).map(a=>({key:a,value:a,metadatas:{intlLabel:{id:`${a}.no-override`,defaultMessage:a}}}))]},{intlLabel:{id:(0,u.Z)("form.attribute.item.enumeration.graphql"),defaultMessage:"Name override for GraphQL"},name:"enumName",type:"text",validations:{},description:{id:(0,u.Z)("form.attribute.item.enumeration.graphql.description"),defaultMessage:"Allows you to override the default generated name for GraphQL"}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[q.required,q.private]}]}},json(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[q.required,q.private]}]}},media(){return{sections:[{sectionTitle:null,items:[{intlLabel:{id:(0,u.Z)("form.attribute.media.allowed-types"),defaultMessage:"Select allowed types of media"},name:"allowedTypes",type:"allowed-types-select",size:7,value:"",validations:{}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[q.required,q.private]}]}},number(e){const a=e.type==="decimal"||e.type==="float"?"any":1;return{sections:[{sectionTitle:null,items:[{autoFocus:!0,name:"default",type:e.type==="biginteger"?"text":"number",step:a,intlLabel:{id:(0,u.Z)("form.attribute.settings.default"),defaultMessage:"Default value"},validations:{}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[q.required,q.unique,q.max,q.min,q.private]}]}},password(){return{sections:[{sectionTitle:null,items:[q.default]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[q.required,q.maxLength,q.minLength,q.private]}]}},relation(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[q.private]}]}},richtext(){return{sections:[{sectionTitle:null,items:[q.default]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[q.required,q.maxLength,q.minLength,q.private]}]}},text(){return{sections:[{sectionTitle:null,items:[q.default,q.regex]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[q.required,q.unique,q.maxLength,q.minLength,q.private]}]}},uid(e){return{sections:[{sectionTitle:null,items:[{...q.default,disabled:Boolean(e.targetField),type:"text"}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[q.required,q.maxLength,q.minLength,q.private]}]}}},Ne={name:"name",type:"text",intlLabel:{id:"global.name",defaultMessage:"Name"},description:{id:(0,u.Z)("modalForm.attribute.form.base.name.description"),defaultMessage:"No space is allowed for the name of the attribute"}},ln={advanced:Ma,base:{component(e,a){if(a==="1"){const r=e.createComponent===!0?we.base("componentToCreate."):[];return{sections:[{sectionTitle:null,items:[At]},...r]}}return{sections:[{sectionTitle:null,items:[Ne,{name:"component",type:"select-component",intlLabel:{id:(0,u.Z)("modalForm.attributes.select-component"),defaultMessage:"Select a component"},isMultiple:!1}]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"repeatable",type:"boolean-radio-group",size:12,radios:[{title:{id:(0,u.Z)("form.attribute.component.option.repeatable"),defaultMessage:"Repeatable component"},description:{id:(0,u.Z)("form.attribute.component.option.repeatable.description"),defaultMessage:"Best for multiple instances (array) of ingredients, meta tags, etc.."},value:!0},{title:{id:(0,u.Z)("form.attribute.component.option.single"),defaultMessage:"Single component"},description:{id:(0,u.Z)("form.attribute.component.option.single.description"),defaultMessage:"Best for grouping fields like full address, main information, etc..."},value:!1}]}]}]}},date(){return{sections:[{sectionTitle:null,items:[Ne,{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",type:"select-date",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"},hidden:!0}},{key:"date",value:"date",metadatas:{intlLabel:{id:(0,u.Z)("form.attribute.item.date.type.date"),defaultMessage:"date (ex: 01/01/{currentYear})",values:{currentYear:new Date().getFullYear()}}}},{key:"datetime",value:"datetime",metadatas:{intlLabel:{id:(0,u.Z)("form.attribute.item.date.type.datetime"),defaultMessage:"datetime (ex: 01/01/{currentYear} 00:00 AM)",values:{currentYear:new Date().getFullYear()}}}},{key:"time",value:"time",metadatas:{intlLabel:{id:(0,u.Z)("form.attribute.item.date.type.time"),defaultMessage:"time (ex: 00:00 AM)"}}}]}]}]}},enumeration(){return{sections:[{sectionTitle:null,items:[Ne]},{sectionTitle:null,items:[{name:"enum",type:"textarea-enum",size:6,intlLabel:{id:(0,u.Z)("form.attribute.item.enumeration.rules"),defaultMessage:"Values (one line per value)"},placeholder:{id:(0,u.Z)("form.attribute.item.enumeration.placeholder"),defaultMessage:`Ex:
morning
noon
evening`},validations:{required:!0}}]}]}},media(){return{sections:[{sectionTitle:null,items:[Ne]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"multiple",size:12,type:"boolean-radio-group",radios:[{title:{id:(0,u.Z)("form.attribute.media.option.multiple"),defaultMessage:"Multiple media"},description:{id:(0,u.Z)("form.attribute.media.option.multiple.description"),defaultMessage:"Best for sliders, carousels or multiple files download"},value:!0},{title:{id:(0,u.Z)("form.attribute.media.option.single"),defaultMessage:"Single media"},description:{id:(0,u.Z)("form.attribute.media.option.single.description"),defaultMessage:"Best for avatar, profile picture or cover"},value:!1}]}]}]}},number(){return{sections:[{sectionTitle:null,items:[Ne,{intlLabel:{id:(0,u.Z)("form.attribute.item.number.type"),defaultMessage:"Number format"},name:"type",type:"select-number",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"},hidden:!0}},{key:"integer",value:"integer",metadatas:{intlLabel:{id:(0,u.Z)("form.attribute.item.number.type.integer"),defaultMessage:"integer (ex: 10)"}}},{key:"biginteger",value:"biginteger",metadatas:{intlLabel:{id:(0,u.Z)("form.attribute.item.number.type.biginteger"),defaultMessage:"biginteger (ex: 123456789)"}}},{key:"decimal",value:"decimal",metadatas:{intlLabel:{id:(0,u.Z)("form.attribute.item.number.type.decimal"),defaultMessage:"decimal (ex: 2.22)"}}},{key:"float",value:"float",metadatas:{intlLabel:{id:(0,u.Z)("form.attribute.item.number.type.float"),defaultMessage:"decimal (ex: 3.3333333)"}}}]}]}]}},relation(){return{sections:[{sectionTitle:null,items:[{intlLabel:{id:"FIXME",defaultMessage:"FIXME"},name:"relation",size:12,type:"relation"}]}]}},string(){return{sections:[{sectionTitle:null,items:[Ne]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",size:12,type:"radio-group",radios:[{title:{id:(0,u.Z)("form.attribute.text.option.short-text"),defaultMessage:"Sort text"},description:{id:(0,u.Z)("form.attribute.text.option.short-text.description"),defaultMessage:"Best for titles, names, links (URL). It also enables exact search on the field."},value:"string"},{title:{id:(0,u.Z)("form.attribute.text.option.long-text"),defaultMessage:"Long text"},description:{id:(0,u.Z)("form.attribute.text.option.long-text.description"),defaultMessage:"Best for descriptions, biography. Exact search is disabled."},value:"text"}]}]}]}},text(){return{sections:[{sectionTitle:null,items:[Ne]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",size:12,type:"radio-group",radios:[{title:{id:(0,u.Z)("form.attribute.text.option.short-text"),defaultMessage:"Sort text"},description:{id:(0,u.Z)("form.attribute.text.option.short-text.description"),defaultMessage:"Best for titles, names, links (URL). It also enables exact search on the field."},value:"string"},{title:{id:(0,u.Z)("form.attribute.text.option.long-text"),defaultMessage:"Long text"},description:{id:(0,u.Z)("form.attribute.text.option.long-text.description"),defaultMessage:"Best for descriptions, biography. Exact search is disabled."},value:"text"}]}]}]}},uid(e,a,r){const l=r.filter(({type:o})=>["string","text"].includes(o)).map(({name:o})=>({key:o,value:o,metadatas:{intlLabel:{id:`${o}.no-override`,defaultMessage:o}}}));return{sections:[{sectionTitle:null,items:[{...Ne,placeholder:{id:(0,u.Z)("modalForm.attribute.form.base.name.placeholder"),defaultMessage:"e.g. Slug, SEO URL, Canonical URL"}},{intlLabel:{id:(0,u.Z)("modalForm.attribute.target-field"),defaultMessage:"Attached field"},name:"targetField",type:"select",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"global.none",defaultMessage:"None"}}},...l]}]}]}}}},Ra={sections:[{sectionTitle:null,items:[Ne]}]};var xa=s(44908),Aa=s.n(xa),Sa=s(46831),Fa=s.n(Sa);const St=e=>Fa()(e,{decamelize:!1,lowercase:!1,separator:"_"}),un=/^[A-Za-z][_0-9A-Za-z]*$/,dn=e=>({name:"attributeNameAlreadyUsed",message:m.translatedErrors.unique,test(a){return a?!e.includes(a):!1}}),ao=(e,a,r)=>{const l=get(e,["schema","attributes"],{});return Object.keys(l).filter(o=>a?o!==r:!0)},Ft=e=>({name:"forbiddenAttributeName",message:(0,u.Z)("error.attributeName.reserved-name"),test(a){return a?!e.includes(a):!1}}),v={default:()=>x.Z_().nullable(),max:()=>x.Rx().integer().nullable(),min:()=>x.Rx().integer().when("max",(e,a)=>e?a.max(e,(0,u.Z)("error.validation.minSupMax")):a).nullable(),maxLength:()=>x.Rx().integer().positive((0,u.Z)("error.validation.positive")).nullable(),minLength:()=>x.Rx().integer().min(0).when("maxLength",(e,a)=>e?a.max(e,(0,u.Z)("error.validation.minSupMax")):a).nullable(),name(e,a){return x.Z_().test(dn(e)).test(Ft(a)).matches(un,m.translatedErrors.regex).required(m.translatedErrors.required)},required:()=>x.O7(),type:()=>x.Z_().required(m.translatedErrors.required),unique:()=>x.O7().nullable()},Zt=(e,a)=>({name:v.name(e,a),type:v.type(),default:v.default(),unique:v.unique(),required:v.required(),maxLength:v.maxLength(),minLength:v.minLength(),regex:x.Z_().test({name:"isValidRegExpPattern",message:(0,u.Z)("error.validation.regex"),test(l){return new RegExp(l)!==null}}).nullable()}),Nt={name:"isMinSuperiorThanMax",message:(0,u.Z)("error.validation.minSupMax"),test(e){if(!e)return!0;const{max:a}=this.parent;return!a||Number.isNaN((0,T.toNumber)(e))?!0:(0,T.toNumber)(a)>=(0,T.toNumber)(e)}},Lt={date(e,a){const r={name:v.name(e,a),type:v.type()};return x.Ry(r)},datetime(e,a){const r={name:v.name(e,a),type:v.type()};return x.Ry(r)},time(e,a){const r={name:v.name(e,a),type:v.type()};return x.Ry(r)},default(e,a){const r={name:v.name(e,a),type:v.type()};return x.Ry(r)},biginteger(e,a){const r={name:v.name(e,a),type:v.type(),default:x.Z_().nullable().matches(/^-?\d*$/),unique:v.unique(),required:v.required(),max:x.Z_().nullable().matches(/^-?\d*$/,m.translatedErrors.regex),min:x.Z_().nullable().test(Nt).matches(/^-?\d*$/,m.translatedErrors.regex)};return x.Ry(r)},boolean(e,a){const r={name:v.name(e,a),default:x.O7().nullable(),required:v.required(),unique:v.unique()};return x.Ry(r)},component(e,a){const r={name:v.name(e,a),type:v.type(),required:v.required(),max:v.max(),min:v.min(),component:x.Z_().required(m.translatedErrors.required)};return x.Ry(r)},decimal(e,a){const r={name:v.name(e,a),type:v.type(),default:x.Rx(),required:v.required(),max:x.Rx(),min:x.Rx().test(Nt)};return x.Ry(r)},dynamiczone(e,a){const r={name:v.name(e,a),type:v.type(),required:v.required(),max:v.max(),min:v.min()};return x.Ry(r)},email(e,a){const r={name:v.name(e,a),type:v.type(),default:x.Z_().email().nullable(),unique:v.unique(),required:v.required(),maxLength:v.maxLength(),minLength:v.minLength()};return x.Ry(r)},enumeration(e,a){const r=/^[_A-Za-z][_0-9A-Za-z]*$/,l={name:x.Z_().test(dn(e)).test(Ft(a)).matches(r,m.translatedErrors.regex).required(m.translatedErrors.required),type:v.type(),default:v.default(),unique:v.unique(),required:v.required(),enum:x.IX().of(x.Z_()).min(1,m.translatedErrors.min).test({name:"areEnumValuesUnique",message:(0,u.Z)("error.validation.enum-duplicate"),test(o){return!Aa()(o.map(St).filter((c,p,g)=>g.indexOf(c)!==p)).length}}).test({name:"doesNotHaveEmptyValues",message:(0,u.Z)("error.validation.enum-empty-string"),test:o=>!o.map(St).some(d=>d==="")}).test({name:"doesMatchRegex",message:(0,u.Z)("error.validation.enum-regex"),test:o=>o.map(St).every(d=>r.test(d))}),enumName:x.Z_().nullable()};return x.Ry(l)},float(e,a){const r={name:v.name(e,a),type:v.type(),required:v.required(),default:x.Rx(),max:x.Rx(),min:x.Rx().test(Nt)};return x.Ry(r)},integer(e,a){const r={name:v.name(e,a),type:v.type(),default:x.Rx().integer(),unique:v.unique(),required:v.required(),max:v.max(),min:v.min()};return x.Ry(r)},json(e,a){const r={name:v.name(e,a),type:v.type(),required:v.required(),unique:v.unique()};return x.Ry(r)},media(e,a){const r={name:v.name(e,a),type:v.type(),multiple:x.O7(),required:v.required(),allowedTypes:x.IX().of(x.Z_().oneOf(["images","videos","files","audios"])).min(1).nullable()};return x.Ry(r)},password(e,a){const r={name:v.name(e,a),type:v.type(),default:v.default(),unique:v.unique(),required:v.required(),maxLength:v.maxLength(),minLength:v.minLength()};return x.Ry(r)},relation(e,a,r,{initialData:l,modifiedData:o}){const d={name:v.name(e,a),target:x.Z_().required(m.translatedErrors.required),relation:x.Z_().required(),type:x.Z_().required(),targetAttribute:x.Vo(()=>{const c=(0,pt.Z)(o.relation,o.targetAttribute);if(c==="oneWay"||c==="manyWay")return x.Z_().nullable();let p=x.Z_().test(Ft(a)),y=[...r.map(({name:b})=>b),o.name].filter(b=>b!==l.targetAttribute);return p.matches(un,m.translatedErrors.regex).test({name:"forbiddenTargetAttributeName",message:(0,u.Z)("error.validation.relation.targetAttribute-taken"),test(b){return b?!y.includes(b):!1}}).required(m.translatedErrors.required)})};return x.Ry(d)},richtext(e,a){const r={name:v.name(e,a),type:v.type(),default:v.default(),unique:v.unique(),required:v.required(),maxLength:v.maxLength(),minLength:v.minLength()};return x.Ry(r)},string(e,a){const r=Zt(e,a);return x.Ry(r)},text(e,a){const r=Zt(e,a);return x.Ry(r)},uid(e,a){const r=Zt(e,a);return x.Ry(r)}},cn={name:"displayName",type:"text",intlLabel:{id:(0,u.Z)("contentType.displayName.label"),defaultMessage:"Display name"}},Ot={advanced:{default(){return{sections:[{items:[{intlLabel:{id:(0,u.Z)("contentType.draftAndPublish.label"),defaultMessage:"Draft & publish"},description:{id:(0,u.Z)("contentType.draftAndPublish.description"),defaultMessage:"Allows writing a draft version of an entry, before it is published"},name:"draftAndPublish",type:"toggle-draft-publish",validations:{}}]}]}}},base:{create(){return{sections:[{sectionTitle:null,items:[cn,{description:{id:(0,u.Z)("contentType.apiId-singular.description"),defaultMessage:"Used to generate the API routes and databases tables/collections"},intlLabel:{id:(0,u.Z)("contentType.apiId-singular.label"),defaultMessage:"API ID (Singular)"},name:"singularName",type:"text-singular"},{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{description:{id:(0,u.Z)("contentType.apiId-plural.description"),defaultMessage:"Pluralized API ID"},intlLabel:{id:(0,u.Z)("contentType.apiId-plural.label"),defaultMessage:"API ID (Plural)"},name:"pluralName",type:"text-plural"}]}]}},edit(){return{sections:[{sectionTitle:null,items:[cn,{disabled:!0,description:{id:(0,u.Z)("contentType.apiId-singular.description"),defaultMessage:"Used to generate the API routes and databases tables/collections"},intlLabel:{id:(0,u.Z)("contentType.apiId-singular.label"),defaultMessage:"API ID (Singular)"},name:"singularName",type:"text"},{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{disabled:!0,description:{id:(0,u.Z)("contentType.apiId-plural.description"),defaultMessage:"Pluralized API ID"},intlLabel:{id:(0,u.Z)("contentType.apiId-plural.label"),defaultMessage:"API ID (Plural)"},name:"pluralName",type:"text"},{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"kind",type:"content-type-radio-group",size:12,radios:[{title:{id:(0,u.Z)("form.button.collection-type.name"),defaultMessage:"Collection Type"},description:{id:(0,u.Z)("form.button.collection-type.description"),defaultMessage:"Best for multiple instances like articles, products, comments, etc."},value:"collectionType"},{title:{id:(0,u.Z)("form.button.single-type.name"),defaultMessage:"Single Type"},description:{id:(0,u.Z)("form.button.single-type.description"),defaultMessage:"Best for single instance like about us, homepage, etc."},value:"singleType"}]}]}]}}}},Za=({usedContentTypeNames:e=[],reservedModels:a=[],singularNames:r=[],pluralNames:l=[]})=>{const o={displayName:x.Z_().test({name:"nameAlreadyUsed",message:m.translatedErrors.unique,test(d){if(!d)return!1;const c=(0,je.E)(d);return!e.includes(c)}}).test({name:"nameNotAllowed",message:(0,u.Z)("error.contentTypeName.reserved-name"),test(d){return d?!a.includes((0,T.toLower)((0,T.trim)(d))):!1}}).required(m.translatedErrors.required),pluralName:x.Z_().test({name:"pluralNameAlreadyUsed",message:m.translatedErrors.unique,test(d){return d?!l.includes(d):!1}}).test({name:"pluralAndSingularAreUnique",message:(0,u.Z)("error.contentType.pluralName-used"),test(d,c){return d?c.parent.singularName!==d:!1}}).test({name:"pluralNameNotAllowed",message:(0,u.Z)("error.contentTypeName.reserved-name"),test(d){return d?!a.includes((0,T.toLower)((0,T.trim)(d))):!1}}).required(m.translatedErrors.required),singularName:x.Z_().test({name:"singularNameAlreadyUsed",message:m.translatedErrors.unique,test(d){return d?!r.includes(d):!1}}).test({name:"pluralAndSingularAreUnique",message:(0,u.Z)("error.contentType.singularName-used"),test(d,c){return d?c.parent.pluralName!==d:!1}}).test({name:"singularNameNotAllowed",message:(0,u.Z)("error.contentTypeName.reserved-name"),test(d){return d?!a.includes((0,T.toLower)((0,T.trim)(d))):!1}}).required(m.translatedErrors.required),draftAndPublish:x.O7(),kind:x.Z_().oneOf(["singleType","collectionType"])};return x.Ry(o)},qt={advanced:{default(){return{sections:we.advanced("componentToCreate.")}}},base:{createComponent(){return{sections:[{sectionTitle:null,items:[At]},...we.base("componentToCreate.")]}},default(){return{sections:[{sectionTitle:null,items:[At]},{sectionTitle:null,items:[{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{name:"components",type:"select-components",intlLabel:{id:(0,u.Z)("modalForm.attributes.select-components"),defaultMessage:"Select the components"},isMultiple:!0}]}]}}}},mn=(e,a)=>{e.forEach(r=>{if(!("sectionTitle"in r)){a[0].items.push(r);return}a.push(r)})},pn=(e,a)=>e.filter(({name:r})=>r!==a.initialData.name).map(({name:r})=>r),Pe={customField:{schema({schemaAttributes:e,attributeType:a,customFieldValidator:r,reservedNames:l,schemaData:o,ctbFormsAPI:d}){const c=pn(e,o),p=Lt[a](c,l.attributes);return d.makeCustomFieldValidator(p,r,c,l.attributes,o)},form:{base({customField:e}){const a=[{sectionTitle:null,items:[Ne]}];return e.options?.base&&mn(e.options.base,a),{sections:a}},advanced({customField:e,data:a,step:r,extensions:l,...o}){const d=[{sectionTitle:null,items:[]}],c=l.getAdvancedForm(["attribute",e.type],{data:a,type:e.type,step:r,...o});if(e.options?.advanced&&mn(e.options.advanced,d),c){const p={sectionTitle:{id:(0,u.Z)("modalForm.custom-fields.advanced.settings.extended"),defaultMessage:"Extended settings"},items:c};d.push(p)}return{sections:d}}}},attribute:{schema(e,a,r,l,o,d){const c=E()(e,["schema","attributes"],[]),p=pn(c,o);try{let g=Lt[a](p,r.attributes,l,o);return d.makeValidator(["attribute",a],g,p,r.attributes,l,o)}catch(g){return console.error("Error yup build schema",g),Lt.default(p,r.attributes)}},form:{advanced({data:e,type:a,step:r,extensions:l,...o}){try{const d=ln.advanced[a](e,r).sections,c=l.getAdvancedForm(["attribute",a],{data:e,type:a,step:r,...o});return{sections:d.reduce((g,y)=>(y.sectionTitle===null?g.push(y):g.push({...y,items:[...y.items,...c]}),g),[])}}catch(d){return console.error(d),{sections:[]}}},base({data:e,type:a,step:r,attributes:l}){try{return ln.base[a](e,r,l)}catch{return Ra}}}},contentType:{schema(e,a,r,l,o,d){const c=Object.values(d).map(A=>A.schema.singularName),p=Object.values(d).map(A=>E()(A,["schema","pluralName"],"")),g=a?e.filter(A=>A!==r):e,y=a?c.filter(A=>E()(d,[r,"schema","singularName"],"")!==A):c,b=a?p.filter(A=>E()(d,[r,"schema","pluralName"],"")!==A):p,f=Za({usedContentTypeNames:g,reservedModels:l.models,singularNames:y,pluralNames:b});return o.makeValidator(["contentType"],f,g,l.models,y,b)},form:{base({actionType:e}){return e==="create"?Ot.base.create():Ot.base.edit()},advanced({extensions:e}){const a=Ot.advanced.default().sections.map(l=>l.items).flat(),r=e.getAdvancedForm(["contentType"]);return{sections:[{items:[...a,...r]}]}}}},component:{schema(e,a,r,l=!1,o=null){const d=l?e.filter(c=>c!==o):e;return Ea(d,r.models,a)},form:{advanced(){return{sections:we.advanced()}},base(){return{sections:we.base()}}}},addComponentToDynamicZone:{form:{advanced(){return qt.advanced.default()},base({data:e}){return E()(e,"createComponent",!1)?qt.base.createComponent():qt.base.default()}}},editCategory:{schema(e,a){const r=e.filter(l=>l!==a.name).map(l=>ve()(l));return Ca(r)},form:{advanced:()=>({sections:[]}),base(){return va.base}}}};var gn=s(20573),Na=s(88372);const La=()=>e=>e[`${j.Z}_formModal`]||Na.E,Oa=()=>(0,gn.P1)(La(),e=>e),qa=()=>{const{onCloseModal:e,onNavigateToChooseAttributeModal:a,onNavigateToAddCompoToDZModal:r,onNavigateToCreateComponentStep2:l,actionType:o,attributeName:d,attributeType:c,customFieldUid:p,categoryName:g,dynamicZoneTarget:y,forTarget:b,modalType:f,isOpen:A,kind:S,step:P,targetUid:w}=(0,H.Z)(),Q=(0,m.useCustomFields)().get(p),N=(0,t.useRef)(),F=(0,t.useMemo)(Oa,[]),I=(0,Z.useDispatch)(),ne=(0,m.useNotification)(),ae=(0,Z.useSelector)(X=>F(X),Z.shallowEqual),{push:pe}=(0,C.useHistory)(),{trackUsage:W}=(0,m.useTracking)(),{formatMessage:le}=(0,h.useIntl)(),{getPlugin:Ee}=(0,m.useStrapiApp)(),he=Ee(j.Z).apis.forms,We=he.components.inputs,{addAttribute:oe,addCustomFieldAttribute:ze,addCreatedComponentToDynamicZone:ce,allComponentsCategories:te,changeDynamicZoneComponents:L,contentTypes:Ge,components:Xe,createSchema:Ve,deleteCategory:Dt,deleteData:tt,editCategory:Pt,editCustomFieldAttribute:kt,submitData:Bt,modifiedData:ge,nestedComponents:Ut,setModifiedData:$t,sortedContentTypesList:jt,updateSchema:wt,reservedNames:Oe}=(0,me.Z)(),{componentToCreate:Je,formErrors:qe,initialData:Te,isCreatingComponentWhileAddingAField:ke,modifiedData:V}=ae,D=b==="contentType"||b==="component"?[b]:[b,w];(0,t.useEffect)(()=>{if(A){const X=jt.filter(_e);f==="editCategory"&&$t(),o==="edit"&&f==="attribute"&&b==="contentType"&&W("willEditFieldOfContentType");const xe=[...D,"schema","attributes"],Fe=Ct(E()(ge,xe,[]),y)||null;if(f==="editCategory"&&o==="edit"&&I({type:ie._H,modalType:f,actionType:o,data:{name:g}}),f==="contentType"&&o==="create"&&I({type:ie._H,modalType:f,actionType:o,data:{draftAndPublish:!0},pluginOptions:{}}),f==="contentType"&&o==="edit"){const{displayName:_,draftAndPublish:ue,kind:Ze,pluginOptions:fe,pluralName:qr,singularName:Ir}=E()(ge,[...D,"schema"],{displayName:null,pluginOptions:{},singularName:null,pluralName:null});I({type:ie._H,actionType:o,modalType:f,data:{displayName:_,draftAndPublish:ue,kind:Ze,pluginOptions:fe,pluralName:qr,singularName:Ir}})}if(f==="component"&&o==="edit"){const _=E()(ge,D,{});I({type:ie._H,actionType:o,modalType:f,data:{displayName:_.schema.displayName,category:_.category}})}if(f==="addComponentToDynamicZone"&&o==="edit"){const _={...Fe,components:[],name:y,createComponent:!1,componentToCreate:{type:"component"}};I({type:ie.VZ,attributeToEdit:_})}if(c){const ue={...Ct(E()(ge,xe,[]),d),name:d};c==="component"&&o==="edit"&&(ue.repeatable||ye()(ue,"repeatable",!1)),I(f==="customField"?{type:ie.OY,customField:Q,isEditing:o==="edit",modifiedDataToSetForEditing:ue,forTarget:b}:{type:ie.S0,attributeType:c,nameToSetForRelation:E()(X,["0","title"],"error"),targetUid:E()(X,["0","uid"],"error"),isEditing:o==="edit",modifiedDataToSetForEditing:ue,step:P,forTarget:b})}}else I({type:ie.c2})},[o,d,c,g,y,b,A,f]);const k=f==="contentType",Y=f==="component",se=f==="attribute",Me=f==="customField",Re=c==="component"&&se,Ae=o==="create",Le=E()(V,"createComponent",!1)||ke,He=P==="1",Sn=f==="editCategory",Fn=f==="chooseAttribute",Wt=(0,je.E)(V.displayName||""),zt=E()(ge,[...D,"schema","attributes"],null),Tr=async()=>{let X;const xe=Le&&P==="1"?E()(V,"componentToCreate",{}):V;if(k)X=Pe.contentType.schema(Object.keys(Ge),o==="edit",E()(ge,[...D,"uid"],null),Oe,he,Ge);else if(Y)X=Pe.component.schema(Object.keys(Xe),V.category||"",Oe,o==="edit",E()(ge,[...D,"uid"],null),he);else if(Me)X=Pe.customField.schema({schemaAttributes:E()(ge,[...D,"schema","attributes"],[]),attributeType:Q.type,reservedNames:Oe,schemaData:{modifiedData:V,initialData:Te},ctbFormsAPI:he,customFieldValidator:Q.options?.validator});else if(Re&&Le&&He)X=Pe.component.schema(Object.keys(Xe),E()(V,"componentToCreate.category",""),Oe,he);else if(se&&!He){const Fe=c==="relation"?"relation":V.type;let _=[];if(Fe==="relation"){const ue=E()(V,["target"],null);_=E()(Ge,[ue,"schema","attributes"],[]).filter(({name:fe})=>o!=="edit"?!0:fe!==Te.targetAttribute)}X=Pe.attribute.schema(E()(ge,D,{}),Fe,Oe,_,{modifiedData:V,initialData:Te},he)}else if(Sn)X=Pe.editCategory.schema(te,Te,he);else if(He&&Le)X=Pe.component.schema(Object.keys(Xe),E()(V,"componentToCreate.category",""),Oe,he);else return;await X.validate(xe,{abortEarly:!1})},Zn=(0,t.useCallback)(({target:{name:X,value:xe,type:Fe,..._}})=>{const ue=["enumName","max","min","maxLength","minLength","regex","default"];let Ze;ue.includes(X)&&xe===""?Ze=null:Ze=xe;const fe=Object.assign({},qe);X==="max"&&delete fe.min,X==="maxLength"&&delete fe.minLength,delete fe[X],I({type:ie.Ey,errors:fe}),I({type:ie.P0,keys:X.split("."),value:Ze,..._})},[I,qe]),Se=async(X,xe=Ae)=>{X.preventDefault();try{await Tr(),Er(xe);const Fe=b==="components"?w:Wt;if(k)if(Ae)Ve({...V,kind:S},f,Wt),pe({pathname:`/plugins/${j.Z}/content-types/${Wt}`}),a({forTarget:b,targetUid:Fe});else{ha(ge,V)?(e(),Bt(V)):ne({type:"warning",message:{id:"notification.contentType.relations.conflict"}});return}else if(f==="component")if(Ae){const _=(0,je.N)(V.displayName,V.category),{category:ue,...Ze}=V;Ve(Ze,"component",_,ue),pe({pathname:`/plugins/${j.Z}/component-categories/${ue}/${_}`}),a({forTarget:b,targetUid:_})}else{wt(V,f,w),e();return}else if(Sn){if(ve()(Te.name)===ve()(V.name)){e();return}Pt(Te.name,V);return}else if(Me){const _={attributeToSet:{...V,customField:p},forTarget:b,targetUid:w,initialAttribute:Te};o==="edit"?kt(_):ze(_),xe?a({forTarget:b,targetUid:Fe}):e();return}else if(se&&!Le){if(c==="dynamiczone"){oe(V,b,w,o==="edit",Te),Ae?(I({type:ie.I}),N.current._handlers.setSelectedTabIndex(0),r({dynamicZoneTarget:V.name})):e();return}if(!Re){oe(V,b,w,o==="edit",Te),xe?a({forTarget:b,targetUid:Fe}):e();return}if(He){l(),I({type:ie.yC,forTarget:b});return}oe(V,b,w,o==="edit",Te,!0),xe?a({forTarget:b,targetUid:w}):e()}else if(se&&Le){if(He){W("willCreateComponentFromAttributesModal"),I({type:ie.oF,forTarget:b}),l();return}const{category:_,type:ue,...Ze}=Je,fe=(0,je.N)(Je.displayName,_);Ve(Ze,ue,fe,_,Le),oe(V,b,w,!1),I({type:ie.c2}),xe?a({forTarget:"components",targetUid:fe}):e();return}else{if(He)if(Le){const{category:_,type:ue,...Ze}=V.componentToCreate,fe=(0,je.N)(V.componentToCreate.displayName,_);Ve(Ze,ue,fe,_,Le),ce(y,[fe]),a({forTarget:"components",targetUid:fe})}else L(y,V.components),e();else console.error("This case is not handled");return}I({type:ie.c2})}catch(Fe){const _=(0,m.getYupInnerErrors)(Fe);console.log({err:Fe,errors:_}),I({type:ie.Ey,errors:_})}},vr=()=>{window.confirm(le({id:"window.confirm.close-modal.file",defaultMessage:"Are you sure? Your changes will be lost."}))&&(e(),I({type:ie.c2}))},Nn=()=>{(0,T.isEqual)(V,Te)?(e(),I({type:ie.c2})):vr()},Cr=X=>{if(X==="advanced"){if(k){W("didSelectContentTypeSettings");return}b==="contentType"&&W("didSelectContentTypeFieldSettings")}},Er=X=>{f==="attribute"&&b==="contentType"&&c!=="dynamiczone"&&X&&W("willAddMoreFieldToContentType")},Mr=()=>!!(f==="editCategory"||f==="component"||ee()(V,"createComponent")),Rr=Ta(b,w,Ut);if(!A||!f)return null;const Ln=E()(Pe,[f,"form"],{advanced:()=>({sections:[]}),base:()=>({sections:[]})}),xr=b==="components"||b==="component",On={customInputs:{"allowed-types-select":Ue,"boolean-radio-group":Qn,"checkbox-with-number-field":_n,"content-type-radio-group":ea,"radio-group":ct,relation:ua,"select-category":ca,"select-component":ma,"select-components":pa,"select-default-boolean":Xn,"select-number":fa,"select-date":ga,"toggle-draft-publish":Gn,"text-plural":da,"text-singular":ya,"textarea-enum":ba,...We},componentToCreate:Je,dynamicZoneTarget:y,formErrors:qe,isAddingAComponentToAnotherComponent:xr,isCreatingComponentWhileAddingAField:ke,mainBoxHeader:E()(ge,[...D,"schema","displayName"],""),modifiedData:V,naturePickerType:b,isCreating:Ae,targetUid:w,forTarget:b},qn=Ln.advanced({data:V,type:c,step:P,actionType:o,attributes:zt,extensions:he,forTarget:b,contentTypeSchema:ge.contentType||{},customField:Q}).sections,In=Ln.base({data:V,type:c,step:P,actionType:o,attributes:zt,extensions:he,forTarget:b,contentTypeSchema:ge.contentType||{},customField:Q}).sections,Ar=on(In),Sr=on(qn),Fr=Object.keys(qe).some(X=>Ar.includes(X)),Zr=Object.keys(qe).some(X=>Sr.includes(X)),Nr=E()(Ge,[w,"schema","kind"]),Lr=()=>o==="edit"&&zt.every(({name:X})=>X!==V?.name),Or=()=>{Lr()&&W("didEditFieldNameOnContentType")};return t.createElement(i.ModalLayout,{onClose:Nn,labelledBy:"title"},t.createElement(Vn,{actionType:o,attributeName:d,categoryName:g,contentTypeKind:S,dynamicZoneTarget:y,modalType:f,forTarget:b,targetUid:w,attributeType:c,customFieldUid:p}),Fn&&t.createElement(zn,{attributes:Rr,forTarget:b,kind:Nr||"collectionType"}),!Fn&&t.createElement("form",{onSubmit:Se},t.createElement(i.ModalBody,null,t.createElement(i.TabGroup,{label:"todo",id:"tabs",variant:"simple",ref:N,onTabChange:X=>{X===1&&Cr("advanced")}},t.createElement(i.Flex,{justifyContent:"space-between"},t.createElement(Yn,{actionType:o,forTarget:b,kind:S,step:P,modalType:f,attributeType:c,attributeName:d,customField:Q}),t.createElement(i.Tabs,null,t.createElement(i.Tab,{hasError:Fr},le({id:(0,u.Z)("popUpForm.navContainer.base"),defaultMessage:"Basic settings"})),t.createElement(i.Tab,{hasError:Zr,disabled:Mr()},le({id:(0,u.Z)("popUpForm.navContainer.advanced"),defaultMessage:"Advanced settings"})))),t.createElement(i.Divider,null),t.createElement(i.Box,{paddingTop:6},t.createElement(i.TabPanels,null,t.createElement(i.TabPanel,null,t.createElement(i.Stack,{spacing:6},t.createElement(rn,{form:In,formErrors:qe,genericInputProps:On,modifiedData:V,onChange:Zn}))),t.createElement(i.TabPanel,null,t.createElement(i.Stack,{spacing:6},t.createElement(rn,{form:qn,formErrors:qe,genericInputProps:On,modifiedData:V,onChange:Zn}))))))),t.createElement(i.ModalFooter,{endActions:t.createElement(Hn,{deleteCategory:Dt,deleteContentType:tt,deleteComponent:tt,categoryName:Te.name,isAttributeModal:f==="attribute",isCustomFieldModal:f==="customField",isComponentToDzModal:f==="addComponentToDynamicZone",isComponentAttribute:c==="component",isComponentModal:f==="component",isContentTypeModal:f==="contentType",isCreatingComponent:o==="create",isCreatingDz:o==="create",isCreatingComponentAttribute:V.createComponent||!1,isCreatingComponentInDz:V.createComponent||!1,isCreatingComponentWhileAddingAField:ke,isCreatingContentType:o==="create",isEditingAttribute:o==="edit",isDzAttribute:c==="dynamiczone",isEditingCategory:f==="editCategory",isInFirstComponentStep:P==="1",onSubmitAddComponentAttribute:Se,onSubmitAddComponentToDz:Se,onSubmitCreateComponent:Se,onSubmitCreateContentType:Se,onSubmitCreateDz:Se,onSubmitEditAttribute:Se,onSubmitEditCategory:Se,onSubmitEditComponent:Se,onSubmitEditContentType:Se,onSubmitEditCustomFieldAttribute:Se,onSubmitEditDz:Se,onClickFinish:Or}),startActions:t.createElement(i.Button,{variant:"tertiary",onClick:Nn},le({id:"app.components.Button.cancel",defaultMessage:"Cancel"}))})))},fn=e=>e.reduce((a,r)=>(a[r.uid]=r,a),{}),Ia=(e,a,r,l)=>{const o=a.reduce((p,g)=>{const y=E()(r,g,{});return p[g]=y,p},{});return{[l?"contentType":"component"]:e,components:o}},Da=(e,a)=>{const r=Object.keys(e).map(l=>(0,T.get)(e,[l,...a],""));return(0,z.Z)(r)};var Pa=s(19525);const ka=e=>{const a=Object.keys(e).reduce((r,l)=>{const o=(0,T.get)(e,[l,"schema","attributes"],[]),d=Ba(o);return[...r,...d]},[]);return(0,z.Z)(a)},Ba=e=>e.reduce((a,r)=>{const{type:l,component:o}=r;return l==="component"&&a.push(o),a},[]),yn=ka,Ua=e=>{const a=Object.keys(e).reduce((r,l)=>{const o=E()(e,[l],{}),d=o.uid;return $a(o)&&r.push(d),r},[]);return(0,z.Z)(a)},$a=e=>E()(e,["schema","attributes"],[]).some(r=>{const{type:l}=r;return l==="component"}),ja=(e,a)=>{const r=Object.keys(e).filter(l=>{const o=(0,T.get)(e,l,{}),d=(0,T.get)(a,l,{}),c=(0,T.get)(o,["isTemporary"],!1),p=!(0,T.isEqual)(o,d);return c||p});return(0,z.Z)(r)},wa=(e,a)=>{const r=hn((0,T.get)(e,"schema.attributes",[]),a),l=(0,T.get)(e,"isTemporary",!1)?{tmpUID:e.uid}:{uid:e.uid};return Object.assign({},l,{category:e.category},(0,T.omit)(e.schema,"attributes"),{attributes:r})},bn=(e,a=!1)=>{const r=(0,T.get)(e,"uid",null),l=hn((0,T.get)(e,"schema.attributes",[]),r),o=a?{category:(0,T.get)(e,"category","")}:{},d=Object.assign(o,(0,T.omit)(e.schema,"attributes"),{attributes:l});return delete d.uid,delete d.isTemporary,delete d.visible,delete d.restrictRelationsTo,d},hn=(e,a)=>e.reduce((r,{name:l,...o})=>{const d=o,c=d.target===a,p=d.type==="relation",g=(0,T.get)(d,"targetAttribute",null);if(!c)if(p){const y=Object.assign({},d,{targetAttribute:Tn(g)});r[l]=et(y)}else r[l]=et(d);if(c){const y=d.target,b=Object.assign({},d,{target:y,targetAttribute:Tn(g)});r[l]=et(b)}if(d.customField){const y={...d,type:"customField"};r[l]=et(y)}return r},{}),Tn=e=>e==="-"?null:e,et=e=>Object.keys(e).reduce((a,r)=>(e[r]!==null&&r!=="plugin"&&(a[r]=e[r]),a),{}),Wa=(e,a,r,l=!1)=>ja(e,a).map(c=>{const p=(0,T.get)(e,c,{});return wa(p,r,l)}),za=e=>(0,T.sortBy)(Object.keys(e).map(a=>({visible:e[a].schema.visible,name:a,title:e[a].schema.displayName,plugin:e[a].plugin||null,uid:a,to:`/plugins/${j.Z}/content-types/${a}`,kind:e[a].schema.kind,restrictRelationsTo:e[a].schema.restrictRelationsTo})).filter(a=>a!==null),a=>(0,T.camelCase)(a.title)),vn="did-not-kill-server",Ga="server is down";function Ke(e,a){return new Promise(r=>{fetch(`${strapi.backendURL}/_health`,{method:"HEAD",mode:"no-cors",headers:{"Content-Type":"application/json","Keep-Alive":!1}}).then(l=>{if(l.status>=400)throw new Error(Ga);if(!a)throw new Error(vn);r(e)}).catch(l=>{setTimeout(()=>Ke(e,l.message!==vn).then(r),100)})})}const Va=e=>Object.values(e.attributes).filter(({type:r})=>r==="dynamiczone").every(({components:r})=>Array.isArray(r)&&r.length>0);var de=s(92407),Ha=s(87431);const Ka=()=>e=>e[`${j.Z}_dataManagerProvider`]||Ha.E,Ya=()=>(0,gn.P1)(Ka(),e=>e),Xa=e=>Object.keys(e).reduce((a,r)=>{const l=e[r].schema;return a[r]={...e[r],schema:{...l,attributes:Ja(l.attributes)}},a},{}),Ja=e=>Object.keys(e).reduce((a,r)=>(a.push({...e[r],name:r}),a),[]),Cn=Xa,It=({children:e,components:a,contentTypes:r,isLoading:l,isLoadingForDataToBeSet:o,initialData:d,modifiedData:c,reservedNames:p})=>{const g=(0,Z.useDispatch)(),y=(0,m.useNotification)(),{lockAppWithAutoreload:b,unlockAppWithAutoreload:f}=(0,m.useAutoReloadOverlayBlocker)(),{setCurrentStep:A}=(0,m.useGuidedTour)(),{getPlugin:S}=(0,m.useStrapiApp)(),{apis:P}=S(j.Z),{autoReload:w}=(0,m.useAppInfos)(),{formatMessage:Q}=(0,h.useIntl)(),{trackUsage:N}=(0,m.useTracking)(),{refetchPermissions:F}=(0,m.useRBACProvider)(),{pathname:I}=(0,C.useLocation)(),{onCloseModal:ne}=(0,H.Z)(),ae=(0,C.useRouteMatch)(`/plugins/${j.Z}/content-types/:uid`),pe=(0,C.useRouteMatch)(`/plugins/${j.Z}/component-categories/:categoryUid/:componentUid`),W=(0,m.useFetchClient)(),{put:le,post:Ee,del:Ye}=W,he=(0,t.useRef)();he.current=Q;const We=w,oe=ae!==null,ze=oe?"contentType":"component",ce=oe?(0,T.get)(ae,"params.uid",null):(0,T.get)(pe,"params.componentUid",null),te=(0,t.useRef)(),L=oe?"content-types":"components";te.current=async()=>{try{const[{data:{data:D}},{data:{data:k}},{data:Y}]=await Promise.all(["components","content-types","reserved-names"].map(Le=>W.get(`/${j.Z}/${Le}`))),se=fn(D),Me=Cn(se),Re=fn(k),Ae=Cn(Re);g({type:de.Id,components:Me,contentTypes:Ae,reservedNames:Y})}catch(D){console.error({err:D}),y({type:"warning",message:{id:"notification.error"}})}},(0,t.useEffect)(()=>(te.current(),()=>{g({type:de.Zl})}),[]),(0,t.useEffect)(()=>{!l&&ce&&Oe()},[l,I,ce]),(0,t.useEffect)(()=>{w||y({type:"info",message:{id:(0,u.Z)("notification.info.autoreaload-disable")}})},[w,y]);const Ge=(D,k,Y,se=!1,Me,Re=!1)=>{const Ae=se?de.JO:de.gz;g({type:Ae,attributeToSet:D,forTarget:k,targetUid:Y,initialAttribute:Me,shouldAddComponentToData:Re})},Xe=({attributeToSet:D,forTarget:k,targetUid:Y,initialAttribute:se})=>{g({type:de.Ir,attributeToSet:D,forTarget:k,targetUid:Y,initialAttribute:se})},Ve=({attributeToSet:D,forTarget:k,targetUid:Y,initialAttribute:se})=>{g({type:de.Ly,attributeToSet:D,forTarget:k,targetUid:Y,initialAttribute:se})},Dt=(D,k)=>{g({type:de.Uu,dynamicZoneTarget:D,componentsToAdd:k})},tt=(D,k,Y,se,Me=!1)=>{const Re=k==="contentType"?de.Sh:de.VR;g({type:Re,data:D,componentCategory:se,schemaType:k,uid:Y,shouldAddComponentToData:Me})},Pt=(D,k)=>{g({type:de.o_,dynamicZoneTarget:D,newComponents:k})},kt=(D,k,Y="")=>{const se=D==="components"?de.lw:de.ai;D==="contentType"&&N("willDeleteFieldOfContentType"),g({type:se,mainDataKey:D,attributeToRemoveName:k,componentUid:Y})},Bt=async D=>{try{const k=`/${j.Z}/component-categories/${D}`,Y=window.confirm(Q({id:(0,u.Z)("popUpWarning.bodyMessage.category.delete")}));ne(),Y&&(b(),await Ye(k),await Ke(!0),await f(),await ke())}catch(k){console.error({err:k}),y({type:"warning",message:{id:"notification.error"}})}finally{f()}},ge=async()=>{try{const D=`/${j.Z}/${L}/${ce}`,k=(0,T.get)(c,[ze,"isTemporary"],!1),Y=window.confirm(Q({id:(0,u.Z)(`popUpWarning.bodyMessage.${oe?"contentType":"component"}.delete`)}));if(ne(),Y){if(k){g({type:de.Ap});return}b(),await Ye(D),await Ke(!0),await f(),await ke()}}catch(D){console.error({err:D}),y({type:"warning",message:{id:"notification.error"}})}finally{f()}},Ut=async(D,k)=>{try{const Y=`/${j.Z}/component-categories/${D}`;ne(),b(),await le(Y,k),await Ke(!0),await f(),await ke()}catch(Y){console.error({err:Y}),y({type:"warning",message:{id:"notification.error"}})}finally{f()}},$t=()=>{const D=Object.assign({},a,c.components);if(!oe){const Y=(0,T.get)(c,"component",{});(0,T.set)(D,(0,T.get)(Y,["uid"],""),Y)}const k=Ua(D);return(0,z.Z)(k)},jt=()=>{const D=yn(a),k=yn(c.components||{});return(0,z.Z)([...k,...D])},wt=(D,k)=>{g({type:de.NG,dzName:D,componentToRemoveIndex:k})},Oe=()=>{const D=oe?r:a,k=(0,T.get)(D,ce,{schema:{attributes:[]}}),Y=(0,Pa.Z)(k.schema.attributes,a),se=Ia(k,Y,a,oe),Me=(0,T.get)(k,"isTemporary",!1)&&(0,T.size)((0,T.get)(k,"schema.attributes",[]))===0;g({type:de.xx,schemaToSet:se,hasJustCreatedSchema:Me})},Je=(0,t.useMemo)(()=>{const D=oe?r:a;return ce==="create-content-type"?!1:!Object.keys(D).includes(ce)&&!l},[a,r,ce,oe,l]),qe=(0,t.useMemo)(()=>{const D=Object.keys(r).filter(k=>(0,T.get)(r,[k,"schema","visible"],!0)).sort();return(0,T.get)(D,"0","create-content-type")},[r]);if(Je)return t.createElement(C.Redirect,{to:`/plugins/${j.Z}/content-types/${qe}`});const Te=async D=>{try{const k=(0,T.get)(c,[ze,"isTemporary"],!1),Y={components:Wa(c.components,a,ce,k)};if(oe){const Re=P.forms.mutateContentTypeSchema({...bn(c.contentType),...D},d.contentType);if(!Va(Re)){y({type:"warning",message:{id:(0,u.Z)("notification.error.dynamiczone-min.validation"),defaultMessage:"At least one component is required in a dynamic zone to be able to save a content type"}});return}Y.contentType=Re,N("willSaveContentType")}else Y.component=bn(c.component,!0),N("willSaveComponent");b();const se=`/${j.Z}/${L}`,Me=k?se:`${se}/${ce}`;if(k?await Ee(Me,Y):await le(Me,Y),await Ke(!0),await f(),k&&(d.contentType?.schema.kind==="collectionType"||d.contentType?.schema.kind==="singleType")&&A("contentTypeBuilder.success"),oe){N("didSaveContentType");const Re=(0,T.get)(Y,["contentType","schema","name"],""),Ae=(0,T.get)(d,["contentType","schema","name"],"");!k&&Re!==Ae&&N("didEditNameOfContentType")}else N("didSaveComponent");await ke()}catch(k){oe||N("didNotSaveComponent"),console.error({err:k.response}),y({type:"warning",message:{id:"notification.error"}})}finally{f()}},ke=async()=>{await F()},V=(D,k,Y)=>{g({type:de.bi,data:D,schemaType:k,uid:Y})};return t.createElement($.Z.Provider,{value:{addAttribute:Ge,addCustomFieldAttribute:Xe,addCreatedComponentToDynamicZone:Dt,allComponentsCategories:Da(a,["category"]),changeDynamicZoneComponents:Pt,components:a,componentsGroupedByCategory:(0,T.groupBy)(a,"category"),componentsThatHaveOtherComponentInTheirAttributes:$t(),contentTypes:r,createSchema:tt,deleteCategory:Bt,deleteData:ge,editCategory:Ut,editCustomFieldAttribute:Ve,isInDevelopmentMode:We,initialData:d,isInContentTypeView:oe,modifiedData:c,nestedComponents:jt(),removeAttribute:kt,removeComponentFromDynamicZone:wt,reservedNames:p,setModifiedData:Oe,sortedContentTypesList:za(r),submitData:Te,updateSchema:V}},o?t.createElement(m.LoadingIndicatorPage,null):t.createElement(t.Fragment,null,e,We&&t.createElement(qa,null)))};It.defaultProps={components:{}},It.propTypes={children:n().node.isRequired,components:n().object,contentTypes:n().object.isRequired,isLoading:n().bool.isRequired,isLoadingForDataToBeSet:n().bool.isRequired,initialData:n().object.isRequired,modifiedData:n().object.isRequired,reservedNames:n().object.isRequired};const Qa=Ya(),_a=(0,Z.connect)(Qa,null),er=(0,B.compose)(_a)((0,t.memo)(It));var tr=s(98422);const En={actionType:null,attributeName:null,attributeType:null,categoryName:null,dynamicZoneTarget:null,forTarget:null,modalType:null,isOpen:!1,kind:null,step:null,targetUid:null,customFieldUid:null},Mn=({children:e})=>{const[a,r]=(0,t.useState)(En),{trackUsage:l}=(0,m.useTracking)(),o=({attributeType:N,customFieldUid:F})=>{r(I=>({...I,actionType:"create",modalType:"customField",attributeType:N,customFieldUid:F}))},d=({attributeType:N,step:F})=>{a.forTarget==="contentType"&&l("didSelectContentTypeFieldType",{type:N}),r(I=>({...I,actionType:"create",modalType:"attribute",step:F,attributeType:N}))},c=({dynamicZoneTarget:N,targetUid:F})=>{r(I=>({...I,dynamicZoneTarget:N,targetUid:F,modalType:"addComponentToDynamicZone",forTarget:"contentType",step:"1",actionType:"edit",isOpen:!0}))},p=({forTarget:N,targetUid:F})=>{r(I=>({...I,actionType:"create",forTarget:N,targetUid:F,modalType:"chooseAttribute",isOpen:!0}))},g=N=>{r(F=>({...F,...N,isOpen:!0}))},y=N=>{r(F=>({...F,categoryName:N,actionType:"edit",modalType:"editCategory",isOpen:!0}))},b=({forTarget:N,targetUid:F,attributeName:I,attributeType:ne,customFieldUid:ae})=>{r(pe=>({...pe,modalType:"customField",customFieldUid:ae,actionType:"edit",forTarget:N,targetUid:F,attributeName:I,attributeType:ne,isOpen:!0}))},f=({forTarget:N,targetUid:F,attributeName:I,attributeType:ne,step:ae})=>{r(pe=>({...pe,modalType:"attribute",actionType:"edit",forTarget:N,targetUid:F,attributeName:I,attributeType:ne,step:ae,isOpen:!0}))},A=({modalType:N,forTarget:F,targetUid:I,kind:ne})=>{r(ae=>({...ae,modalType:N,actionType:"edit",forTarget:F,targetUid:I,kind:ne,isOpen:!0}))},S=()=>{r(En)},P=({forTarget:N,targetUid:F})=>{r(I=>({...I,forTarget:N,targetUid:F,modalType:"chooseAttribute"}))},w=()=>{r(N=>({...N,attributeType:"component",modalType:"attribute",step:"2"}))},Q=({dynamicZoneTarget:N})=>{r(F=>({...F,dynamicZoneTarget:N,modalType:"addComponentToDynamicZone",actionType:"create",step:"1",attributeType:null,attributeName:null}))};return t.createElement(tr.Z.Provider,{value:{...a,onClickSelectField:d,onClickSelectCustomField:o,onCloseModal:S,onNavigateToChooseAttributeModal:P,onNavigateToAddCompoToDZModal:Q,onOpenModalAddComponentsToDZ:c,onNavigateToCreateComponentStep2:w,onOpenModalAddField:p,onOpenModalCreateSchema:g,onOpenModalEditCategory:y,onOpenModalEditField:f,onOpenModalEditCustomField:b,onOpenModalEditSchema:A,setFormModalNavigationState:r}},e)};Mn.propTypes={children:n().node.isRequired};const nr=Mn,ar=(0,t.lazy)(()=>s.e(5905).then(s.bind(s,57134))),rr=()=>{const{url:e}=(0,C.useRouteMatch)(),{categoryUid:a}=(0,C.useParams)();return t.createElement(t.Suspense,{fallback:t.createElement(m.LoadingIndicatorPage,null)},t.createElement(C.Switch,null,t.createElement(C.Route,{path:`${e}/:componentUid`},t.createElement(ar,{categoryId:a}))))};var or=s(92978),sr=s(18386),ir=s(34446),lr=s(29489),ur=s(28086),Rn=s(52305),dr=s(41609),cr=s.n(dr),mr=s(89734),xn=s.n(mr),pr=s(18446),gr=s.n(pr),fr=s(63852);const yr=()=>{const{components:e,componentsGroupedByCategory:a,contentTypes:r,isInDevelopmentMode:l,sortedContentTypesList:o,modifiedData:d,initialData:c}=(0,me.Z)(),p=(0,m.useNotification)(),{trackUsage:g}=(0,m.useTracking)(),[y,b]=(0,t.useState)(""),{onOpenModalCreateSchema:f,onOpenModalEditCategory:A}=(0,H.Z)(),S=xn()(Object.keys(a).map(W=>({name:W,title:W,isEditable:l,onClickEdit(le,Ee){le.stopPropagation(),P?A(Ee.name):F()},links:xn()(a[W].map(le=>({name:le.uid,to:`/plugins/${j.Z}/component-categories/${W}/${le.uid}`,title:le.schema.displayName})),le=>le.title)})),W=>W.title),P=!Object.keys(r).some(W=>r[W].isTemporary===!0)&&!Object.keys(e).some(W=>e[W].isTemporary===!0)&&gr()(d,c),w=()=>{P?(g("willCreateContentType"),f({modalType:"contentType",kind:"collectionType",actionType:"create",forTarget:"contentType"})):F()},Q=()=>{P?(g("willCreateSingleType"),f({modalType:"contentType",kind:"singleType",actionType:"create",forTarget:"contentType"})):F()},N=()=>{P?(g("willCreateComponent"),f({modalType:"component",kind:null,actionType:"create",forTarget:"component"})):F()},F=()=>{p({type:"info",message:{id:`${(0,u.Z)("notification.info.creating.notSaved")}`,defaultMessage:"Please save your work before creating a new collection type or component"}})},I=o.filter(W=>W.visible),ne=[{name:"models",title:{id:`${(0,u.Z)("menu.section.models.name")}`,defaultMessage:"Collection Types"},customLink:l&&{id:`${(0,u.Z)("button.model.create")}`,defaultMessage:"Create new collection type",onClick:w},links:I.filter(W=>W.kind==="collectionType")},{name:"singleTypes",title:{id:`${(0,u.Z)("menu.section.single-types.name")}`,defaultMessage:"Single Types"},customLink:l&&{id:`${(0,u.Z)("button.single-types.create")}`,defaultMessage:"Create new single type",onClick:Q},links:I.filter(W=>W.kind==="singleType")},{name:"components",title:{id:`${(0,u.Z)("menu.section.components.name")}`,defaultMessage:"Components"},customLink:l&&{id:`${(0,u.Z)("button.component.create")}`,defaultMessage:"Create a new component",onClick:N},links:S}],ae=W=>y?(0,fr.ZP)(W,ve()(y),{keys:[le=>ve()(le.title)]}):W;return{menu:(()=>ne.map(W=>W.links.some(Ee=>!cr()(Ee.links))?{...W,links:W.links.map(Ee=>({...Ee,links:ae(Ee.links)}))}:{...W,links:ae(W.links)}))(),searchValue:y,onSearchChange:b}},br=()=>{const{menu:e,searchValue:a,onSearchChange:r}=yr(),{formatMessage:l}=(0,h.useIntl)();return t.createElement(or.m,{ariaLabel:l({id:`${(0,u.Z)("plugin.name")}`,defaultMessage:"Content-Types Builder"})},t.createElement(sr.p,{searchable:!0,value:a,onClear:()=>r(""),onChange:o=>r(o.target.value),label:l({id:`${(0,u.Z)("plugin.name")}`,defaultMessage:"Content-Types Builder"}),searchLabel:l({id:"global.search",defaultMessage:"Search"})}),t.createElement(ir.Z,null,e.map(o=>t.createElement(t.Fragment,{key:o.name},t.createElement(lr.D,{label:l({id:o.title.id,defaultMessage:o.title.defaultMessage}),collapsable:!0,badgeLabel:o.links.length.toString()},o.links.map(d=>d.links?t.createElement(ur.z,{key:d.name,label:Ce()(d.title)},d.links.map(c=>t.createElement(Rn.E,{as:C.NavLink,to:c.to,active:c.active,key:c.name,isSubSectionChild:!0},Ce()(l({id:c.name,defaultMessage:c.title}))))):t.createElement(Rn.E,{as:C.NavLink,to:d.to,active:d.active,key:d.name},Ce()(l({id:d.name,defaultMessage:d.title}))))),o.customLink&&t.createElement(i.Box,{paddingLeft:7},t.createElement(i.TextButton,{onClick:o.customLink.onClick,startIcon:t.createElement(be.Plus,null),marginTop:2},l({id:o.customLink.id,defaultMessage:o.customLink.defaultMessage})))))))},An=(0,t.lazy)(()=>s.e(5905).then(s.bind(s,57134))),hr=()=>{const{formatMessage:e}=(0,h.useIntl)(),a=e({id:`${j.Z}.plugin.name`,defaultMessage:"Content Types Builder"}),{startSection:r}=(0,m.useGuidedTour)(),l=(0,t.useRef)(r);return(0,t.useEffect)(()=>{l.current&&l.current("contentTypeBuilder")},[]),t.createElement(m.CheckPagePermissions,{permissions:R.Z.main},t.createElement(M.Helmet,{title:a}),t.createElement(nr,null,t.createElement(er,null,t.createElement(i.Layout,{sideNav:t.createElement(br,null)},t.createElement(t.Suspense,{fallback:t.createElement(m.LoadingIndicatorPage,null)},t.createElement(C.Switch,null,t.createElement(C.Route,{path:`/plugins/${j.Z}/content-types/create-content-type`,component:An}),t.createElement(C.Route,{path:`/plugins/${j.Z}/content-types/:uid`,component:An}),t.createElement(C.Route,{path:`/plugins/${j.Z}/component-categories/:categoryUid`,component:rr})))))))}},5002:(O,U,s)=>{"use strict";s.d(U,{Z:()=>M});var t=s(96124);const M=h=>`${t.Z}.${h}`},47443:(O,U,s)=>{var t=s(42118);function C(M,h){var m=M==null?0:M.length;return!!m&&t(M,h,0)>-1}O.exports=C},1196:O=>{function U(s,t,C){for(var M=-1,h=s==null?0:s.length;++M<h;)if(C(t,s[M]))return!0;return!1}O.exports=U},48983:(O,U,s)=>{var t=s(40371),C=t("length");O.exports=C},89881:(O,U,s)=>{var t=s(47816),C=s(99291),M=C(t);O.exports=M},41848:O=>{function U(s,t,C,M){for(var h=s.length,m=C+(M?1:-1);M?m--:++m<h;)if(t(s[m],m,s))return m;return-1}O.exports=U},42118:(O,U,s)=>{var t=s(41848),C=s(62722),M=s(42351);function h(m,i,R){return i===i?M(m,i,R):t(m,C,R)}O.exports=h},62722:O=>{function U(s){return s!==s}O.exports=U},23933:(O,U,s)=>{var t=s(44239),C=s(37005),M="[object RegExp]";function h(m){return C(m)&&t(m)==M}O.exports=h},69199:(O,U,s)=>{var t=s(89881),C=s(98612);function M(h,m){var i=-1,R=C(h)?Array(h.length):[];return t(h,function(j,J,n){R[++i]=m(j,J,n)}),R}O.exports=M},82689:(O,U,s)=>{var t=s(29932),C=s(97786),M=s(67206),h=s(69199),m=s(71131),i=s(7518),R=s(85022),j=s(6557),J=s(1469);function n(T,Z,B){Z.length?Z=t(Z,function(u){return J(u)?function(z){return C(z,u.length===1?u[0]:u)}:u}):Z=[j];var $=-1;Z=t(Z,i(M));var H=h(T,function(u,z,G){var E=t(Z,function(K){return K(u)});return{criteria:E,index:++$,value:u}});return m(H,function(u,z){return R(u,z,B)})}O.exports=n},71131:O=>{function U(s,t){var C=s.length;for(s.sort(t);C--;)s[C]=s[C].value;return s}O.exports=U},45652:(O,U,s)=>{var t=s(88668),C=s(47443),M=s(1196),h=s(74757),m=s(23593),i=s(21814),R=200;function j(J,n,T){var Z=-1,B=C,$=J.length,H=!0,u=[],z=u;if(T)H=!1,B=M;else if($>=R){var G=n?null:m(J);if(G)return i(G);H=!1,B=h,z=new t}else z=n?[]:u;e:for(;++Z<$;){var E=J[Z],K=n?n(E):E;if(E=T||E!==0?E:0,H&&K===K){for(var ee=z.length;ee--;)if(z[ee]===K)continue e;n&&z.push(K),u.push(E)}else B(z,K,T)||(z!==u&&z.push(K),u.push(E))}return u}O.exports=j},26393:(O,U,s)=>{var t=s(33448);function C(M,h){if(M!==h){var m=M!==void 0,i=M===null,R=M===M,j=t(M),J=h!==void 0,n=h===null,T=h===h,Z=t(h);if(!n&&!Z&&!j&&M>h||j&&J&&T&&!n&&!Z||i&&J&&T||!m&&T||!R)return 1;if(!i&&!j&&!Z&&M<h||Z&&m&&R&&!i&&!j||n&&m&&R||!J&&R||!T)return-1}return 0}O.exports=C},85022:(O,U,s)=>{var t=s(26393);function C(M,h,m){for(var i=-1,R=M.criteria,j=h.criteria,J=R.length,n=m.length;++i<J;){var T=t(R[i],j[i]);if(T){if(i>=n)return T;var Z=m[i];return T*(Z=="desc"?-1:1)}}return M.index-h.index}O.exports=C},99291:(O,U,s)=>{var t=s(98612);function C(M,h){return function(m,i){if(m==null)return m;if(!t(m))return M(m,i);for(var R=m.length,j=h?R:-1,J=Object(m);(h?j--:++j<R)&&i(J[j],j,J)!==!1;);return m}}O.exports=C},23593:(O,U,s)=>{var t=s(58525),C=s(50308),M=s(21814),h=1/0,m=t&&1/M(new t([,-0]))[1]==h?function(i){return new t(i)}:C;O.exports=m},42351:O=>{function U(s,t,C){for(var M=C-1,h=s.length;++M<h;)if(s[M]===t)return M;return-1}O.exports=U},88016:(O,U,s)=>{var t=s(48983),C=s(62689),M=s(21903);function h(m){return C(m)?M(m):t(m)}O.exports=h},21903:O=>{var U="\\ud800-\\udfff",s="\\u0300-\\u036f",t="\\ufe20-\\ufe2f",C="\\u20d0-\\u20ff",M=s+t+C,h="\\ufe0e\\ufe0f",m="["+U+"]",i="["+M+"]",R="\\ud83c[\\udffb-\\udfff]",j="(?:"+i+"|"+R+")",J="[^"+U+"]",n="(?:\\ud83c[\\udde6-\\uddff]){2}",T="[\\ud800-\\udbff][\\udc00-\\udfff]",Z="\\u200d",B=j+"?",$="["+h+"]?",H="(?:"+Z+"(?:"+[J,n,T].join("|")+")"+$+B+")*",u=$+B+H,z="(?:"+[J+i+"?",i,n,T,m].join("|")+")",G=RegExp(R+"(?="+R+")|"+z+u,"g");function E(K){for(var ee=G.lastIndex=0;G.test(K);)++ee;return ee}O.exports=E},96347:(O,U,s)=>{var t=s(23933),C=s(7518),M=s(31167),h=M&&M.isRegExp,m=h?C(h):t;O.exports=m},50308:O=>{function U(){}O.exports=U},89734:(O,U,s)=>{var t=s(21078),C=s(82689),M=s(5976),h=s(16612),m=M(function(i,R){if(i==null)return[];var j=R.length;return j>1&&h(i,R[0],R[1])?R=[]:j>2&&h(R[0],R[1],R[2])&&(R=[R[0]]),C(i,t(R,1),[])});O.exports=m},7334:(O,U,s)=>{var t=s(79833);function C(M){return t(M).toLowerCase()}O.exports=C},39138:(O,U,s)=>{var t=s(80531),C=s(40180),M=s(62689),h=s(13218),m=s(96347),i=s(88016),R=s(83140),j=s(40554),J=s(79833),n=30,T="...",Z=/\w*$/;function B($,H){var u=n,z=T;if(h(H)){var G="separator"in H?H.separator:G;u="length"in H?j(H.length):u,z="omission"in H?t(H.omission):z}$=J($);var E=$.length;if(M($)){var K=R($);E=K.length}if(u>=E)return $;var ee=u-i(z);if(ee<1)return z;var re=K?C(K,0,ee).join(""):$.slice(0,ee);if(G===void 0)return re+z;if(K&&(ee+=re.length-ee),m(G)){if($.slice(ee).search(G)){var ye,Ie=re;for(G.global||(G=RegExp(G.source,J(Z.exec(G))+"g")),G.lastIndex=0;ye=G.exec(Ie);)var ve=ye.index;re=re.slice(0,ve===void 0?ee:ve)}}else if($.indexOf(t(G),ee)!=ee){var me=re.lastIndexOf(G);me>-1&&(re=re.slice(0,me))}return re+z}O.exports=B},44908:(O,U,s)=>{var t=s(45652);function C(M){return M&&M.length?t(M):[]}O.exports=C},20573:(O,U,s)=>{"use strict";s.d(U,{P1:()=>J});var t="NOT_FOUND";function C(T){var Z;return{get:function($){return Z&&T(Z.key,$)?Z.value:t},put:function($,H){Z={key:$,value:H}},getEntries:function(){return Z?[Z]:[]},clear:function(){Z=void 0}}}function M(T,Z){var B=[];function $(G){var E=B.findIndex(function(ee){return Z(G,ee.key)});if(E>-1){var K=B[E];return E>0&&(B.splice(E,1),B.unshift(K)),K.value}return t}function H(G,E){$(G)===t&&(B.unshift({key:G,value:E}),B.length>T&&B.pop())}function u(){return B}function z(){B=[]}return{get:$,put:H,getEntries:u,clear:z}}var h=function(Z,B){return Z===B};function m(T){return function(B,$){if(B===null||$===null||B.length!==$.length)return!1;for(var H=B.length,u=0;u<H;u++)if(!T(B[u],$[u]))return!1;return!0}}function i(T,Z){var B=typeof Z=="object"?Z:{equalityCheck:Z},$=B.equalityCheck,H=$===void 0?h:$,u=B.maxSize,z=u===void 0?1:u,G=B.resultEqualityCheck,E=m(H),K=z===1?C(E):M(z,E);function ee(){var re=K.get(arguments);if(re===t){if(re=T.apply(null,arguments),G){var ye=K.getEntries(),Ie=ye.find(function(ve){return G(ve.value,re)});Ie&&(re=Ie.value)}K.put(arguments,re)}return re}return ee.clearCache=function(){return K.clear()},ee}function R(T){var Z=Array.isArray(T[0])?T[0]:T;if(!Z.every(function($){return typeof $=="function"})){var B=Z.map(function($){return typeof $=="function"?"function "+($.name||"unnamed")+"()":typeof $}).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+B+"]")}return Z}function j(T){for(var Z=arguments.length,B=new Array(Z>1?Z-1:0),$=1;$<Z;$++)B[$-1]=arguments[$];var H=function(){for(var z=arguments.length,G=new Array(z),E=0;E<z;E++)G[E]=arguments[E];var K=0,ee,re={memoizeOptions:void 0},ye=G.pop();if(typeof ye=="object"&&(re=ye,ye=G.pop()),typeof ye!="function")throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof ye+"]");var Ie=re,ve=Ie.memoizeOptions,me=ve===void 0?B:ve,nt=Array.isArray(me)?me:[me],Ce=R(G),Qe=T.apply(void 0,[function(){return K++,ye.apply(null,arguments)}].concat(nt)),Be=T(function(){for(var at=[],_e=Ce.length,De=0;De<_e;De++)at.push(Ce[De].apply(null,arguments));return ee=Qe.apply(null,at),ee});return Object.assign(Be,{resultFunc:ye,memoizedResultFunc:Qe,dependencies:Ce,lastResult:function(){return ee},recomputations:function(){return K},resetRecomputations:function(){return K=0}}),Be};return H}var J=j(i),n=function(Z,B){if(B===void 0&&(B=J),typeof Z!="object")throw new Error("createStructuredSelector expects first argument to be an object "+("where each property is a selector, instead received a "+typeof Z));var $=Object.keys(Z),H=B($.map(function(u){return Z[u]}),function(){for(var u=arguments.length,z=new Array(u),G=0;G<u;G++)z[G]=arguments[G];return z.reduce(function(E,K,ee){return E[$[ee]]=K,E},{})});return H}}}]);
