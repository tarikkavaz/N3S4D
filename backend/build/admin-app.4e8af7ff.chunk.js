(self.webpackChunkbackend=self.webpackChunkbackend||[]).push([[5538],{95423:(b,E,t)=>{var e={"./ar.json":[53803,7958],"./ca.json":[67634,3516],"./cs.json":[67278,7519],"./de.json":[52961,6901],"./dk.json":[72259,7898],"./en.json":[49898,320],"./es.json":[86702,8367],"./eu.json":[38153,8360],"./fr.json":[10542,8006],"./gu.json":[66003,2248],"./he.json":[51574,830],"./hi.json":[16007,6332],"./hu.json":[61919,5894],"./id.json":[1354,8897],"./it.json":[57442,6817],"./ja.json":[72185,1312],"./ko.json":[92975,1377],"./ml.json":[78270,9903],"./ms.json":[16427,3025],"./nl.json":[35566,2671],"./no.json":[39217,562],"./pl.json":[2506,7846],"./pt-BR.json":[61913,9647],"./pt.json":[57786,3340],"./ru.json":[76711,123],"./sa.json":[55119,9726],"./sk.json":[19043,606],"./sv.json":[42862,9303],"./th.json":[15364,749],"./tr.json":[49394,395],"./uk.json":[88068,7403],"./vi.json":[93473,3278],"./zh-Hans.json":[23407,2553],"./zh.json":[70326,1011]};function i(n){if(!t.o(e,n))return Promise.resolve().then(()=>{var g=new Error("Cannot find module '"+n+"'");throw g.code="MODULE_NOT_FOUND",g});var f=e[n],m=f[0];return t.e(f[1]).then(()=>t.t(m,19))}i.keys=()=>Object.keys(e),i.id=95423,b.exports=i},42243:(b,E,t)=>{"use strict";t.d(E,{Z:()=>ot});var e=t(53209),i=t(95489),n=t(67294),f=t(97132),m=t(45697),g=t.n(m),d=t(28702),O=t(80831),A=t(36206),Z=t(79690);const T=({onSubmit:K,schema:Ze})=>{const{formatMessage:W}=(0,f.useIntl)();return n.createElement(A.ZP,null,n.createElement(d.Main,null,n.createElement(A.bU,null,n.createElement(O.Formik,{enableReinitialize:!0,initialValues:{email:""},onSubmit:K,validationSchema:Ze,validateOnChange:!1},({values:Ge,errors:Re,handleChange:Ke})=>n.createElement(i.Form,{noValidate:!0},n.createElement(A.sg,null,n.createElement(Z.Z,null),n.createElement(d.Box,{paddingTop:6,paddingBottom:7},n.createElement(d.Typography,{as:"h1",variant:"alpha"},W({id:"Auth.form.button.password-recovery",defaultMessage:"Password Recovery"}))),Re.errorMessage&&n.createElement(d.Typography,{id:"global-form-error",role:"alert",tabIndex:-1,textColor:"danger600"},W({id:Re.errorMessage,defaultMessage:"An error occurred"}))),n.createElement(d.Stack,{spacing:6},n.createElement(d.TextInput,{error:Re.email?W({id:Re.email,defaultMessage:"This email is invalid."}):"",value:Ge.email,onChange:Ke,label:W({id:"Auth.form.email.label",defaultMessage:"Email"}),placeholder:W({id:"Auth.form.email.placeholder",defaultMessage:"kai@doe.com"}),name:"email",required:!0}),n.createElement(d.Button,{type:"submit",fullWidth:!0},W({id:"Auth.form.button.forgot-password",defaultMessage:"Send Email"})))))),n.createElement(d.Flex,{justifyContent:"center"},n.createElement(d.Box,{paddingTop:4},n.createElement(i.Link,{to:"/auth/login"},W({id:"Auth.link.ready",defaultMessage:"Ready to sign in?"}))))))};T.defaultProps={onSubmit:K=>K.preventDefault()},T.propTypes={onSubmit:g().func,schema:g().shape({type:g().string.isRequired}).isRequired};const I=T,v=()=>{const{formatMessage:K}=(0,f.useIntl)();return n.createElement(A.ZP,null,n.createElement(d.Main,null,n.createElement(A.bU,null,n.createElement(A.sg,null,n.createElement(Z.Z,null),n.createElement(d.Box,{paddingTop:6,paddingBottom:7},n.createElement(d.Typography,{as:"h1",variant:"alpha"},K({id:"app.containers.AuthPage.ForgotPasswordSuccess.title",defaultMessage:"Email sent"}))),n.createElement(d.Typography,null,K({id:"app.containers.AuthPage.ForgotPasswordSuccess.text.email",defaultMessage:"It can take a few minutes to receive your password recovery link."})),n.createElement(d.Box,{paddingTop:4},n.createElement(d.Typography,null,K({id:"app.containers.AuthPage.ForgotPasswordSuccess.text.contact-admin",defaultMessage:"If you do not receive this link, please contact your administrator."}))))),n.createElement(d.Flex,{justifyContent:"center"},n.createElement(d.Box,{paddingTop:4},n.createElement(i.Link,{to:"/auth/login"},K({id:"Auth.link.signin",defaultMessage:"Sign in"}))))))},k=()=>{const{formatMessage:K}=(0,f.useIntl)(),W=(0,i.useQuery)().get("info")||K({id:"Auth.components.Oops.text",defaultMessage:"Your account has been suspended."});return n.createElement(A.ZP,null,n.createElement(d.Main,null,n.createElement(A.bU,null,n.createElement(A.sg,null,n.createElement(Z.Z,null),n.createElement(d.Box,{paddingTop:6,paddingBottom:7},n.createElement(d.Typography,{as:"h1",variant:"alpha"},K({id:"Auth.components.Oops.title",defaultMessage:"Oops..."}))),n.createElement(d.Typography,null,W),n.createElement(d.Box,{paddingTop:4},n.createElement(d.Typography,null,K({id:"Auth.components.Oops.text.admin",defaultMessage:"If this is a mistake, please contact your administrator."}))))),n.createElement(d.Flex,{justifyContent:"center"},n.createElement(d.Box,{paddingTop:4},n.createElement(i.Link,{to:"/auth/login"},K({id:"Auth.link.signin",defaultMessage:"Sign in"}))))))};var L=t(27821),B=t(27361),ne=t.n(B),Ae=t(57557),P=t.n(Ae),ge=t(49656),Me=t(11817),V=t(41363),a=t(68070);const S=(0,L.default)(d.Box)`
  text-align: center;
`,D=L.default.a`
  color: ${({theme:K})=>K.colors.primary600};
`,G=(0,L.default)(d.TextInput)`
  ::-ms-reveal {
    display: none;
  }
`,ye=({authType:K,fieldsToDisable:Ze,noSignin:W,onSubmit:Ge,schema:Re})=>{const Ke=(0,i.useNotification)(),{push:le}=(0,ge.useHistory)(),[He,we]=(0,n.useState)(!1),[te,Xe]=(0,n.useState)(!1),[he,at]=(0,n.useState)(0),[qe,gt]=(0,n.useState)({}),{trackUsage:rt}=(0,i.useTracking)(),{formatMessage:z}=(0,f.useIntl)(),Be=(0,i.useQuery)().get("registrationToken");return(0,n.useEffect)(()=>{Be&&(async()=>{try{const{data:{data:re}}=await Me.Z.get(`${strapi.backendURL}/admin/registration-info?registrationToken=${Be}`);re&&gt(re)}catch(re){const de=ne()(re,["response","data","message"],"An error occurred");Ke({type:"warning",message:de}),le(`/auth/oops?info=${encodeURIComponent(de)}`)}})()},[Be]),n.createElement(A.ZP,null,n.createElement(A.bU,null,n.createElement(O.Formik,{enableReinitialize:!0,initialValues:{firstname:qe.firstname||"",lastname:qe.lastname||"",email:qe.email||"",password:"",confirmPassword:"",registrationToken:Be||void 0,news:!1},onSubmit:async(be,re)=>{try{await Re.validate(be,{abortEarly:!1}),he>0&&K==="register-admin"&&rt("didSubmitWithErrorsFirstAdmin",{count:he.toString()}),Ge(Be?{userInfo:P()(be,["registrationToken"]),registrationToken:Be}:be,re)}catch(de){const xe=(0,i.getYupInnerErrors)(de);at(he+1),re.setErrors(xe)}},validateOnChange:!1},({values:be,errors:re,handleChange:de})=>n.createElement(i.Form,{noValidate:!0},n.createElement(d.Main,null,n.createElement(A.sg,null,n.createElement(Z.Z,null),n.createElement(d.Box,{paddingTop:6,paddingBottom:1},n.createElement(d.Typography,{as:"h1",variant:"alpha"},z({id:"Auth.form.welcome.title",defaultMessage:"Welcome to Strapi!"}))),n.createElement(S,{paddingBottom:7},n.createElement(d.Typography,{variant:"epsilon",textColor:"neutral600"},z({id:"Auth.form.register.subtitle",defaultMessage:"Credentials are only used to authenticate in Strapi. All saved data will be stored in your database."})))),n.createElement(d.Stack,{spacing:6},n.createElement(d.Grid,{gap:4},n.createElement(d.GridItem,{col:6},n.createElement(d.TextInput,{name:"firstname",required:!0,value:be.firstname,error:re.firstname?z(re.firstname):void 0,onChange:de,label:z({id:"Auth.form.firstname.label",defaultMessage:"Firstname"})})),n.createElement(d.GridItem,{col:6},n.createElement(d.TextInput,{name:"lastname",value:be.lastname,onChange:de,label:z({id:"Auth.form.lastname.label",defaultMessage:"Lastname"})}))),n.createElement(d.TextInput,{name:"email",disabled:Ze.includes("email"),value:be.email,onChange:de,error:re.email?z(re.email):void 0,required:!0,label:z({id:"Auth.form.email.label",defaultMessage:"Email"}),type:"email"}),n.createElement(G,{name:"password",onChange:de,value:be.password,error:re.password?z(re.password):void 0,endAction:n.createElement(a.Z,{onClick:xe=>{xe.preventDefault(),we(Je=>!Je)},label:z(He?{id:"Auth.form.password.show-password",defaultMessage:"Show password"}:{id:"Auth.form.password.hide-password",defaultMessage:"Hide password"})},He?n.createElement(V.Eye,null):n.createElement(V.EyeStriked,null)),hint:z({id:"Auth.form.password.hint",defaultMessage:"Must be at least 8 characters, 1 uppercase, 1 lowercase & 1 number"}),required:!0,label:z({id:"global.password",defaultMessage:"Password"}),type:He?"text":"password"}),n.createElement(G,{name:"confirmPassword",onChange:de,value:be.confirmPassword,error:re.confirmPassword?z(re.confirmPassword):void 0,endAction:n.createElement(a.Z,{onClick:xe=>{xe.preventDefault(),Xe(Je=>!Je)},label:z(te?{id:"Auth.form.password.show-password",defaultMessage:"Show password"}:{id:"Auth.form.password.hide-password",defaultMessage:"Hide password"})},te?n.createElement(V.Eye,null):n.createElement(V.EyeStriked,null)),required:!0,label:z({id:"Auth.form.confirmPassword.label",defaultMessage:"Confirm Password"}),type:te?"text":"password"}),n.createElement(d.Checkbox,{onValueChange:xe=>{de({target:{value:xe,name:"news"}})},value:be.news,name:"news","aria-label":"news"},z({id:"Auth.form.register.news.label",defaultMessage:"Keep me updated about new features & upcoming improvements (by doing this you accept the {terms} and the {policy})."},{terms:n.createElement(D,{target:"_blank",href:"https://strapi.io/terms",rel:"noreferrer"},z({id:"Auth.privacy-policy-agreement.terms",defaultMessage:"terms"})),policy:n.createElement(D,{target:"_blank",href:"https://strapi.io/privacy",rel:"noreferrer"},z({id:"Auth.privacy-policy-agreement.policy",defaultMessage:"policy"}))})),n.createElement(d.Button,{fullWidth:!0,size:"L",type:"submit"},z({id:"Auth.form.button.register",defaultMessage:"Let's start"})))))),!W&&n.createElement(d.Box,{paddingTop:4},n.createElement(d.Flex,{justifyContent:"center"},n.createElement(i.Link,{label:"Auth.link.signin",to:"/auth/login"},z({id:"Auth.link.signin.account",defaultMessage:"Already have an account?"}))))))};ye.defaultProps={fieldsToDisable:[],noSignin:!1,onSubmit:K=>K.preventDefault()},ye.propTypes={authType:g().string.isRequired,fieldsToDisable:g().array,noSignin:g().bool,onSubmit:g().func,schema:g().shape({validate:g().func.isRequired,type:g().string.isRequired}).isRequired};const fe=ye,ae=(0,L.default)(d.TextInput)`
  ::-ms-reveal {
    display: none;
  }
`,Te=({onSubmit:K,schema:Ze})=>{const[W,Ge]=(0,n.useState)(!1),[Re,Ke]=(0,n.useState)(!1),{formatMessage:le}=(0,f.useIntl)();return n.createElement(A.ZP,null,n.createElement(d.Main,null,n.createElement(A.bU,null,n.createElement(O.Formik,{enableReinitialize:!0,initialValues:{password:"",confirmPassword:""},onSubmit:K,validationSchema:Ze,validateOnChange:!1},({values:He,errors:we,handleChange:te})=>n.createElement(i.Form,{noValidate:!0},n.createElement(A.sg,null,n.createElement(Z.Z,null),n.createElement(d.Box,{paddingTop:6,paddingBottom:7},n.createElement(d.Typography,{as:"h1",variant:"alpha"},le({id:"global.reset-password",defaultMessage:"Reset password"}))),we.errorMessage&&n.createElement(d.Typography,{id:"global-form-error",role:"alert",tabIndex:-1,textColor:"danger600"},le({id:we.errorMessage,defaultMessage:"An error occurred"}))),n.createElement(d.Stack,{spacing:6},n.createElement(ae,{name:"password",onChange:te,value:He.password,error:we.password?le({id:we.password,defaultMessage:"This field is required."}):void 0,endAction:n.createElement(a.Z,{onClick:Xe=>{Xe.preventDefault(),Ge(he=>!he)},label:le(W?{id:"Auth.form.password.show-password",defaultMessage:"Show password"}:{id:"Auth.form.password.hide-password",defaultMessage:"Hide password"})},W?n.createElement(V.Eye,null):n.createElement(V.EyeStriked,null)),hint:le({id:"Auth.form.password.hint",defaultMessage:"Password must contain at least 8 characters, 1 uppercase, 1 lowercase and 1 number"}),required:!0,label:le({id:"global.password",defaultMessage:"Password"}),type:W?"text":"password"}),n.createElement(ae,{name:"confirmPassword",onChange:te,value:He.confirmPassword,error:we.confirmPassword?le({id:we.confirmPassword,defaultMessage:"This value is required."}):void 0,endAction:n.createElement(a.Z,{onClick:Xe=>{Xe.preventDefault(),Ke(he=>!he)},label:le(W?{id:"Auth.form.password.show-password",defaultMessage:"Show password"}:{id:"Auth.form.password.hide-password",defaultMessage:"Hide password"})},Re?n.createElement(V.Eye,null):n.createElement(V.EyeStriked,null)),required:!0,label:le({id:"Auth.form.confirmPassword.label",defaultMessage:"Confirm Password"}),type:Re?"text":"password"}),n.createElement(d.Button,{fullwidth:!0,type:"submit"},le({id:"global.change-password",defaultMessage:"Change password"})))))),n.createElement(d.Flex,{justifyContent:"center"},n.createElement(d.Box,{paddingTop:4},n.createElement(i.Link,{to:"/auth/login"},le({id:"Auth.link.ready",defaultMessage:"Ready to sign in?"}))))))};Te.defaultProps={onSubmit:K=>K.preventDefault()},Te.propTypes={onSubmit:g().func,schema:g().shape({type:g().string.isRequired}).isRequired};const De=Te;var nt=function(){return window&&window.strapi&&window.strapi.isEE?t(9442).Z:t(73347).Z}(),ke={"forgot-password":{Component:I,endPoint:"forgot-password",fieldsToDisable:[],fieldsToOmit:[],schema:e.Ry().shape({email:e.Z_().email(i.translatedErrors.email).required(i.translatedErrors.required)}),inputsPrefix:""},"forgot-password-success":{Component:v,endPoint:"",fieldsToDisable:[],fieldsToOmit:[],schema:null,inputsPrefix:""},login:{Component:nt,endPoint:"login",fieldsToDisable:[],fieldsToOmit:["rememberMe"],schema:e.Ry().shape({email:e.Z_().email(i.translatedErrors.email).required(i.translatedErrors.required),password:e.Z_().required(i.translatedErrors.required),rememberMe:e.Xg().nullable()}),inputsPrefix:""},oops:{Component:k,endPoint:null,fieldsToDisable:[],fieldsToOmit:[],schema:null,inputsPrefix:""},register:{Component:fe,endPoint:"register",fieldsToDisable:["email"],fieldsToOmit:["userInfo.confirmPassword","userInfo.news","userInfo.email"],schema:e.Ry().shape({firstname:e.Z_().trim().required(i.translatedErrors.required),lastname:e.Z_(),password:e.Z_().min(8,i.translatedErrors.minLength).matches(/[a-z]/,"components.Input.error.contain.lowercase").matches(/[A-Z]/,"components.Input.error.contain.uppercase").matches(/\d/,"components.Input.error.contain.number").required(i.translatedErrors.required),confirmPassword:e.Z_().oneOf([e.iH("password"),null],"components.Input.error.password.noMatch").required(i.translatedErrors.required),registrationToken:e.Z_().required(i.translatedErrors.required)}),inputsPrefix:"userInfo."},"register-admin":{Component:fe,endPoint:"register-admin",noSignin:!0,fieldsToDisable:[],fieldsToOmit:["confirmPassword","news"],schema:e.Ry().shape({firstname:e.Z_().trim().required(i.translatedErrors.required),lastname:e.Z_(),password:e.Z_().min(8,i.translatedErrors.minLength).matches(/[a-z]/,"components.Input.error.contain.lowercase").matches(/[A-Z]/,"components.Input.error.contain.uppercase").matches(/\d/,"components.Input.error.contain.number").required(i.translatedErrors.required),email:e.Z_().email(i.translatedErrors.email).strict().lowercase(i.translatedErrors.lowercase).required(i.translatedErrors.required),confirmPassword:e.Z_().oneOf([e.iH("password"),null],"components.Input.error.password.noMatch").required(i.translatedErrors.required)}),inputsPrefix:""},"reset-password":{Component:De,endPoint:"reset-password",fieldsToDisable:[],fieldsToOmit:["confirmPassword"],schema:e.Ry().shape({password:e.Z_().min(8,i.translatedErrors.minLength).matches(/[a-z]/,"components.Input.error.contain.lowercase").matches(/[A-Z]/,"components.Input.error.contain.uppercase").matches(/\d/,"components.Input.error.contain.number").required(i.translatedErrors.required),confirmPassword:e.Z_().oneOf([e.iH("password"),null],"components.Input.error.password.noMatch").required(i.translatedErrors.required)})}};const ot=ke},87751:(b,E,t)=>{"use strict";t.d(E,{Z:()=>g});var e=t(96486);const n={contentManager:{main:[],collectionTypesConfigurations:[{action:"plugin::content-manager.collection-types.configure-view",subject:null}],componentsConfigurations:[{action:"plugin::content-manager.components.configure-layout",subject:null}],singleTypesConfigurations:[{action:"plugin::content-manager.single-types.configure-view",subject:null}]},marketplace:{main:[{action:"admin::marketplace.read",subject:null}],read:[{action:"admin::marketplace.read",subject:null}]},settings:{roles:{main:[{action:"admin::roles.create",subject:null},{action:"admin::roles.update",subject:null},{action:"admin::roles.read",subject:null},{action:"admin::roles.delete",subject:null}],create:[{action:"admin::roles.create",subject:null}],delete:[{action:"admin::roles.delete",subject:null}],read:[{action:"admin::roles.read",subject:null}],update:[{action:"admin::roles.update",subject:null}]},users:{main:[{action:"admin::users.create",subject:null},{action:"admin::users.read",subject:null},{action:"admin::users.update",subject:null},{action:"admin::users.delete",subject:null}],create:[{action:"admin::users.create",subject:null}],delete:[{action:"admin::users.delete",subject:null}],read:[{action:"admin::users.read",subject:null}],update:[{action:"admin::users.update",subject:null}]},webhooks:{main:[{action:"admin::webhooks.create",subject:null},{action:"admin::webhooks.read",subject:null},{action:"admin::webhooks.update",subject:null},{action:"admin::webhooks.delete",subject:null}],create:[{action:"admin::webhooks.create",subject:null}],delete:[{action:"admin::webhooks.delete",subject:null}],read:[{action:"admin::webhooks.read",subject:null},{action:"admin::webhooks.update",subject:null},{action:"admin::webhooks.delete",subject:null}],update:[{action:"admin::webhooks.update",subject:null}]},"api-tokens":{main:[{action:"admin::api-tokens.access",subject:null}],create:[{action:"admin::api-tokens.create",subject:null}],delete:[{action:"admin::api-tokens.delete",subject:null}],read:[{action:"admin::api-tokens.read",subject:null}],update:[{action:"admin::api-tokens.update",subject:null}],regenerate:[{action:"admin::api-tokens.regenerate",subject:null}]},"transfer-tokens":{main:[{action:"admin::transfer.tokens.access",subject:null}],create:[{action:"admin::transfer.tokens.create",subject:null}],delete:[{action:"admin::transfer.tokens.delete",subject:null}],read:[{action:"admin::transfer.tokens.read",subject:null}],update:[{action:"admin::transfer.tokens.update",subject:null}],regenerate:[{action:"admin::transfer.tokens.regenerate",subject:null}]},"project-settings":{read:[{action:"admin::project-settings.read",subject:null}],update:[{action:"admin::project-settings.update",subject:null}]}}};var f=function(){return window&&window.strapi&&window.strapi.isEE?t(2199).Z:t(69623).Z}(),m=(0,e.merge)(n,f);const g=m},31424:(b,E,t)=>{"use strict";t.r(E),t.d(E,{default:()=>Gs});var e=t(67294),i=t(49656),n=t(28702),f=t(82492),m=t.n(f),g=t(78718),d=t.n(g),O=t(23560),A=t.n(O),Z=t(41143),T=t.n(Z),I=t(15482),x=t(63871);const _=()=>{const l=[];return{register(s){l.push(s)},delete(s){l.splice(l.indexOf(s),1)},runWaterfall(s,o){return l.reduce((r,c)=>c(r,o),s)},async runWaterfallAsync(s,o){let r=s;for(const c of l)r=await c(r,o);return r},runSeries(...s){return l.map(o=>o(...s))},async runSeriesAsync(...s){const o=[];for(const r of l)o.push(await r(...s));return o},runParallel(...s){return Promise.all(l.map(o=>o(...s)))}}};var k=t(35281);const L=(l,s)=>{let o=k.compose;const r=[];l.forEach(y=>{r.push(y())});const c=(0,k.createStore)(B(s,{}),{},o((0,k.applyMiddleware)(...r)));return c.asyncReducers={},c.injectReducer=(y,R)=>{c.asyncReducers[y]=R,c.replaceReducer(B(s,c.asyncReducers))},c},B=(l,s)=>(0,k.combineReducers)({...l,...s}),ne=L;var Ae=t(42775),P=t(95489),ge=t(11817),Me=t(97132),V=t(45697),a=t.n(V);const S=({component:l,path:s,...o})=>{const{pathname:r,search:c}=(0,i.useLocation)();return e.createElement(i.Route,{path:s,render:y=>P.auth.getToken()!==null?e.createElement(l,{...o,...y}):e.createElement(i.Redirect,{to:{pathname:"/auth/login",search:r!=="/"&&`?redirectTo=${encodeURIComponent(`${r}${c}`)}`}})})};S.propTypes={component:a().any.isRequired,path:a().string.isRequired};const D=(0,e.memo)(S);var G=t(38683),ye=t(87462),fe=t(64572),ae=t(15861),Te=t(70885),De=t(44925),nt=t(64687),ke=t.n(nt),ot=t(68929),K=t.n(ot),Ze=t(27361),W=t.n(Ze),Ge=t(57557),Re=t.n(Ge);const Ke="GUIDED_TOUR_CURRENT_STEP",le="GUIDED_TOUR_COMPLETED_STEPS",He="GUIDED_TOUR_SKIPPED",we=JSON.parse,te=JSON.stringify,he={clear(){localStorage.removeItem(Ke),localStorage.removeItem(le)},addCompletedStep(l){const s=we(localStorage.getItem(le))?.slice()||[];s.includes(l)||(s.push(l),localStorage.setItem(le,te(s)))},addCurrentStep(l){localStorage.setItem(Ke,te(l))},setSkipped(l){localStorage.setItem(He,te(l))},get(l){return we(localStorage.getItem(l))}};var at=t(50592),qe=t(27858);const rt=l=>l;var z=t(18172),Mt=t(96486);const Be={formErrors:{},modifiedData:{},requestError:null},be=(l,s)=>(0,z.default)(l,o=>{switch(s.type){case"ON_CHANGE":{(0,Mt.set)(o.modifiedData,s.keys.split("."),s.value);break}case"RESET_PROPS":return Be;case"SET_DATA":{o.modifiedData=s.data;break}case"SET_ERRORS":{o.formErrors=s.errors;break}case"SET_REQUEST_ERROR":{o.requestError={errorMessage:s.errorMessage,errorStatus:s.errorStatus};break}default:return o}});var re=["Component","endPoint","fieldsToDisable","fieldsToOmit","inputsPrefix","schema"];function de(l,s){var o=Object.keys(l);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(l);s&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(l,c).enumerable})),o.push.apply(o,r)}return o}function xe(l){for(var s=1;s<arguments.length;s++){var o=arguments[s]!=null?arguments[s]:{};s%2?de(Object(o),!0).forEach(function(r){(0,fe.Z)(l,r,o[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(o)):de(Object(o)).forEach(function(r){Object.defineProperty(l,r,Object.getOwnPropertyDescriptor(o,r))})}return l}var Je=function(){return window&&window.strapi&&window.strapi.isEE?t(98837).Z:t(42243).Z}(),it=function(s){var o=s.hasAdmin,r=s.setHasAdmin,c=(0,i.useHistory)(),y=c.push,R=c.location.search,M=(0,at.Z)(),ue=M.changeLocale,q=(0,P.useGuidedTour)(),$=q.setSkipped,U=(0,P.useTracking)(),X=U.trackUsage,Q=(0,i.useRouteMatch)("/auth/:authType"),j=Q.params.authType,F=(0,P.useQuery)(),oe=W()(Je,j,{}),je=oe.Component,dt=oe.endPoint,mt=oe.fieldsToDisable,tt=oe.fieldsToOmit,Ct=oe.inputsPrefix,Lt=oe.schema,Ks=(0,De.Z)(oe,re),Hs=(0,e.useReducer)(be,Be,rt),ps=(0,Te.Z)(Hs,2),Nt=ps[0],$s=Nt.formErrors,zs=Nt.modifiedData,Vs=Nt.requestError,St=ps[1],Xs=ge.Z.CancelToken,pt=Xs.source();(0,e.useEffect)(function(){return function(){pt.cancel("Component unmounted")}},[]),(0,e.useEffect)(function(){St({type:"RESET_PROPS"})},[j]);var Qs=function(pe){var Y=pe.target,ve=Y.name,ee=Y.value;St({type:"ON_CHANGE",keys:ve,value:ee})},Ys=function(){var Fe=(0,ae.Z)(ke().mark(function pe(Y,ve){var ee,Pe,Le,Se;return ke().wrap(function(ce){for(;;)switch(ce.prev=ce.next){case 0:if(ee=ve.setSubmitting,Pe=ve.setErrors,ee(!0),Le=Re()(Y,tt),Se="/admin/".concat(dt),j!=="login"){ce.next=7;break}return ce.next=7,qs(Y,Se,{setSubmitting:ee,setErrors:Pe});case 7:if(!(j==="register"||j==="register-admin")){ce.next=10;break}return ce.next=10,en(Y,Se,{setSubmitting:ee,setErrors:Pe});case 10:if(j!=="forgot-password"){ce.next=13;break}return ce.next=13,Js(Le,Se,{setSubmitting:ee,setErrors:Pe});case 13:if(j!=="reset-password"){ce.next=16;break}return ce.next=16,tn(Le,Se,{setSubmitting:ee,setErrors:Pe});case 16:case"end":return ce.stop()}},pe)}));return function(Y,ve){return Fe.apply(this,arguments)}}(),Js=function(){var Fe=(0,ae.Z)(ke().mark(function pe(Y,ve,ee){var Pe,Le;return ke().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:return Pe=ee.setSubmitting,Le=ee.setErrors,J.prev=1,J.next=4,(0,ge.Z)({method:"POST",url:"".concat(strapi.backendURL).concat(ve),data:Y,cancelToken:pt.token});case 4:y("/auth/forgot-password-success"),J.next=11;break;case 7:J.prev=7,J.t0=J.catch(1),console.error(J.t0),Le({errorMessage:"notification.error"});case 11:return J.prev=11,Pe(!1),J.finish(11);case 14:case"end":return J.stop()}},pe,null,[[1,7,11,14]])}));return function(Y,ve,ee){return Fe.apply(this,arguments)}}(),qs=function(){var Fe=(0,ae.Z)(ke().mark(function pe(Y,ve,ee){var Pe,Le,Se,J,ce,We,Ne;return ke().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:return Pe=ee.setSubmitting,Le=ee.setErrors,ie.prev=1,ie.next=4,(0,ge.Z)({method:"POST",url:"".concat(strapi.backendURL).concat(ve),data:Re()(Y,tt),cancelToken:pt.token});case 4:Se=ie.sent,J=Se.data.data,ce=J.token,We=J.user,We.preferedLanguage&&ue(We.preferedLanguage),P.auth.setToken(ce,Y.rememberMe),P.auth.setUserInfo(We,Y.rememberMe),gs(),ie.next=23;break;case 14:if(ie.prev=14,ie.t0=ie.catch(1),!ie.t0.response){ie.next=23;break}if(Ne=W()(ie.t0,["response","data","error","message"],"Something went wrong"),K()(Ne).toLowerCase()!=="usernotactive"){ie.next=22;break}return y("/auth/oops"),St({type:"RESET_PROPS"}),ie.abrupt("return");case 22:Le({errorMessage:Ne});case 23:return ie.prev=23,Pe(!1),ie.finish(23);case 26:case"end":return ie.stop()}},pe,null,[[1,14,23,26]])}));return function(Y,ve,ee){return Fe.apply(this,arguments)}}(),en=function(){var Fe=(0,ae.Z)(ke().mark(function pe(Y,ve,ee){var Pe,Le,Se,J,ce,We,Ne,st,ie,Ee;return ke().wrap(function(Ie){for(;;)switch(Ie.prev=Ie.next){case 0:return Pe=ee.setSubmitting,Le=ee.setErrors,Ie.prev=1,X("willCreateFirstAdmin"),Ie.next=5,(0,ge.Z)({method:"POST",url:"".concat(strapi.backendURL).concat(ve),data:Re()(Y,tt),cancelToken:pt.token});case 5:if(Se=Ie.sent,J=Se.data.data,ce=J.token,We=J.user,P.auth.setToken(ce,!1),P.auth.setUserInfo(We,!1),Pe(!1),r(!0),Ne=We.roles,Ne&&(st=Ne.find(function(sn){var nn=sn.code;return nn==="strapi-super-admin"}),st&&(he.setSkipped(!1),$(!1),X("didLaunchGuidedtour"))),!(j==="register"&&Y.userInfo.news===!0||j==="register-admin"&&Y.news===!0)){Ie.next=18;break}return y({pathname:"/usecase",search:"?hasAdmin=".concat(o)}),Ie.abrupt("return");case 18:gs(),Ie.next=25;break;case 21:Ie.prev=21,Ie.t0=Ie.catch(1),X("didNotCreateFirstAdmin"),Ie.t0.response&&(ie=Ie.t0.response.data,Ee=(0,qe.Z)(ie),Le({apiErrors:Ee}));case 25:case"end":return Ie.stop()}},pe,null,[[1,21]])}));return function(Y,ve,ee){return Fe.apply(this,arguments)}}(),tn=function(){var Fe=(0,ae.Z)(ke().mark(function pe(Y,ve,ee){var Pe,Le,Se,J,ce,We,Ne,st;return ke().wrap(function(Ee){for(;;)switch(Ee.prev=Ee.next){case 0:return Pe=ee.setErrors,Le=ee.setSubmitting,Ee.prev=1,Ee.next=4,(0,ge.Z)({method:"POST",url:"".concat(strapi.backendURL).concat(ve),data:xe(xe({},Y),{},{resetPasswordToken:F.get("code")}),cancelToken:pt.token});case 4:Se=Ee.sent,J=Se.data.data,ce=J.token,We=J.user,P.auth.setToken(ce,!1),P.auth.setUserInfo(We,!1),y("/"),Ee.next=16;break;case 13:Ee.prev=13,Ee.t0=Ee.catch(1),Ee.t0.response&&(Ne=W()(Ee.t0,["response","data","message"],"Something went wrong"),st=W()(Ee.t0,["response","data","statusCode"],400),St({type:"SET_REQUEST_ERROR",errorMessage:Ne,errorStatus:st}),Pe({errorMessage:Ne}));case 16:return Ee.prev=16,Le(!1),Ee.finish(16);case 19:case"end":return Ee.stop()}},pe,null,[[1,13,16,19]])}));return function(Y,ve,ee){return Fe.apply(this,arguments)}}(),gs=function(){if(j==="login"){var pe=F.get("redirectTo"),Y=pe?decodeURIComponent(pe):"/";y(Y)}else y("/")};return!Je[j]||o&&j==="register-admin"||P.auth.getToken()?e.createElement(i.Redirect,{to:"/"}):!o&&j!=="register-admin"?e.createElement(i.Redirect,{to:{pathname:"/auth/register-admin",search:R}}):e.createElement(je,(0,ye.Z)({},Ks,{authType:j,fieldsToDisable:mt,formErrors:$s,inputsPrefix:Ct,modifiedData:zs,onChange:Qs,onSubmit:Ys,requestError:Vs,schema:Lt}))};it.defaultProps={hasAdmin:!1},it.propTypes={hasAdmin:a().bool,setHasAdmin:a().func.isRequired};const Dt=it;var Zt=t(23330),$e=t(27821),bt=t(80129),Ot=t(79690),It=t(36206);const kt=[{intlLabel:{id:"Usecase.front-end",defaultMessage:"Front-end developer"},value:"front_end_developer"},{intlLabel:{id:"Usecase.back-end",defaultMessage:"Back-end developer"},value:"back_end_developer"},{intlLabel:{id:"Usecase.full-stack",defaultMessage:"Full-stack developer"},value:"full_stack_developer"},{intlLabel:{id:"global.content-manager",defaultMessage:"Content Manager"},value:"content_manager"},{intlLabel:{id:"Usecase.content-creator",defaultMessage:"Content Creator"},value:"content_creator"},{intlLabel:{id:"Usecase.other",defaultMessage:"Other"},value:"other"}],Gt=(0,$e.default)(n.Typography)`
  text-align: center;
`,ft=()=>{const l=(0,P.useNotification)(),{push:s,location:o}=(0,i.useHistory)(),{formatMessage:r}=(0,Me.useIntl)(),[c,y]=(0,e.useState)(),[R,M]=(0,e.useState)(""),{firstname:ue,email:q}=P.auth.getUserInfo(),{hasAdmin:$}=(0,bt.parse)(o?.search,{ignoreQueryPrefix:!0}),U=c==="other",X=Q=>{try{(0,ge.Z)({method:"POST",url:"https://analytics.strapi.io/register",data:{email:q,username:ue,firstAdmin:Boolean(!$),persona:{role:Q?void 0:c,otherRole:Q?void 0:R}}}),l({type:"success",message:{id:"Usecase.notification.success.project-created",defaultMessage:"Project has been successfully created"}}),s("/")}catch{}};return e.createElement(It.ZP,null,e.createElement(n.Main,{labelledBy:"usecase-title"},e.createElement(It.bU,null,e.createElement("form",{onSubmit:()=>X(!1)},e.createElement(n.Flex,{direction:"column",paddingBottom:7},e.createElement(Ot.Z,null),e.createElement(n.Box,{paddingTop:6,paddingBottom:1,width:(0,P.pxToRem)(250)},e.createElement(Gt,{variant:"alpha",as:"h1",id:"usecase-title"},r({id:"Usecase.title",defaultMessage:"Tell us a bit more about yourself"})))),e.createElement(n.Stack,{spacing:6},e.createElement(n.Select,{id:"usecase","data-testid":"usecase",label:r({id:"Usecase.input.work-type",defaultMessage:"What type of work do you do?"}),onChange:y,value:c},kt.map(({intlLabel:Q,value:j})=>e.createElement(n.Option,{key:j,value:j},r(Q)))),U&&e.createElement(n.TextInput,{name:"other",label:r({id:"Usecase.other",defaultMessage:"Other"}),value:R,onChange:Q=>M(Q.target.value),"data-testid":"other"}),e.createElement(n.Button,{type:"submit",size:"L",fullWidth:!0,disabled:!c},r({id:"global.finish",defaultMessage:"Finish"}))))),e.createElement(n.Flex,{justifyContent:"center"},e.createElement(n.Box,{paddingTop:4},e.createElement(n.TextButton,{onClick:()=>X(!0)},r({id:"Usecase.button.skip",defaultMessage:"Skip this question"}))))))};var ht=t(66716);const $t=async()=>`web-fingerprint-${(await(await ht.ZP.load()).get()).visitorId}`;var Et=t(42982);const wt=[];var zt=function(){return window&&window.strapi&&window.strapi.isEE?t(35499).Z:t(77981).Z}();const Ut=[].concat((0,Et.Z)(zt),(0,Et.Z)(wt));var yt=t(48474);const Vt=(0,e.lazy)(()=>Promise.all([t.e(1734),t.e(801)]).then(t.bind(t,93858)));function Xt(){const l=(0,P.useNotification)(),{updateProjectSettings:s}=(0,yt.um)(),{formatMessage:o}=(0,Me.useIntl)(),[{isLoading:r,hasAdmin:c,uuid:y,deviceId:R},M]=(0,e.useState)({isLoading:!0,hasAdmin:!1}),ue=(0,P.useAppInfos)(),{get:q}=(0,P.useFetchClient)(),$=(0,e.useMemo)(()=>(0,G.WW)(Ut.map(({to:F,Component:oe,exact:je})=>(0,G.ot)(oe,F,je))),[]),[U,X]=(0,e.useState)(null);(0,e.useEffect)(()=>{const F=P.auth.getToken();F&&(async()=>{try{const{data:{token:je}}=await(0,P.request)("/admin/renew-token",{method:"POST",body:{token:F}});P.auth.updateToken(je)}catch{P.auth.clearAppStorage(),window.location.reload()}})()},[]),(0,e.useEffect)(()=>{(async()=>{try{const{data:{data:{hasAdmin:oe,uuid:je,menuLogo:dt,authLogo:mt}}}=await ge.Z.get(`${strapi.backendURL}/admin/init`);s({menuLogo:(0,P.prefixFileUrlWithBackendUrl)(dt),authLogo:(0,P.prefixFileUrlWithBackendUrl)(mt)});const tt=await $t();if(je){const{data:{data:Ct}}=await q("/admin/telemetry-properties",{validateStatus:Lt=>Lt<500});X(Ct);try{await fetch("https://analytics.strapi.io/api/v2/track",{method:"POST",body:JSON.stringify({event:"didInitializeAdministration",userId:"",deviceId:tt,eventPropeties:{},userProperties:{environment:ue.currentEnvironment},groupProperties:{...Ct,projectId:je}}),headers:{"Content-Type":"application/json"}})}catch{}}M({isLoading:!1,hasAdmin:oe,uuid:je,deviceId:tt})}catch{l({type:"warning",message:{id:"app.containers.App.notification.error.init"}})}})()},[l,s]);const Q=F=>M(oe=>({...oe,hasAdmin:F})),j=(0,e.useMemo)(()=>({uuid:y,telemetryProperties:U,deviceId:R}),[y,U,R]);return r?e.createElement(P.LoadingIndicatorPage,null):e.createElement(e.Suspense,{fallback:e.createElement(P.LoadingIndicatorPage,null)},e.createElement(n.SkipToContent,null,o({id:"skipToContent"})),e.createElement(P.TrackingProvider,{value:j},e.createElement(i.Switch,null,$,e.createElement(i.Route,{path:"/auth/:authType",render:F=>e.createElement(Dt,{...F,setHasAdmin:Q,hasAdmin:c}),exact:!0}),e.createElement(D,{path:"/usecase",component:ft}),e.createElement(D,{path:"/",component:Vt}),e.createElement(i.Route,{path:"",component:Zt.default}))))}const Qt=Xt;var Tt=t(61473),jt=t(23724),Bt=t(37424),h=t(47713);const p={menuLogo:null,authLogo:null},C=(l=p,s)=>(0,z.default)(l,o=>{switch(s.type){case"UPDATE_PROJECT_SETTINGS":{Object.assign(o,s.values);break}default:return o}}),w=({children:l,authLogo:s,menuLogo:o,showReleaseNotification:r,showTutorials:c})=>{const[{menuLogo:y,authLogo:R},M]=(0,e.useReducer)(C,p),ue=(0,e.useCallback)(({menuLogo:$,authLogo:U})=>M({type:"UPDATE_PROJECT_SETTINGS",values:{menuLogo:$||o,authLogo:U||s}}),[s,o]),q=(0,e.useMemo)(()=>({logos:{menu:{custom:y,default:o},auth:{custom:R,default:s}},updateProjectSettings:ue,showReleaseNotification:r,showTutorials:c}),[y,o,R,s,ue,r,c]);return e.createElement(h._5.Provider,{value:q},l)};w.propTypes={authLogo:a().string.isRequired,children:a().element.isRequired,menuLogo:a().string.isRequired,showReleaseNotification:a().bool.isRequired,showTutorials:a().bool.isRequired};const N=w;var H=t(66913),se=t.n(H),me=t(93343);const Ue=({changeLocale:l,children:s,localeNames:o,messages:r})=>e.createElement(me.Z.Provider,{value:{changeLocale:l,localeNames:o,messages:r}},s);Ue.propTypes={changeLocale:a().func.isRequired,children:a().element.isRequired,localeNames:a().object.isRequired,messages:a().object.isRequired};const Oe=Ue,_e="strapi-admin-language",lt=l=>{const s=window.localStorage.getItem(_e);return{locale:l[s]?s:"en",localeNames:l}},ut={localeNames:{en:"English"},locale:"en"},ct=(l=ut,s)=>{switch(s.type){case"CHANGE_LOCALE":{const{locale:o}=s;return l.localeNames[o]?{...l,locale:o}:l}default:return l}},ze=({children:l,localeNames:s,messages:o})=>{const[{locale:r},c]=(0,e.useReducer)(ct,ut,()=>lt(s));(0,e.useEffect)(()=>{window.localStorage.setItem(_e,r),document.documentElement.setAttribute("lang",r)},[r]);const y=M=>{c({type:"CHANGE_LOCALE",locale:M})},R=se()(o[r],o.en);return e.createElement(Me.IntlProvider,{locale:r,defaultLocale:"en",messages:R,textComponent:"span"},e.createElement(Oe,{changeLocale:y,localeNames:s,messages:R},l))};ze.propTypes={children:a().element.isRequired,localeNames:a().objectOf(a().string).isRequired,messages:a().object.isRequired};const Ce=ze,Ve=(l,s)=>{const o=Object.entries(s),r=o.findIndex(([y])=>y===l);return o.slice(0,r).every(([,y])=>Object.values(y).every(Boolean))},hs=(l,s)=>{const o=l.split("."),r=o[1],c=Object.entries(s[o[0]]),y=c.findIndex(([M])=>M===r);return c.slice(0,y).every(([,M])=>M)},Yt={currentStep:null,guidedTourState:{contentTypeBuilder:{create:!1,success:!1},contentManager:{create:!1,success:!1},apiTokens:{create:!1,success:!1}},isGuidedTourVisible:!1,isSkipped:!0},Es=(l=Yt,s)=>(0,z.default)(l,o=>{switch(s.type){case"SET_CURRENT_STEP":{o.currentStep=s.step;break}case"SET_STEP_STATE":{const[r,c]=s.currentStep.split(".");o.guidedTourState[r][c]=s.value;break}case"SET_SKIPPED":{o.isSkipped=s.value;break}case"SET_GUIDED_TOUR_VISIBILITY":{o.isGuidedTourVisible=s.value;break}default:return o}});var ys=t(36968),_t=t.n(ys);const Ts=l=>{const s={...l},o=he.get(le),r=he.get(Ke),c=he.get(He);if(o&&o.forEach(y=>{const[R,M]=y.split(".");_t()(s,["guidedTourState",R,M],!0)}),r){const[y,R]=r.split(".");_t()(s,["guidedTourState",y,R],!0),he.addCompletedStep(r),he.addCurrentStep(null)}return c!==null&&_t()(s,"isSkipped",c),s},Jt=({children:l})=>{const[{currentStep:s,guidedTourState:o,isGuidedTourVisible:r,isSkipped:c},y]=(0,e.useReducer)(Es,Yt,Ts),R=U=>{if(U!==null){const X=W()(o,U),Q=hs(U,o);if(X||c||!Q)return null}return he.addCurrentStep(U),y({type:"SET_CURRENT_STEP",step:U})},M=U=>{y({type:"SET_GUIDED_TOUR_VISIBILITY",value:U})},ue=(U,X)=>{he.addCompletedStep(U),y({type:"SET_STEP_STATE",currentStep:U,value:X})},q=U=>{const X=o[U];if(X){const Q=Ve(U,o),j=Object.keys(X)[0],F=X[j];if(Q&&!s&&!F)return R(`${U}.${j}`)}return null},$=U=>{he.setSkipped(U),y({type:"SET_SKIPPED",value:U})};return e.createElement(P.GuidedTourProvider,{guidedTourState:o,currentStep:s,setCurrentStep:R,setGuidedTourVisibility:M,setSkipped:$,setStepState:ue,startSection:q,isGuidedTourVisible:r,isSkipped:c},l)};Jt.propTypes={children:a().element.isRequired};const vs=Jt;var qt=t(73935),es=t(41363),ts=t(36182);const Ps=(0,$e.default)(n.Box)`
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  z-index: 1140;
  &:before {
    content: '';
    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    background: ${({theme:l})=>l.colors.neutral0};
    opacity: 0.9;
  }
`,Rs=(0,$e.default)(n.Stack)`
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  padding-top: ${(0,P.pxToRem)(160)};
`,ss=(0,$e.default)(n.Box)`
  border-radius: 50%;
  svg {
    > path {
      fill: ${({theme:l})=>l.colors.primary600} !important;
    }
  }
`,Pt=document.createElement("div"),As="autoReloadOverlayBlocker";Pt.setAttribute("id",As);const Cs=$e.keyframes`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(359deg);
  }
`,Ls=(0,$e.default)(es.Refresh)`
  animation: ${Cs} 1s infinite linear;
`,ns=({displayedIcon:l,description:s,title:o,isOpen:r})=>{const{formatMessage:c}=(0,Me.useIntl)();return(0,e.useEffect)(()=>(document.body.appendChild(Pt),()=>{document.body.removeChild(Pt)}),[]),r?qt.createPortal(e.createElement(Ps,null,e.createElement(Rs,{spacing:6},e.createElement(n.Stack,{spacing:2},e.createElement(n.Flex,{justifyContent:"center"},e.createElement(n.Typography,{as:"h1",variant:"alpha"},c(o))),e.createElement(n.Flex,{justifyContent:"center"},e.createElement(n.Typography,{as:"h2",textColor:"neutral600",fontSize:4,fontWeight:"regular"},c(s)))),e.createElement(n.Flex,{justifyContent:"center"},l==="reload"&&e.createElement(ss,{padding:6,background:"primary100",borderColor:"primary200"},e.createElement(Ls,{width:(0,P.pxToRem)(36),height:(0,P.pxToRem)(36)})),l==="time"&&e.createElement(ss,{padding:6,background:"primary100",borderColor:"primary200"},e.createElement(es.Clock,{width:(0,P.pxToRem)(40),height:(0,P.pxToRem)(40)}))),e.createElement(n.Flex,{justifyContent:"center"},e.createElement(n.Box,{paddingTop:2},e.createElement(ts.r,{href:"https://docs.strapi.io",isExternal:!0},c({id:"global.documentation",defaultMessage:"Read the documentation"})))))),Pt):null};ns.propTypes={displayedIcon:a().oneOfType([a().string,a().array]).isRequired,description:a().object.isRequired,isOpen:a().bool.isRequired,title:a().object.isRequired};const Ss=ns,os=30,as=({children:l})=>{const[s,o]=(0,e.useState)(!1),[{elapsed:r},c]=(0,e.useState)({elapsed:0,start:0}),[y,R]=(0,e.useState)(void 0),M=(F=void 0)=>{o(!0),R(F),c(oe=>({...oe,start:Date.now()}))},ue=()=>{o(!1),c({start:0,elapsed:0}),R(void 0)},q=(0,e.useRef)(M),$=(0,e.useRef)(ue);(0,e.useEffect)(()=>{let F=null;return s?F=setInterval(()=>r>os?(clearInterval(F),null):(c(oe=>({...oe,elapsed:Math.round(Date.now()-oe.start)/1e3})),null),1e3):clearInterval(F),()=>{clearInterval(F)}},[s,r]);let U=y?.icon||"reload",X={id:y?.description||"components.OverlayBlocker.description",defaultMessage:"You're using a feature that needs the server to restart. Please wait until the server is up."},Q={id:y?.title||"components.OverlayBlocker.title",defaultMessage:"Waiting for restart"};r>os&&(U="time",X={id:"components.OverlayBlocker.description.serverError",defaultMessage:"The server should have restarted, please check your logs in the terminal."},Q={id:"components.OverlayBlocker.title.serverError",defaultMessage:"The restart is taking longer than expected"});const j=(0,e.useMemo)(()=>({lockApp:q.current,unlockApp:$.current}),[q,$]);return e.createElement(P.AutoReloadOverlayBockerContext.Provider,{value:j},e.createElement(Ss,{displayedIcon:U,isOpen:s,description:X,title:Q}),l)};as.propTypes={children:a().element.isRequired};const Ms=as,Ft=({dispatch:l,notification:s})=>{const{formatMessage:o}=(0,Me.useIntl)(),{message:r,link:c,type:y,id:R,onClose:M,timeout:ue,blockTransition:q,title:$}=s,U=F=>typeof F=="string"?F:o(F,F.values),X=(0,e.useCallback)(()=>{M&&M(),l({type:"HIDE_NOTIFICATION",id:R})},[R]);(0,e.useEffect)(()=>{let F;return q||(F=setTimeout(()=>{X()},ue||2500)),()=>clearTimeout(F)},[q,X,ue]);let Q,j;return y==="info"?(Q="default",j=o({id:"notification.default.title",defaultMessage:"Information:"})):y==="warning"?(Q="danger",j=o({id:"notification.warning.title",defaultMessage:"Warning:"})):y==="softWarning"?(Q="warning",j=o({id:"notification.warning.title",defaultMessage:"Warning:"})):(Q="success",j=o({id:"notification.success.title",defaultMessage:"Success:"})),$&&(j=typeof $=="string"?$:U({id:$?.id||$,defaultMessage:$?.defaultMessage||$?.id||$,values:$?.values})),e.createElement(n.Alert,{action:c?e.createElement(ts.r,{href:c.url,isExternal:!0},o({id:c.label?.id||c.label,defaultMessage:c.label?.defaultMessage||c.label?.id||c.label})):void 0,onClose:X,closeLabel:"Close",title:j,variant:Q},U({id:r?.id||r,defaultMessage:r?.defaultMessage||r?.id||r,values:r?.values}))};Ft.defaultProps={notification:{id:1,type:"success",message:{id:"notification.success.saved",defaultMessage:"Saved"},onClose:()=>null,timeout:2500,blockTransition:!1}},Ft.propTypes={dispatch:a().func.isRequired,notification:a().shape({id:a().number,message:a().oneOfType([a().string,a().shape({id:a().string.isRequired,defaultMessage:a().string,values:a().object})]),link:a().shape({target:a().string,url:a().string.isRequired,label:a().oneOfType([a().string,a().shape({id:a().string.isRequired,defaultMessage:a().string,values:a().object})]).isRequired}),type:a().string,onClose:a().func,timeout:a().number,blockTransition:a().bool,title:a().oneOfType([a().string,a().shape({id:a().string.isRequired,defaultMessage:a().string,values:a().object})])})};const Ds=Ft,rs={notifId:0,notifications:[]},bs=(l=rs,s)=>(0,z.default)(l,o=>{switch(s.type){case"SHOW_NOTIFICATION":{o.notifications.push({id:l.notifId,type:W()(s,["config","type"],"success"),message:W()(s,["config","message"],{id:"notification.success.saved",defaultMessage:"Saved"}),link:W()(s,["config","link"],null),timeout:W()(s,["config","timeout"],2500),blockTransition:W()(s,["config","blockTransition"],!1),onClose:W()(s,["config","onClose"],null),title:W()(s,["config","title"],null)}),o.notifId=l.notifId+1;break}case"HIDE_NOTIFICATION":{const r=l.notifications.findIndex(c=>c.id===s.id);r!==-1&&o.notifications.splice(r,1);break}default:return o}}),is=({children:l})=>{const[{notifications:s},o]=(0,e.useReducer)(bs,rs),r=c=>{o({type:"SHOW_NOTIFICATION",config:c})};return e.createElement(P.NotificationsProvider,{toggleNotification:r},e.createElement(n.Stack,{left:"50%",marginLeft:"-250px",position:"fixed",spacing:2,top:`${46/16}rem`,width:`${500/16}rem`,zIndex:10},s.map(c=>e.createElement(Ds,{key:c.id,dispatch:o,notification:c}))),l)};is.propTypes={children:a().element.isRequired};const Os=is,Rt=document.createElement("div");Rt.setAttribute("id","overlayBlocker");const Is=$e.default.div`
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  z-index: 1140;
`,ls=({isOpen:l})=>((0,e.useEffect)(()=>(document.body.appendChild(Rt),()=>{document.body.removeChild(Rt)}),[]),l?qt.createPortal(e.createElement(Is,null),Rt):null);ls.propTypes={isOpen:a().bool.isRequired};const us=({children:l})=>{const[s,o]=(0,e.useState)(!1),r=()=>{o(!0)},c=()=>{o(!1)};return e.createElement(P.OverlayBlockerContext.Provider,{value:{lockApp:r,unlockApp:c}},l,e.createElement(ls,{isOpen:s}))};us.propTypes={children:a().node.isRequired};const ks=us,Wt="STRAPI_THEME",ws=()=>{const l=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",s=localStorage.getItem(Wt);return s||localStorage.setItem(Wt,l),s||l},cs=({children:l,themes:s})=>{const[o,r]=(0,e.useState)(ws()),c=(0,e.useCallback)(R=>{r(R),localStorage.setItem(Wt,R)},[r]),y=(0,e.useMemo)(()=>({currentTheme:o,onChangeTheme:c,themes:s}),[o,c,s]);return e.createElement(h.Rj.Provider,{value:y},l)};cs.propTypes={children:a().node.isRequired,themes:a().shape({light:a().shape({colors:a().object.isRequired,shadows:a().object.isRequired,sizes:a().object.isRequired,zIndices:a().array.isRequired,spaces:a().array.isRequired,borderRadius:a().string.isRequired,mediaQueries:a().object.isRequired,fontSizes:a().array.isRequired,lineHeights:a().array.isRequired,fontWeights:a().object.isRequired}).isRequired,dark:a().shape({colors:a().object.isRequired,shadows:a().object.isRequired,sizes:a().object.isRequired,zIndices:a().array.isRequired,spaces:a().array.isRequired,borderRadius:a().string.isRequired,mediaQueries:a().object.isRequired,fontSizes:a().array.isRequired,lineHeights:a().array.isRequired,fontWeights:a().object.isRequired}).isRequired,custom:a().object}).isRequired};const Us=cs,js=$e.createGlobalStyle`
  body {
    background: ${({theme:l})=>l.colors.neutral100};
  }
`,ds=({children:l})=>{const{currentTheme:s,themes:o}=(0,yt.M1)();return e.createElement(n.ThemeProvider,{theme:o[s]||o.light},l,e.createElement(js,null))};ds.propTypes={children:a().element.isRequired};const Bs=ds,xs=new jt.QueryClient({defaultOptions:{queries:{refetchOnWindowFocus:!1}}}),ms=({authLogo:l,children:s,components:o,customFields:r,fields:c,getAdminInjectedComponents:y,getPlugin:R,localeNames:M,menu:ue,menuLogo:q,messages:$,plugins:U,runHookParallel:X,runHookSeries:Q,runHookWaterfall:j,settings:F,showReleaseNotification:oe,showTutorials:je,store:dt,themes:mt})=>e.createElement(Us,{themes:mt},e.createElement(Bs,null,e.createElement(jt.QueryClientProvider,{client:xs},e.createElement(Bt.Provider,{store:dt},e.createElement(h.ux.Provider,{value:{getAdminInjectedComponents:y}},e.createElement(N,{authLogo:l,menuLogo:q,showReleaseNotification:oe,showTutorials:je},e.createElement(P.StrapiAppProvider,{getPlugin:R,menu:ue,plugins:U,runHookParallel:X,runHookWaterfall:j,runHookSeries:Q,settings:F},e.createElement(P.LibraryProvider,{components:o,fields:c},e.createElement(P.CustomFieldsProvider,{customFields:r},e.createElement(Ce,{messages:$,localeNames:M},e.createElement(Ms,null,e.createElement(ks,null,e.createElement(vs,null,e.createElement(Os,null,s))))))))))))));ms.propTypes={authLogo:a().oneOfType([a().string,a().any]).isRequired,children:a().element.isRequired,components:a().object.isRequired,customFields:a().object.isRequired,fields:a().object.isRequired,getAdminInjectedComponents:a().func.isRequired,getPlugin:a().func.isRequired,localeNames:a().objectOf(a().string).isRequired,menu:a().arrayOf(a().shape({to:a().string.isRequired,icon:a().func.isRequired,intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired}).isRequired,permissions:a().array,Component:a().func})).isRequired,menuLogo:a().oneOfType([a().string,a().any]).isRequired,messages:a().object.isRequired,plugins:a().object.isRequired,runHookParallel:a().func.isRequired,runHookWaterfall:a().func.isRequired,runHookSeries:a().func.isRequired,settings:a().object.isRequired,showReleaseNotification:a().bool.isRequired,showTutorials:a().bool.isRequired,store:a().object.isRequired,themes:a().shape({light:a().shape({colors:a().object.isRequired,shadows:a().object.isRequired,sizes:a().object.isRequired,zIndices:a().array.isRequired,spaces:a().array.isRequired,borderRadius:a().string.isRequired,mediaQueries:a().object.isRequired,fontSizes:a().array.isRequired,lineHeights:a().array.isRequired,fontWeights:a().object.isRequired}).isRequired,dark:a().shape({colors:a().object.isRequired,shadows:a().object.isRequired,sizes:a().object.isRequired,zIndices:a().array.isRequired,spaces:a().array.isRequired,borderRadius:a().string.isRequired,mediaQueries:a().object.isRequired,fontSizes:a().array.isRequired,lineHeights:a().array.isRequired,fontWeights:a().object.isRequired}).isRequired,custom:a().object}).isRequired};const _s=ms,Fs={ar:"\u0627\u0644\u0639\u0631\u0628\u064A\u0629",ca:"Catal\xE0",cs:"\u010Ce\u0161tina",de:"Deutsch",dk:"Dansk",en:"English",es:"Espa\xF1ol",eu:"Euskara",fr:"Fran\xE7ais",gu:"Gujarati",he:"\u05E2\u05D1\u05E8\u05D9\u05EA",hu:"Magyar",id:"Indonesian",it:"Italiano",ja:"\u65E5\u672C\u8A9E",ko:"\uD55C\uAD6D\uC5B4",ml:"Malayalam",ms:"Melayu",nl:"Nederlands",no:"Norwegian",pl:"Polski","pt-BR":"Portugu\xEAs (Brasil)",pt:"Portugu\xEAs (Portugal)",ru:"\u0420\u0443\u0441\u0441\u043A\u0438\u0439",sk:"Sloven\u010Dina",sv:"Swedish",th:"\u0E44\u0E17\u0E22",tr:"T\xFCrk\xE7e",uk:"\u0423\u043A\u0440\u0430\u0457\u043D\u0441\u044C\u043A\u0430",vi:"Ti\u1EBFng Vi\u1EC7t","zh-Hans":"\u4E2D\u6587 (\u7B80\u4F53)",zh:"\u4E2D\u6587 (\u7E41\u9AD4)",sa:"\u0938\u0902\u0938\u094D\u0915\u0943\u0924",hi:"\u0939\u093F\u0928\u094D\u0926\u0940"};var At=t(80660);const Ws={admin:{tutorials:{links:[]}},contentManager:{editView:{informations:[],"right-links":[]},listView:{actions:[],deleteModalAdditionalInfos:[]}}},Ns="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAAXVBMVEUAAABIRP9IRP9IRP9IRP9IRP9IRP9IRP9IRP9IRP9IRP9IRP9IRP9IRP9IRP9JRf9IRf9IRP5IRP5JRP9JRf////+Vk/+zsv++vf9mY/9taf9/fP+Jh//c3P9RTf/Ibar2AAAAFHRSTlMA/MJX+fPt48cahaff1dMaGqcahSpTPmAAAAEvSURBVFjD7dfNTsMwEATgXcf5cdKEtixtcYH3f0xEibIguba1g8Slc+58iqUedmhNaMbJzX3Xema5G2bfdv3iprE50s80g7Yqw0Oz1Z+cmOL2a38nxuy+BSfmuNv7BUhDRAMCDESBEYCDvsD6hmcMGGnCgIkcBjhaMGCmHgN66jCgoxYDWvIY4IkxgHFAkrmeU7kmfpkG4uUllXMtEE82QPs2QPs2QPs2QPs2QPsAoH0DoH0LoH0QeN3ydtnyXg38ok76MQ/gAfwf8JH8V18LQOljomBAFAyIkga4CGT7XAtEuQf4IpDri6e2BoiZA6OrAGLuxOnLQMweWXMRyPVlwQ/NAwZMNGLACJ/76ODYo5MHHl3o7EOHZ6BbjtbpG/5kfOv8P7ilbv7PX/M/rMVPqrI3XI3nd3sAAAAASUVORK5CYII=";class Zs{constructor({adminConfig:s,appPlugins:o,library:r,middlewares:c,reducers:y}){this.customConfigurations=s.config,this.customBootstrapConfiguration=s.bootstrap,this.configurations={authLogo:Tt,head:{favicon:Ns},locales:["en"],menuLogo:Tt,notifications:{releases:!0},themes:{light:n.lightTheme,dark:n.darkTheme},translations:{},tutorials:!0},this.appPlugins=o||{},this.library=r,this.middlewares=c,this.plugins={},this.reducers=y,this.translations={},this.hooksDict={},this.admin={injectionZones:Ws},this.customFields=Ae.rh,this.menu=[],this.settings={global:{id:"global",intlLabel:{id:"Settings.global",defaultMessage:"Global Settings"},links:[]}}}addComponents=s=>{Array.isArray(s)?s.map(o=>this.library.components.add(o)):this.library.components.add(s)};addCorePluginMenuLink=s=>{const o=JSON.stringify(s);T()(s.to,`link.to should be defined for ${o}`),T()(typeof s.to=="string",`Expected link.to to be a string instead received ${typeof s.to}`),T()(["/plugins/content-type-builder","/plugins/upload"].includes(s.to),"This method is not available for your plugin"),T()(s.intlLabel?.id&&s.intlLabel?.defaultMessage,`link.intlLabel.id & link.intlLabel.defaultMessage for ${o}`),this.menu.push(s)};addFields=s=>{Array.isArray(s)?s.map(o=>this.library.fields.add(o)):this.library.fields.add(s)};addMenuLink=s=>{const o=JSON.stringify(s);T()(s.to,`link.to should be defined for ${o}`),T()(typeof s.to=="string",`Expected link.to to be a string instead received ${typeof s.to}`),T()(s.intlLabel?.id&&s.intlLabel?.defaultMessage,`link.intlLabel.id & link.intlLabel.defaultMessage for ${o}`),T()(s.Component&&typeof s.Component=="function","link.Component should be a valid React Component"),T()(s.icon&&typeof s.icon=="function","link.Icon should be a valid React Component"),this.menu.push(s)};addMiddlewares=s=>{s.forEach(o=>{this.middlewares.add(o)})};addReducers=s=>{Object.keys(s).forEach(o=>{this.reducers.add(o,s[o])})};addSettingsLink=(s,o)=>{T()(this.settings[s],"The section does not exist");const r=JSON.stringify(o);T()(o.id,`link.id should be defined for ${r}`),T()(o.intlLabel?.id&&o.intlLabel?.defaultMessage,`link.intlLabel.id & link.intlLabel.defaultMessage for ${r}`),T()(o.to,`link.to should be defined for ${r}`),T()(o.Component&&typeof o.Component=="function","link.Component should be a valid React Component"),this.settings[s].links.push(o)};addSettingsLinks=(s,o)=>{T()(this.settings[s],"The section does not exist"),T()(Array.isArray(o),"TypeError expected links to be an array"),o.forEach(r=>{this.addSettingsLink(s,r)})};async bootstrap(){Object.keys(this.appPlugins).forEach(s=>{const o=this.appPlugins[s].bootstrap;o&&o({addSettingsLink:this.addSettingsLink,addSettingsLinks:this.addSettingsLinks,getPlugin:this.getPlugin,injectContentManagerComponent:this.injectContentManagerComponent,injectAdminComponent:this.injectAdminComponent,registerHook:this.registerHook})}),A()(this.customBootstrapConfiguration)&&this.customBootstrapConfiguration({addComponents:this.addComponents,addFields:this.addFields,addMenuLink:this.addMenuLink,addReducers:this.addReducers,addSettingsLink:this.addSettingsLink,addSettingsLinks:this.addSettingsLinks,getPlugin:this.getPlugin,injectContentManagerComponent:this.injectContentManagerComponent,injectAdminComponent:this.injectAdminComponent,registerHook:this.registerHook})}bootstrapAdmin=async()=>(await this.createCustomConfigurations(),this.createHook(At.No),this.createHook(At.LK),this.createHook(At.dV),this.createHook(At.Eo),Promise.resolve());createCustomConfigurations=async()=>{if(this.customConfigurations?.locales&&(this.configurations.locales=["en",...this.customConfigurations.locales?.filter(s=>s!=="en")||[]]),this.customConfigurations?.auth?.logo&&(this.configurations.authLogo=this.customConfigurations.auth.logo),this.customConfigurations?.menu?.logo&&(this.configurations.menuLogo=this.customConfigurations.menu.logo),this.customConfigurations?.head?.favicon&&(this.configurations.head.favicon=this.customConfigurations.head.favicon),this.customConfigurations?.theme){const s=this.customConfigurations.theme.dark,o=this.customConfigurations.theme.light;!s&&!o&&(console.warn("[deprecated] In future versions, Strapi will stop supporting this theme customization syntax. The theme configuration accepts a light and a dark key to customize each theme separately. See https://docs.strapi.io/developer-docs/latest/development/admin-customization.html#theme-extension."),m()(this.configurations.themes.light,this.customConfigurations.theme)),o&&m()(this.configurations.themes.light,o),s&&m()(this.configurations.themes.dark,s)}this.customConfigurations?.notifications?.releases!==void 0&&(this.configurations.notifications.releases=this.customConfigurations.notifications.releases),this.customConfigurations?.tutorials!==void 0&&(this.configurations.tutorials=this.customConfigurations.tutorials)};createHook=s=>{this.hooksDict[s]=_()};createSettingSection=(s,o)=>{T()(s.id,"section.id should be defined"),T()(s.intlLabel?.id&&s.intlLabel?.defaultMessage,"section.intlLabel should be defined"),T()(Array.isArray(o),"TypeError expected links to be an array"),T()(this.settings[s.id]===void 0,"A similar section already exists"),this.settings[s.id]={...s,links:[]},o.forEach(r=>{this.addSettingsLink(s.id,r)})};createStore=()=>ne(this.middlewares.middlewares,this.reducers.reducers);getAdminInjectedComponents=(s,o,r)=>{try{return this.admin.injectionZones[s][o][r]||[]}catch(c){return console.error("Cannot get injected component",c),c}};getPlugin=s=>this.plugins[s];async initialize(){Object.keys(this.appPlugins).forEach(s=>{this.appPlugins[s].register(this)})}injectContentManagerComponent=(s,o,r)=>{T()(this.admin.injectionZones.contentManager[s]?.[o],`The ${s} ${o} zone is not defined in the content manager`),T()(r,"A Component must be provided"),this.admin.injectionZones.contentManager[s][o].push(r)};injectAdminComponent=(s,o,r)=>{T()(this.admin.injectionZones.admin[s]?.[o],`The ${s} ${o} zone is not defined in the admin`),T()(r,"A Component must be provided"),this.admin.injectionZones.admin[s][o].push(r)};async loadAdminTrads(){const s=this.configurations.locales.map(c=>t(95423)(`./${c}.json`).then(({default:y})=>({data:y,locale:c})).catch(()=>({data:null,locale:c})));return(await Promise.all(s)).reduce((c,y)=>(y.data&&(c[y.locale]=y.data),c),{})}async loadTrads(){const s=await this.loadAdminTrads(),o=Object.keys(this.appPlugins).map(R=>{const M=this.appPlugins[R].registerTrads;return M?M({locales:this.configurations.locales}):null}).filter(R=>R),c=(await Promise.all(o)).reduce((R,M)=>{const ue=M.reduce((q,$)=>(q[$.locale]=$.data,q),{});return Object.keys(ue).forEach(q=>{R[q]={...R[q],...ue[q]}}),R},{}),y=this.configurations.locales.reduce((R,M)=>(R[M]={...s[M],...c[M]||{},...this.customConfigurations?.translations?.[M]},R),{});return this.configurations.translations=y,Promise.resolve()}registerHook=(s,o)=>{T()(this.hooksDict[s],`The hook ${s} is not defined. You are trying to register a hook that does not exist in the application.`),this.hooksDict[s].register(o)};registerPlugin=s=>{const o=(0,Ae.Sy)(s);this.plugins[o.pluginId]=o};runHookSeries=(s,o=!1)=>o?this.hooksDict[s].runSeriesAsync():this.hooksDict[s].runSeries();runHookWaterfall=(s,o,r=!1,c)=>r?this.hooksDict[s].runWaterfallAsync(o,c):this.hooksDict[s].runWaterfall(o,c);runHookParallel=s=>this.hooksDict[s].runParallel();render(){const s=this.createStore(),o=d()(Fs,this.configurations.locales||[]),{components:{components:r},fields:{fields:c}}=this.library;return e.createElement(_s,{authLogo:this.configurations.authLogo,components:r,fields:c,customFields:this.customFields,localeNames:o,getAdminInjectedComponents:this.getAdminInjectedComponents,getPlugin:this.getPlugin,messages:this.configurations.translations,menu:this.menu,menuLogo:this.configurations.menuLogo,plugins:this.plugins,runHookParallel:this.runHookParallel,runHookWaterfall:(y,R,M=!1)=>this.runHookWaterfall(y,R,M,s),runHookSeries:this.runHookSeries,themes:this.configurations.themes,settings:this.settings,showTutorials:this.configurations.tutorials,showReleaseNotification:this.configurations.notifications.releases,store:s},e.createElement(e.Fragment,null,e.createElement(I.Helmet,{link:[{rel:"icon",type:"image/png",href:this.configurations.head.favicon}],htmlAttributes:{lang:localStorage.getItem(_e)||"en"}}),e.createElement(i.BrowserRouter,{basename:x.Z},e.createElement(Qt,{store:s}))))}}const Gs=({adminConfig:l={},appPlugins:s,library:o,middlewares:r,reducers:c})=>new Zs({adminConfig:l,appPlugins:s,library:o,middlewares:r,reducers:c})},93343:(b,E,t)=>{"use strict";t.d(E,{Z:()=>n});var e=t(67294);const n=(0,e.createContext)()},50592:(b,E,t)=>{"use strict";t.d(E,{Z:()=>f});var e=t(67294),i=t(93343);const f=()=>{const{changeLocale:m,localeNames:g,messages:d}=(0,e.useContext)(i.Z);return{changeLocale:m,localeNames:g,messages:d}}},79690:(b,E,t)=>{"use strict";t.d(E,{Z:()=>g});var e=t(67294),i=t(27821),n=t(48474);const f=i.default.img`
  height: ${72/16}rem;
`,g=()=>{const{logos:{auth:d}}=(0,n.um)();return e.createElement(f,{src:d?.custom??d.default,"aria-hidden":!0,alt:""})}},47713:(b,E,t)=>{"use strict";t.d(E,{ux:()=>n,_5:()=>m,$l:()=>d,Rj:()=>A});var e=t(67294);const n=(0,e.createContext)({}),m=(0,e.createContext)({}),d=(0,e.createContext)({}),A=(0,e.createContext)({})},63871:(b,E,t)=>{"use strict";t.d(E,{Z:()=>i});const i="/admin/".replace(window.location.origin,"")},80660:(b,E,t)=>{"use strict";t.d(E,{Eo:()=>n,LK:()=>i,No:()=>e,dV:()=>f});const e="Admin/CM/pages/ListView/inject-column-in-table",i="Admin/CM/pages/App/mutate-collection-types-links",n="Admin/CM/pages/EditView/mutate-edit-view-layout",f="Admin/CM/pages/App/mutate-single-types-links"},48474:(b,E,t)=>{"use strict";t.d(E,{um:()=>f,U_:()=>k,Dq:()=>P,H9:()=>ot,bP:()=>T,$_:()=>Ut,rW:()=>Bt,bF:()=>we,G4:()=>wt,Te:()=>Kt,M1:()=>Tt});var e=t(67294),i=t(47713);const f=()=>(0,e.useContext)(i._5);var m=t(95489),g=t(18172);const d={collectionTypes:[],components:[],isLoading:!0,singleTypes:[]},A=(h,p)=>(0,g.default)(h,u=>{switch(p.type){case"GET_MODELS":{u.collectionTypes=d.collectionTypes,u.singleTypes=d.singleTypes,u.components=d.components,u.isLoading=!0;break}case"GET_MODELS_ERROR":{u.collectionTypes=d.collectionTypes,u.singleTypes=d.singleTypes,u.components=d.components,u.isLoading=!1;break}case"GET_MODELS_SUCCEDED":{const C=w=>p.contentTypes.filter(N=>N.isDisplayed&&N.kind===w);u.isLoading=!1,u.collectionTypes=C("collectionType"),u.singleTypes=C("singleType"),u.components=p.components;break}default:return u}}),T=()=>{const h=(0,m.useNotification)(),[p,u]=(0,e.useReducer)(A,d);(0,e.useEffect)(()=>{C()},[]);const C=async()=>{u({type:"GET_MODELS"});try{const[{data:w},{data:N}]=await Promise.all(["components","content-types"].map(H=>(0,m.request)(`/content-manager/${H}`,{method:"GET"})));u({type:"GET_MODELS_SUCCEDED",contentTypes:N,components:w})}catch{u({type:"GET_MODELS_ERROR"}),h({type:"warning",message:{id:"notification.error"}})}};return{...p,getData:C}},I={data:{},error:null,isLoading:!0},v=(h,p)=>(0,g.default)(h,u=>{switch(p.type){case"GET_DATA":{u.isLoading=!0,u.data={},u.error=null;break}case"GET_DATA_SUCCEEDED":{u.data=p.data,u.isLoading=!1,u.error=null;break}case"GET_DATA_ERROR":{u.isLoading=!1,u.error=p.error;break}default:return u}}),k=h=>{const[{data:p,error:u,isLoading:C},w]=(0,e.useReducer)(v,I);return(0,e.useEffect)(()=>{(async()=>{w({type:"GET_DATA"});const{data:H}=await(0,m.request)("/admin/permissions",{method:"GET",params:{role:h}});w({type:"GET_DATA_SUCCEEDED",data:H})})()},[h]),{data:p,error:u,isLoading:C}},L={role:{},permissions:{},isLoading:!0},ne=(h,p)=>(0,g.default)(h,u=>{switch(p.type){case"GET_DATA_SUCCEEDED":{u.role=p.role,u.permissions=p.permissions,u.isLoading=!1;break}case"GET_DATA_ERROR":{u.isLoading=!1;break}case"ON_SUBMIT_SUCCEEDED":{u.role.name=p.name,u.role.description=p.description;break}default:return u}}),P=h=>{const p=(0,m.useNotification)(),[u,C]=(0,e.useReducer)(ne,L);(0,e.useEffect)(()=>{h?w(h):C({type:"GET_DATA_SUCCEEDED",role:{},permissions:[]})},[h]);const w=async H=>{try{const[{data:se},{data:me}]=await Promise.all([`roles/${H}`,`roles/${H}/permissions`].map(Ue=>(0,m.request)(`/admin/${Ue}`,{method:"GET"})));C({type:"GET_DATA_SUCCEEDED",role:se,permissions:me})}catch(se){console.error(se),C({type:"GET_DATA_ERROR"}),p({type:"warning",message:{id:"notification.error"}})}},N=(0,e.useCallback)(H=>{C({type:"ON_SUBMIT_SUCCEEDED",...H})},[]);return{...u,onSubmitSucceeded:N}},Me=(h,p)=>p.map(({permissions:u})=>(0,m.hasPermissions)(h,u)),a=async(h,p)=>{const u=Me(h,p),C=await Promise.all(u);return p.filter((N,H)=>C[H])};var S=t(50361),D=t.n(S);const ye=async(h,p,u)=>{const C=Me(h,p),w=await Promise.all(C),N=p.filter((me,Ue)=>w[Ue]),H=N.findIndex(me=>me.to==="/settings");if(H===-1)return[];const se=D()(N);return se[H].notificationsCount=u?1:0,se};var fe=t(41363),ae=t(87751);const Te={generalSectionLinks:[{icon:fe.Puzzle,intlLabel:{id:"global.plugins",defaultMessage:"Plugins"},to:"/list-plugins",permissions:ae.Z.marketplace.main},{icon:fe.ShoppingCart,intlLabel:{id:"global.marketplace",defaultMessage:"Marketplace"},to:"/marketplace",permissions:ae.Z.marketplace.main},{icon:fe.Cog,intlLabel:{id:"global.settings",defaultMessage:"Settings"},to:"/settings",permissions:[],notificationsCount:0}],pluginsSectionLinks:[],isLoading:!0},nt=(h=Te,p)=>(0,g.default)(h,u=>{switch(p.type){case"SET_SECTION_LINKS":{const{authorizedGeneralSectionLinks:C,authorizedPluginSectionLinks:w}=p.data;u.generalSectionLinks=C,u.pluginsSectionLinks=w;break}case"UNSET_IS_LOADING":{u.isLoading=!1;break}default:return u}}),ot=()=>{const[h,p]=(0,e.useReducer)(nt,Te),{allPermissions:u}=(0,m.useRBACProvider)(),{shouldUpdateStrapi:C}=(0,m.useAppInfos)(),{menu:w}=(0,m.useStrapiApp)(),N=(0,e.useRef)(h.generalSectionLinks),H=(0,e.useRef)(C),se=async(Ue=u)=>{const Qe=await a(Ue,w),_e=await ye(Ue,N.current,H.current);p({type:"SET_SECTION_LINKS",data:{authorizedGeneralSectionLinks:_e,authorizedPluginSectionLinks:Qe}}),p({type:"UNSET_IS_LOADING"})},me=(0,e.useRef)(se);return(0,e.useEffect)(()=>{me.current(u)},[u,p]),h};var K=t(27361),Ze=t.n(K);const Ge=(h,p)=>({...h,isLoading:p}),Re={roles:[],isLoading:!0},le=(h,p)=>(0,g.default)(h,u=>{switch(p.type){case"GET_DATA":{u.isLoading=!0,u.roles=[];break}case"GET_DATA_SUCCEEDED":{u.roles=p.data,u.isLoading=!1;break}case"GET_DATA_ERROR":{u.isLoading=!1;break}default:return u}}),we=(h=!0)=>{const p=(0,m.useNotification)(),[{roles:u,isLoading:C},w]=(0,e.useReducer)(le,Re,()=>Ge(Re,h));(0,e.useEffect)(()=>{h&&N()},[h]);const N=(0,e.useCallback)(async()=>{const H=(0,m.getFetchClient)();try{w({type:"GET_DATA"});const{data:{data:se}}=await H.get("/admin/roles");w({type:"GET_DATA_SUCCEEDED",data:se})}catch(se){const me=Ze()(se,["response","payload","message"],"An error occured");w({type:"GET_DATA_ERROR"}),me!=="Forbidden"&&p({type:"warning",message:me})}},[p]);return{roles:u,isLoading:C,getData:N}};var te=t(96486);const Xe={menu:[],isLoading:!0},at=(h,p)=>(0,g.default)(h,u=>{switch(p.type){case"CHECK_PERMISSIONS_SUCCEEDED":{p.data.forEach(C=>{C.hasPermission&&(0,te.set)(u,["menu",...C.path.split("."),"isDisplayed"],C.hasPermission)}),u.menu.forEach((C,w)=>{u.menu[w].links=C.links.filter(N=>N.isDisplayed===!0)}),u.isLoading=!1;break}default:return u}});var qe=t(57557),gt=t.n(qe),rt=t(89734),z=t.n(rt);const Be=h=>z()(h,p=>p.id),re=h=>h.map(p=>{const u=p.links.map(C=>({...C,isDisplayed:!1}));return{...p,links:u}});var de=t(42982);const Je=[{intlLabel:{id:"global.roles",defaultMessage:"Roles"},to:"/settings/roles",id:"roles",isDisplayed:!1,permissions:ae.Z.settings.roles.main},{intlLabel:{id:"global.users"},to:"/settings/users?pageSize=10&page=1&sort=firstname",id:"users",isDisplayed:!1,permissions:ae.Z.settings.users.main}];var it=function(){return window&&window.strapi&&window.strapi.isEE?t(95662).Z:t(40928).Z}();const Dt=[].concat((0,de.Z)(it),(0,de.Z)(Je)),$e=[{intlLabel:{id:"Settings.application.title",defaultMessage:"Overview"},to:"/settings/application-infos",id:"000-application-infos",isDisplayed:!1,permissions:[]},{intlLabel:{id:"Settings.webhooks.title",defaultMessage:"Webhooks"},to:"/settings/webhooks",id:"webhooks",isDisplayed:!1,permissions:ae.Z.settings.webhooks.main},{intlLabel:{id:"Settings.apiTokens.title",defaultMessage:"API Tokens"},to:"/settings/api-tokens?sort=name:ASC",id:"api-tokens",isDisplayed:!1,permissions:ae.Z.settings["api-tokens"].main},{intlLabel:{id:"Settings.transferTokens.title",defaultMessage:"Transfer Tokens"},to:"/settings/transfer-tokens?sort=name:ASC",id:"transfer-tokens",isDisplayed:!1,permissions:ae.Z.settings["transfer-tokens"].main}];var bt=function(){return window&&window.strapi&&window.strapi.isEE?t(8353).Z:t(88506).Z}();const Ot=[].concat((0,de.Z)($e),(0,de.Z)(bt)),kt=(h,{settings:p,shouldUpdateStrapi:u})=>{const C=p.global.links,w=Be([...C,...Ot]).map(se=>({...se,hasNotification:se.id==="000-application-infos"&&u})),N=Object.values(gt()(p,"global")),H=[{...p.global,links:w},{id:"permissions",intlLabel:{id:"Settings.permissions",defaultMessage:"Administration Panel"},links:Dt},...N];return{...h,menu:re(H)}},Kt=(h=!1)=>{const{allPermissions:p}=(0,m.useRBACProvider)(),{shouldUpdateStrapi:u}=(0,m.useAppInfos)(),{settings:C}=(0,m.useStrapiApp)(),[{isLoading:w,menu:N},H]=(0,e.useReducer)(at,Xe,()=>kt(Xe,{settings:C,shouldUpdateStrapi:u}));return(0,e.useEffect)(()=>{h||(async()=>{const me=async(_e,et)=>({hasPermission:await(0,m.hasPermissions)(p,_e),path:et}),Oe=(_e=>_e.reduce((et,lt,ut)=>{const xt=ct=>ct.map((ze,Ce)=>me(ct[Ce].permissions,`${ut}.links.${Ce}`));return[...et,...xt(lt.links)]},[]))(N),Qe=await Promise.all(Oe);H({type:"CHECK_PERMISSIONS_SUCCEEDED",data:Qe})})()},[p,h]),{isLoading:w,menu:N}};var ft=t(38683);const ht={fieldsToPick:[],formErrors:{},initialData:{},isLoading:!0,modifiedData:{},showHeaderButtonLoader:!1,showHeaderLoader:!0},Ht=(h,p)=>(0,g.default)(h,u=>{switch(p.type){case"GET_DATA_SUCCEEDED":{u.isLoading=!1,u.showHeaderLoader=!1,u.initialData=(0,te.pick)(p.data,h.fieldsToPick),u.modifiedData=(0,te.pick)(p.data,h.fieldsToPick);break}case"ON_CANCEL":{u.modifiedData=h.initialData,u.formErrors={};break}case"ON_CHANGE":{p.inputType==="password"&&!p.value?(0,te.unset)(u.modifiedData,p.keys.split(".")):p.keys.includes("username")&&!p.value?(0,te.set)(u.modifiedData,p.keys.split("."),null):(0,te.set)(u.modifiedData,p.keys.split("."),p.value);break}case"ON_SUBMIT":{u.showHeaderButtonLoader=!0;break}case"ON_SUBMIT_SUCCEEDED":{u.initialData=(0,te.pick)(p.data,h.fieldsToPick),u.modifiedData=(0,te.pick)(p.data,h.fieldsToPick),u.showHeaderButtonLoader=!1;break}case"SET_ERRORS":{u.formErrors=p.errors,u.showHeaderButtonLoader=!1;break}default:return u}}),Et=(h,p)=>({...h,fieldsToPick:p}),wt=(h,p,u,C)=>{const[{formErrors:w,initialData:N,isLoading:H,modifiedData:se,showHeaderButtonLoader:me,showHeaderLoader:Ue},Oe]=(0,e.useReducer)(Ht,ht,()=>Et(ht,C)),Qe=(0,m.useNotification)(),{lockApp:_e,unlockApp:et}=(0,m.useOverlayBlocker)();return(0,e.useEffect)(()=>{h&&(async()=>{try{const{data:Ce}=await(0,m.request)(h,{method:"GET"});Oe({type:"GET_DATA_SUCCEEDED",data:Ce,fieldsToPick:C})}catch(Ce){console.error(Ce.response),Qe({type:"warning",message:{id:"notification.error"}})}})()},[h]),[{formErrors:w,initialData:N,isLoading:H,modifiedData:se,showHeaderButtonLoader:me,showHeaderLoader:Ue},Oe,{handleCancel:()=>{Oe({type:"ON_CANCEL"})},handleChange:({target:{name:ze,value:Ce,type:Ye}})=>{Oe({type:"ON_CHANGE",inputType:Ye,keys:ze,value:Ce})},handleSubmit:async ze=>{ze.preventDefault();const Ce=await(0,ft.R6)(se,p);if(Oe({type:"SET_ERRORS",errors:Ce||{}}),!Ce)try{_e(),Oe({type:"ON_SUBMIT"});const Ye=(0,te.omit)(se,["confirmPassword","registrationToken"]);Ye.roles&&(Ye.roles=Ye.roles.map(vt=>vt.id));const{data:Ve}=await(0,m.request)(h,{method:"PUT",body:Ye});u(Ve),Oe({type:"ON_SUBMIT_SUCCEEDED",data:Ve}),Qe({type:"success",message:{id:"notification.success.saved"}})}catch(Ye){const Ve=(0,te.get)(Ye,"response.payload",{data:{}});(0,te.has)(Ve,"data")&&typeof Ve.data=="string"?Qe({type:"warning",message:Ve.data}):Qe({type:"warning",message:Ve.message});const vt=(0,ft.Iz)(Ve);Oe({type:"SET_ERRORS",errors:vt})}finally{et()}},setField:(ze,Ce)=>{Oe({type:"ON_CHANGE",keys:ze,value:Ce})}}]},Ut=()=>(0,e.useContext)(i.$l),yt=!JSON.parse(localStorage.getItem("STRAPI_UPDATE_NOTIF")),Vt=()=>{const{latestStrapiReleaseTag:h,shouldUpdateStrapi:p}=useAppInfos(),u=useNotification();return useEffect(()=>{p&&yt&&u({type:"info",message:{id:"notification.version.update.message"},link:{url:`https://github.com/strapi/strapi/releases/tag/${h}`,label:{id:"global.see-more"}},blockTransition:!0,onClose:()=>localStorage.setItem("STRAPI_UPDATE_NOTIF",!0)})},[h,p,u]),null},Xt=null,Tt=()=>(0,e.useContext)(i.Rj),Bt=(h,p,u)=>{const[C,w]=(0,e.useState)(!1),N=(0,m.useNotification)(),{post:H}=(0,m.useFetchClient)();return{regenerateData:async()=>{try{const{data:{data:{accessKey:me}}}=await H(`${h}${p}/regenerate`);w(!1),u(me)}catch(me){w(!1),N({type:"warning",message:(0,te.get)(me,"response.data.message","notification.error")})}},isLoadingConfirmation:C}}},40928:(b,E,t)=>{"use strict";t.d(E,{Z:()=>e});const e=[]},88506:(b,E,t)=>{"use strict";t.d(E,{Z:()=>e});const e=[]},36206:(b,E,t)=>{"use strict";t.d(E,{sg:()=>T,bU:()=>I,ZP:()=>v});var e=t(67294),i=t(27821),n=t(45697),f=t.n(n),m=t(28702),g=t(97132),d=t(50592);const A=()=>{const{changeLocale:_,localeNames:k}=(0,d.Z)(),{locale:L}=(0,g.useIntl)();return e.createElement(m.SimpleMenu,{label:k[L]},Object.keys(k).map(B=>e.createElement(m.MenuItem,{onClick:()=>_(B),key:B},k[B])))},Z=(0,i.default)(m.Box)`
  margin: 0 auto;
  width: 552px;
`,T=(0,i.default)(m.Flex)`
  flex-direction: column;
`,I=({children:_})=>e.createElement(Z,{shadow:"tableShadow",hasRadius:!0,paddingTop:9,paddingBottom:9,paddingLeft:10,paddingRight:10,background:"neutral0",justifyContent:"center"},_);I.propTypes={children:f().node.isRequired};const x=({children:_})=>e.createElement("div",null,e.createElement(m.Flex,{as:"header",justifyContent:"flex-end"},e.createElement(m.Box,{paddingTop:6,paddingRight:8},e.createElement(A,null))),e.createElement(m.Box,{paddingTop:2,paddingBottom:11},_));x.propTypes={children:f().node.isRequired};const v=x},77981:(b,E,t)=>{"use strict";t.d(E,{Z:()=>i});const i=[]},68070:(b,E,t)=>{"use strict";t.d(E,{Z:()=>m});var e=t(27821),i=t(28702),n=t.n(i);const m=(0,e.default)(i.FieldAction)`
  svg {
    height: 1rem;
    width: 1rem;
    path {
      fill: ${({theme:g})=>g.colors.neutral600};
    }
  }
`},29773:(b,E,t)=>{"use strict";t.d(E,{Z:()=>B});var e=t(67294),i=t(95489),n=t.n(i),f=t(41363),m=t.n(f),g=t(28702),d=t.n(g),O=t(45697),A=t.n(O),Z=t(97132),T=t(27821),I=t(80831),x=t(36206),v=t(79690),_=t(68070);const k=(0,T.default)(g.TextInput)`
  ::-ms-reveal {
    display: none;
  }
`,L=({onSubmit:ne,schema:Ae,children:P})=>{const[ge,Me]=(0,e.useState)(!1),{formatMessage:V}=(0,Z.useIntl)();return e.createElement(g.Main,null,e.createElement(x.bU,null,e.createElement(I.Formik,{enableReinitialize:!0,initialValues:{email:"",password:"",rememberMe:!1},onSubmit:ne,validationSchema:Ae,validateOnChange:!1},({values:a,errors:S,handleChange:D})=>e.createElement(i.Form,{noValidate:!0},e.createElement(x.sg,null,e.createElement(v.Z,null),e.createElement(g.Box,{paddingTop:6,paddingBottom:1},e.createElement(g.Typography,{variant:"alpha",as:"h1"},V({id:"Auth.form.welcome.title",defaultMessage:"Welcome!"}))),e.createElement(g.Box,{paddingBottom:7},e.createElement(g.Typography,{variant:"epsilon",textColor:"neutral600"},V({id:"Auth.form.welcome.subtitle",defaultMessage:"Log in to your Strapi account"}))),S.errorMessage&&e.createElement(g.Typography,{id:"global-form-error",role:"alert",tabIndex:-1,textColor:"danger600"},S.errorMessage)),e.createElement(g.Stack,{spacing:6},e.createElement(g.TextInput,{error:S.email?V({id:S.email,defaultMessage:"This value is required."}):"",value:a.email,onChange:D,label:V({id:"Auth.form.email.label",defaultMessage:"Email"}),placeholder:V({id:"Auth.form.email.placeholder",defaultMessage:"kai@doe.com"}),name:"email",required:!0}),e.createElement(k,{error:S.password?V({id:S.password,defaultMessage:"This value is required."}):"",onChange:D,value:a.password,label:V({id:"global.password",defaultMessage:"Password"}),name:"password",type:ge?"text":"password",endAction:e.createElement(_.Z,{onClick:G=>{G.stopPropagation(),Me(ye=>!ye)},label:V(ge?{id:"Auth.form.password.show-password",defaultMessage:"Show password"}:{id:"Auth.form.password.hide-password",defaultMessage:"Hide password"})},ge?e.createElement(f.Eye,null):e.createElement(f.EyeStriked,null)),required:!0}),e.createElement(g.Checkbox,{onValueChange:G=>{D({target:{value:G,name:"rememberMe"}})},value:a.rememberMe,"aria-label":"rememberMe",name:"rememberMe"},V({id:"Auth.form.rememberMe.label",defaultMessage:"Remember me"})),e.createElement(g.Button,{fullWidth:!0,type:"submit"},V({id:"Auth.form.button.login",defaultMessage:"Login"}))))),P),e.createElement(g.Flex,{justifyContent:"center"},e.createElement(g.Box,{paddingTop:4},e.createElement(i.Link,{to:"/auth/forgot-password"},V({id:"Auth.link.forgot-password",defaultMessage:"Forgot your password?"})))))};L.defaultProps={children:null,onSubmit(){}},L.propTypes={children:A().node,onSubmit:A().func,schema:A().shape({type:A().string.isRequired}).isRequired};const B=L},73347:(b,E,t)=>{"use strict";t.d(E,{Z:()=>d});var e=t(67294),i=t(45697),n=t.n(i),f=t(29773),m=t(36206);const g=O=>e.createElement(m.ZP,null,e.createElement(f.Z,{...O}));g.defaultProps={onSubmit:O=>O.preventDefault()},g.propTypes={onSubmit:n().func};const d=g},23330:(b,E,t)=>{"use strict";t.r(E),t.d(E,{default:()=>Z});var e=t(67294),i=t(95489),n=t.n(i),f=t(28702),m=t.n(f),g=t(41363),d=t.n(g),O=t(97132);const Z=()=>{const{formatMessage:T}=(0,O.useIntl)();return(0,i.useFocusWhenNavigate)(),e.createElement(f.Main,{labelledBy:"title"},e.createElement(f.HeaderLayout,{id:"title",title:T({id:"content-manager.pageNotFound",defaultMessage:"Page not found"})}),e.createElement(f.ContentLayout,null,e.createElement(f.EmptyStateLayout,{action:e.createElement(i.LinkButton,{variant:"secondary",endIcon:e.createElement(g.ArrowRight,null),to:"/"},T({id:"app.components.NotFoundPage.back",defaultMessage:"Back to homepage"})),content:T({id:"app.page.not.found",defaultMessage:"Oops! We can't seem to find the page you're looging for..."}),hasRadius:!0,icon:e.createElement(g.EmptyPictures,{width:"10rem"}),shadow:"tableShadow"})))}},69623:(b,E,t)=>{"use strict";t.d(E,{Z:()=>e});const e={}},27858:(b,E,t)=>{"use strict";t.d(E,{Z:()=>i});const i=({data:n})=>{try{return Object.keys(n).reduce((f,m)=>{const g=n[m][0];return f[m]={id:g,defaultMessage:g},f},{})}catch{return{}}}},38683:(b,E,t)=>{"use strict";t.d(E,{R6:()=>n,ot:()=>Z,Iz:()=>T.Z,Pp:()=>Me,IF:()=>ge,Qy:()=>a,WW:()=>k});var e=t(95489);const n=async(S,D)=>{let G=null;try{await D.validate(S,{abortEarly:!1})}catch(ye){G=(0,e.getYupInnerErrors)(ye)}return G};var f=t(67294),m=t(45697),g=t.n(m),d=t(49656);const O=({loadComponent:S})=>{const[D,G]=(0,f.useState)(null);return(0,f.useEffect)(()=>{(async()=>{try{const fe=await S();G(()=>fe.default)}catch(fe){console.log(fe)}})()},[S]),D?f.createElement(D,null):f.createElement(e.LoadingIndicatorPage,null)},A=(S,D,G)=>f.createElement(d.Route,{render:()=>f.createElement(O,{loadComponent:S}),key:D,path:D,exact:G||!1});O.propTypes={loadComponent:g().func.isRequired};const Z=A;var T=t(27858),I=t(96486);const x=S=>{const D=get(S,["options","timestamps"]);let G=Array.isArray(D)?D:[];const fe=[...["id","_id"],...G,"publishedAt"],ae=get(S,["attributes"],{});return Object.keys(ae).reduce((Te,De)=>(fe.includes(De)||Te.push({...ae[De],attributeName:De}),Te),[])},v=null,k=S=>S.filter((D,G,ye)=>ye.findIndex(fe=>fe.key===D.key)===G),L=S=>sortBy(S,D=>D.name),B=null,ne=S=>Array.from(new Set(Object.entries(S).reduce((D,G)=>{const ye=fe=>fe.reduce((ae,Te)=>{let De=ae;return Te.actions&&(De=[...De,...Te.actions]),typeof Te=="object"&&!Te.actions&&(De=[...De,...Object.keys(Te)]),De},[]);return[...D,...ye([...Object.values(G[1].attributes||{}),get(G[1],"contentTypeActions",{})])]},[]))),Ae=null,ge=S=>`/admin/${S}`,Me=(S,D="")=>[S,D].filter(G=>G).join(" "),V={bufferToHex(S){return[...new Uint8Array(S)].map(D=>D.toString(16).padStart(2,"0")).join("")},async digestMessage(S){const D=new TextEncoder().encode(S),G=await crypto.subtle.digest("SHA-256",D);return this.bufferToHex(G)}};async function a(S){if(!S)return null;try{return await V.digestMessage(S.email)}catch{return null}}},90594:(b,E,t)=>{"use strict";t.d(E,{pl:()=>A,q5:()=>T.Z});var e=t(67294),i=t(95489),n=t(38683),f=t(18172);const m={data:[],isLoading:!0},d=(I,x)=>(0,f.default)(I,v=>{switch(x.type){case"GET_DATA_SUCCEEDED":{v.data=x.data,v.isLoading=!1;break}case"GET_DATA_ERROR":{v.isLoading=!1;break}default:return v}}),A=({ssoEnabled:I})=>{const[x,v]=(0,e.useReducer)(d,m),_=(0,i.useNotification)();(0,e.useEffect)(()=>{k()},[]);const k=async()=>{try{if(!I){v({type:"GET_DATA_SUCCEEDED",data:[]});return}const L=(0,n.IF)("providers"),B=await(0,i.request)(L,{method:"GET"});v({type:"GET_DATA_SUCCEEDED",data:B})}catch(L){console.error(L),v({type:"GET_DATA_ERROR"}),_({type:"warning",message:{id:"notification.error"}})}};return x};var Z=t(94018),T=t(96510)},94018:(b,E,t)=>{"use strict";t.d(E,{Z:()=>T});var e=t(67294),i=t(97132),n=t(75551),f=t(95489),m=t.n(f),g=t(96510);const d="strapi-notification-seat-limit",O="https://cloud.strapi.io/profile/billing",A="https://strapi.io/billing/request-seats",T=()=>{const{formatMessage:I}=(0,i.useIntl)();let{license:x}=(0,g.Z)();const v=(0,f.useNotification)(),{pathname:_}=(0,n.useLocation)();(0,e.useEffect)(()=>{if(!x?.data)return;const{enforcementUserCount:k,permittedSeats:L,licenseLimitStatus:B,isHostedOnStrapiCloud:ne}=x?.data??{},Ae=L&&!window.sessionStorage.getItem(`${d}-${_}`)&&(B==="AT_LIMIT"||B==="OVER_LIMIT");let P;B==="OVER_LIMIT"?P="warning":B==="AT_LIMIT"&&(P="softWarning"),Ae&&v({type:P,message:I({id:"notification.ee.warning.over-.message",defaultMessage:"Add seats to {licenseLimitStatus, select, OVER_LIMIT {invite} other {re-enable}} Users. If you already did it but it's not reflected in Strapi yet, make sure to restart your app."},{licenseLimitStatus:B}),title:I({id:"notification.ee.warning.at-seat-limit.title",defaultMessage:"{licenseLimitStatus, select, OVER_LIMIT {Over} other {At}} seat limit ({enforcementUserCount}/{permittedSeats})"},{licenseLimitStatus:B,enforcementUserCount:k,permittedSeats:L}),link:{url:ne?O:A,label:I({id:"notification.ee.warning.seat-limit.link",defaultMessage:"{isHostedOnStrapiCloud, select, true {ADD SEATS} other {CONTACT SALES}}"},{isHostedOnStrapiCloud:ne})},blockTransition:!0,onClose(){window.sessionStorage.setItem(`${d}-${_}`,!0)}})},[v,x.data,_,I])}},96510:(b,E,t)=>{"use strict";t.d(E,{Z:()=>d});var e=t(95489),i=t.n(e),n=t(23724),f=t.n(n),m=t(87751);const d=()=>{const O=(0,e.useRBAC)(m.Z.settings.users),{isLoading:A,allowedActions:{canRead:Z,canCreate:T,canUpdate:I,canDelete:x}}=O,v=Z&&T&&I&&x,{get:_}=(0,e.useFetchClient)(),k=async()=>{const{data:{data:B}}=await _("/admin/license-limit-information");return B};return{license:(0,n.useQuery)(["ee","license-limit-info"],k,{enabled:!A&&v})}}},95662:(b,E,t)=>{"use strict";t.d(E,{Z:()=>f});var e=t(87751);const f=[...strapi.features.isEnabled(strapi.features.AUDIT_LOGS)?[{intlLabel:{id:"global.auditLogs",defaultMessage:"Audit Logs"},to:"/settings/audit-logs?pageSize=50&page=1&sort=date:DESC",id:"auditLogs",isDisplayed:!1,permissions:e.Z.settings.auditLogs.main}]:[]]},8353:(b,E,t)=>{"use strict";t.d(E,{Z:()=>f});var e=t(87751);const f=[...strapi.features.isEnabled(strapi.features.SSO)?[{intlLabel:{id:"Settings.sso.title",defaultMessage:"Single Sign-On"},to:"/settings/single-sign-on",id:"sso",isDisplayed:!1,permissions:e.Z.settings.sso.main}]:[]]},35499:(b,E,t)=>{"use strict";t.d(E,{Z:()=>T});var e=t(67294),i=t(49656),n=t(97132),f=t(36808),m=t.n(f),g=t(95489),d=t(38683);const A=()=>{const{params:{authResponse:I}}=(0,i.useRouteMatch)("/auth/login/:authResponse"),{formatMessage:x}=(0,n.useIntl)(),{push:v}=(0,i.useHistory)(),_=(0,e.useRef)(x);let k=(0,e.useCallback)(()=>{v(`/auth/oops?info=${encodeURIComponent(_.current({id:"Auth.form.button.login.providers.error",defaultMessage:"We cannot connect you through the selected provider."}))}`)},[v]);const L=(0,e.useCallback)(async()=>{try{const B=m().get("jwtToken");if(g.auth.clearAppStorage(),B){g.auth.setToken(B,!0);const ne=(0,d.IF)("users/me"),{data:Ae}=await(0,g.request)(ne,{method:"GET"});g.auth.setUserInfo(Ae,!0),m().remove("jwtToken"),v("/auth/login")}}catch{k()}},[v,k]);return(0,e.useEffect)(()=>{I==="error"&&k(),I==="success"&&L()},[I,L,k]),e.createElement(g.LoadingIndicatorPage,null)},T=[{Component:()=>({default:A}),to:"/auth/login/:authResponse",exact:!0}]},9442:(b,E,t)=>{"use strict";t.d(E,{Z:()=>v});var e=t(67294),i=t(45697),n=t.n(i),f=t(27821),m=t(28702),g=t.n(m),d=t(97132),O=t(29773),A=t(90594),Z=t(36206),T=t(51780);const I=(0,f.default)(m.Divider)`
  flex: 1;
`,x=_=>{const k=strapi.features.isEnabled(strapi.features.SSO),{isLoading:L,data:B}=(0,A.pl)({ssoEnabled:k}),{formatMessage:ne}=(0,d.useIntl)();return!k||!L&&B.length===0?e.createElement(Z.ZP,null,e.createElement(O.Z,{..._})):e.createElement(Z.ZP,null,e.createElement(O.Z,{..._},e.createElement(m.Box,{paddingTop:7},e.createElement(m.Stack,{spacing:7},e.createElement(m.Flex,null,e.createElement(I,null),e.createElement(m.Box,{paddingLeft:3,paddingRight:3},e.createElement(m.Typography,{variant:"sigma",textColor:"neutral600"},ne({id:"Auth.login.sso.divider"}))),e.createElement(I,null)),e.createElement(T.Z,{providers:B,displayAllProviders:!1})))))};x.defaultProps={onSubmit:_=>_.preventDefault(),requestError:null},x.propTypes={formErrors:n().object.isRequired,modifiedData:n().object.isRequired,onChange:n().func.isRequired,onSubmit:n().func,requestError:n().object};const v=x},51780:(b,E,t)=>{"use strict";t.d(E,{Z:()=>x});var e=t(67294),i=t(45697),n=t.n(i),f=t(28702),m=t.n(f),g=t(27821),d=t(97132),O=t(49656);const A=g.default.a`
  width: ${136/16}rem;
  display: flex;
  justify-content: center;
  align-items: center;
  height: ${48/16}rem;
  border: 1px solid ${({theme:v})=>v.colors.neutral150};
  border-radius: ${({theme:v})=>v.borderRadius};
  text-decoration: inherit;
  &:link {
    text-decoration: none;
  }
  color: ${({theme:v})=>v.colors.neutral600};
`,Z=(0,g.default)(f.Flex)`
  & a:not(:first-child):not(:last-child) {
    margin: 0 ${({theme:v})=>v.spaces[2]};
  }
  & a:first-child {
    margin-right: ${({theme:v})=>v.spaces[2]};
  }
  & a:last-child {
    margin-left: ${({theme:v})=>v.spaces[2]};
  }
`,T=({provider:v})=>e.createElement(f.Tooltip,{label:v.displayName},e.createElement(A,{href:`${strapi.backendURL}/admin/connect/${v.uid}`},v.icon?e.createElement("img",{src:v.icon,"aria-hidden":!0,alt:"",height:"32px"}):e.createElement(f.Typography,null,v.displayName)));T.propTypes={provider:n().shape({icon:n().string,displayName:n().string.isRequired,uid:n().string.isRequired}).isRequired};const I=({providers:v,displayAllProviders:_})=>{const{formatMessage:k}=(0,d.useIntl)();return _?e.createElement(f.Grid,{gap:4},v.map(L=>e.createElement(f.GridItem,{key:L.uid,col:4},e.createElement(T,{provider:L})))):v.length>2&&!_?e.createElement(f.Grid,{gap:4},v.slice(0,2).map(L=>e.createElement(f.GridItem,{key:L.uid,col:4},e.createElement(T,{provider:L}))),e.createElement(f.GridItem,{col:4},e.createElement(f.Tooltip,{label:k({id:"global.see-more"})},e.createElement(A,{as:O.Link,to:"/auth/providers"},e.createElement("span",{"aria-hidden":!0},"\u2022\u2022\u2022"))))):e.createElement(Z,{justifyContent:"center"},v.map(L=>e.createElement(T,{key:L.uid,provider:L})))};I.defaultProps={displayAllProviders:!0},I.propTypes={providers:n().arrayOf(n().object).isRequired,displayAllProviders:n().bool};const x=I},98837:(b,E,t)=>{"use strict";t.d(E,{Z:()=>k});var e=t(67294),i=t(49656),n=t(27821),f=t(95489),m=t(28702),g=t(97132),d=t(90594),O=t(36206),A=t(51780),Z=t(79690);const T=(0,n.default)(m.Divider)`
  flex: 1;
`,x=()=>{const L=strapi.features.isEnabled(strapi.features.SSO),{push:B}=(0,i.useHistory)(),{formatMessage:ne}=(0,g.useIntl)(),{isLoading:Ae,data:P}=(0,d.pl)({ssoEnabled:L}),ge=()=>{B("/auth/login")};return!L||!Ae&&P.length===0?e.createElement(i.Redirect,{to:"/auth/login"}):e.createElement(O.ZP,null,e.createElement(m.Main,null,e.createElement(O.bU,null,e.createElement(O.sg,null,e.createElement(Z.Z,null),e.createElement(m.Box,{paddingTop:6,paddingBottom:1},e.createElement(m.Typography,{as:"h1",variant:"alpha"},ne({id:"Auth.form.welcome.title"}))),e.createElement(m.Box,{paddingBottom:7},e.createElement(m.Typography,{variant:"epsilon",textColor:"neutral600"},ne({id:"Auth.login.sso.subtitle"})))),e.createElement(m.Stack,{spacing:7},Ae?e.createElement(m.Flex,{justifyContent:"center"},e.createElement(m.Loader,null,ne({id:"Auth.login.sso.loading"}))):e.createElement(A.Z,{providers:P}),e.createElement(m.Flex,null,e.createElement(T,null),e.createElement(m.Box,{paddingLeft:3,paddingRight:3},e.createElement(m.Typography,{variant:"sigma",textColor:"neutral600"},ne({id:"or"}))),e.createElement(T,null)),e.createElement(m.Button,{fullWidth:!0,size:"L",onClick:ge},ne({id:"Auth.form.button.login.strapi"})))),e.createElement(m.Flex,{justifyContent:"center"},e.createElement(m.Box,{paddingTop:4},e.createElement(f.Link,{to:"/auth/forgot-password"},e.createElement(m.Typography,{variant:"pi"},ne({id:"Auth.link.forgot-password"})))))))};var v=t(42243);const k={...v.Z,providers:{Component:x,endPoint:null,fieldsToDisable:[],fieldsToOmit:[],schema:null,inputsPrefix:""}}},2199:(b,E,t)=>{"use strict";t.d(E,{Z:()=>i});const i={settings:{auditLogs:{main:[{action:"admin::audit-logs.read",subject:null}],read:[{action:"admin::audit-logs.read",subject:null}]},sso:{main:[{action:"admin::provider-login.read",subject:null}],read:[{action:"admin::provider-login.read",subject:null}],update:[{action:"admin::provider-login.update",subject:null}]}}}},61473:(b,E,t)=>{"use strict";b.exports=t.p+"70674f63fc3904c20de0.svg"}}]);
